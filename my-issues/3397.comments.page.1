[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520581","html_url":"https://github.com/coq/coq/issues/3397#issuecomment-337520581","issue_url":"https://api.github.com/repos/coq/coq/issues/3397","id":337520581,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDU4MQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-24T15:19:39Z","updated_at":"2017-10-18T09:21:20Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nClass foo := { F : nat }.\nClass bar := { B : nat }.\nInstance: foo := { F := 0 }.\nInstance: foo := { F := 1 }.\nInstance: bar := { B := 0 }.\nSet Printing All.\nDefinition BAZ := eq_refl : @ F _ = @ B _.\n(* Toplevel input, characters 18-25:\nError: The term \"@ eq_refl ?8 ?9\" has type \"@ eq ?8 ?9 ?9\"\n while it is expected to have type\n \"@ eq nat (@ F foo_instance_1) (@ B bar_instance_0)\". *)\n\n\nIf we switch the order of the instances, then they resolve fine, by chance.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520582","html_url":"https://github.com/coq/coq/issues/3397#issuecomment-337520582","issue_url":"https://api.github.com/repos/coq/coq/issues/3397","id":337520582,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDU4Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-26T12:45:21Z","updated_at":"2017-10-18T09:21:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nHmm, no, that's not gonna happen :) Again, you're using typeclass resolution for something it is not made for. Classes are indexed by their parameters not their fields. Also, even with canonical structures this test case will fail as there is no concrete natural number to infer a record from here, only two existentials of record type.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]