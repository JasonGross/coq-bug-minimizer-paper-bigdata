[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522595","html_url":"https://github.com/coq/coq/issues/3523#issuecomment-337522595","issue_url":"https://api.github.com/repos/coq/coq/issues/3523","id":337522595,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjU5NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-15T21:51:17Z","updated_at":"2021-10-26T18:20:17Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nHere is some code that works:\r\n```coq\r\nModule foo.\r\n  Record foor := { foof : Type }.\r\nEnd foo.\r\n\r\nModule bar.\r\n  Import foo.\r\n  Goal forall x : foor, x = x.\r\n  Proof.\r\n    intro x.\r\n    destruct x.\r\n    Show.\r\n    revert foof0.\r\n    reflexivity.\r\n  Qed.\r\nEnd bar.\r\n```\r\n\r\nThe `Show.` gives\r\n```\r\n1 subgoal\r\n\r\n  foof0 : Type\r\n  ============================\r\n   {| foof := foof0 |} = {| foof := foof0 |}\r\n```\r\n\r\n\r\n\r\n\r\nBut if I split it into two files, it stops working:\r\n```bash\r\njgross@cagnode17:/tmp/bar$ cat foo.v\r\n```\r\n```coq\r\nRecord foor := { foof : Type }.\r\n```\r\n```bash\r\njgross@cagnode17:/tmp/bar$ cat bar.v\r\n```\r\n```coq\r\nRequire foo.\r\nImport foo.\r\nGoal forall x : foor, x = x.\r\nProof.\r\n  intro x.\r\n  destruct x.\r\n  Show.\r\n  revert foof0.\r\n  reflexivity.\r\nQed.\r\n```\r\n```bash\r\njgross@cagnode17:/tmp/bar$ coqc foo bar\r\n```\r\n```\r\n1 subgoal\r\n\r\n  foof : Type\r\n  ============================\r\n   {| foof := foof |} = {| foof := foof |}\r\nFile \"./bar.v\", line 9, characters 9-14:\r\nError: No such hypothesis: foof0\r\n```\r\n\r\n\r\n\r\nI care about this mostly because it breaks my bug-minimizier.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/952194824","html_url":"https://github.com/coq/coq/issues/3523#issuecomment-952194824","issue_url":"https://api.github.com/repos/coq/coq/issues/3523","id":952194824,"node_id":"IC_kwDOABUDh844wVcI","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2021-10-26T18:20:40Z","updated_at":"2021-10-26T18:20:40Z","author_association":"MEMBER","body":"Just ran into this again, cc ... @herbelin ?","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/952194824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/952200486","html_url":"https://github.com/coq/coq/issues/3523#issuecomment-952200486","issue_url":"https://api.github.com/repos/coq/coq/issues/3523","id":952200486,"node_id":"IC_kwDOABUDh844wW0m","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2021-10-26T18:27:46Z","updated_at":"2021-10-26T18:27:46Z","author_association":"MEMBER","body":"Would it be possible to add a deprecated flag that changes the behavior to be uniform (I don't care which behavior is chosen, just that it not depend on the file in which the record is defined), and then set this flag in the compatibility file?  It's straightforward to generate (if not particularly easy to automate) backwards-compatible updates to the CI.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/952200486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/952204447","html_url":"https://github.com/coq/coq/issues/3523#issuecomment-952204447","issue_url":"https://api.github.com/repos/coq/coq/issues/3523","id":952204447,"node_id":"IC_kwDOABUDh844wXyf","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2021-10-26T18:33:19Z","updated_at":"2021-10-26T18:33:19Z","author_association":"MEMBER","body":"At the very least, I'd like a variant of `Set Mangle Names` that mangles only the names that would be different if a record defined in another file were instead defined in the current one; this setting would be sufficient to test a development for compatibility with this issue.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/952204447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]