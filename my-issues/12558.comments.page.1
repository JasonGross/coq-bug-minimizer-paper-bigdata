[{"url":"https://api.github.com/repos/coq/coq/issues/comments/647146694","html_url":"https://github.com/coq/coq/issues/12558#issuecomment-647146694","issue_url":"https://api.github.com/repos/coq/coq/issues/12558","id":647146694,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzE0NjY5NA==","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2020-06-21T16:01:32Z","updated_at":"2020-06-21T16:01:32Z","author_association":"MEMBER","body":"Seems like some kind of cyclic term is being created, the anomaly is due to the printer getting into a loop:\r\n\r\n```\r\n> Check unwrap_refl_tac (option_map _ (Some 0)).\r\n>                        ^^^^^^^^^^^^^^^^^^^^^\r\nError:\r\n<in exception printer>:\r\nRaised by primitive operation at file \"clib/int.ml\", line 52, characters 31-40\r\nCalled from file \"engine/evd.ml\", line 624, characters 8-37\r\nCalled from file \"engine/evd.ml\", line 631, characters 35-61\r\nCalled from file \"engine/evd.ml\", line 1330, characters 13-41\r\nRe-raised at file \"engine/evd.ml\", line 1331, characters 44-48\r\nCalled from file \"engine/univSubst.ml\", line 135, characters 17-31\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\nCalled from file \"engine/univSubst.ml\", line 134, characters 18-41\r\nCalled from file \"kernel/constr.ml\", line 651, characters 15-18\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\nCalled from file \"engine/univSubst.ml\", line 134, characters 18-41\r\nCalled from file \"kernel/constr.ml\", line 651, characters 15-18\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\nCalled from file \"engine/univSubst.ml\", line 134, characters 18-41\r\nCalled from file \"kernel/constr.ml\", line 651, characters 15-18\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\nCalled from file \"engine/univSubst.ml\", line 134, characters 18-41\r\nCalled from file \"kernel/constr.ml\", line 651, characters 15-18\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\n....\r\nCalled from file \"clib/cList.ml\", line 1033, characters 15-18\r\nCalled from file \"engine/univSubst.ml\", line 134, characters 18-41\r\nCalled from file \"kernel/constr.ml\", line 651, characters 15-18\r\n<original exception:\r\nAnomaly \"Uncaught exception Stack overflow.\"\r\nPlease report at http://coq.inria.fr/bugs/.\r\nRaised at file \"clib/exninfo.ml\", line 80, characters 10-11\r\nCalled from file \"set.ml\", line 376, characters 35-38\r\nCalled from file \"pretyping/pretyping.ml\", line 329, characters 26-79\r\nCalled from file \"pretyping/pretyping.ml\", line 337, characters 14-60\r\nCalled from file \"pretyping/pretyping.ml\", line 1358, characters 22-65\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 169, characters 6-9\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 557, characters 4-75\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 736, characters 8-25\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 750, characters 6-51\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 757, characters 6-28\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 1239, characters 31-69\r\nCalled from file \"engine/proofview.ml\", line 1274, characters 8-12\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"proofs/proof.ml\", line 383, characters 4-42\r\nCalled from file \"proofs/proof.ml\", line 581, characters 8-30\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"proofs/proof.ml\", line 585, characters 6-30\r\nCalled from file \"plugins/ltac/tacinterp.ml\", line 2112, characters 21-72\r\nCalled from file \"pretyping/pretyping.ml\", line 672, characters 21-69\r\nCalled from file \"pretyping/cases.ml\", line 1270, characters 17-79\r\nCalled from file \"pretyping/cases.ml\", line 1472, characters 19-35\r\nCalled from file \"pretyping/cases.ml\", line 2712, characters 19-49\r\nCalled from file \"pretyping/cases.ml\", line 78, characters 10-13\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"pretyping/cases.ml\", line 2720, characters 10-58\r\nCalled from file \"pretyping/pretyping.ml\", line 1306, characters 21-79\r\nCalled from file \"pretyping/pretyping.ml\", line 1354, characters 20-71\r\nCalled from file \"vernac/vernacentries.ml\", line 1632, characters 17-106\r\nCalled from file \"vernac/vernacentries.ml\", line 2191, characters 8-49\r\nCalled from file \"vernac/vernacinterp.ml\", line 45, characters 4-13\r\nCalled from file \"vernac/vernacinterp.ml\", line 203, characters 20-60\r\nCalled from file \"lib/flags.ml\", line 17, characters 14-17\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"vernac/vernacinterp.ml\", line 246, characters 18-43\r\nCalled from file \"vernac/vernacinterp.ml\", line 244, characters 6-279\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"stm/stm.ml\", line 2431, characters 16-43\r\nCalled from file \"stm/stm.ml\", line 1000, characters 6-10\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"stm/stm.ml\", line 2572, characters 4-105\r\nCalled from file \"stm/stm.ml\", line 2753, characters 4-60\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"toplevel/vernac.ml\", line 68, characters 31-52\r\nRe-raised at file \"clib/exninfo.ml\", line 82, characters 34-35\r\nCalled from file \"toplevel/coqloop.ml\", line 428, characters 17-62\r\nCalled from file \"toplevel/coqloop.ml\", line 465, characters 4-39\r\nCalled from file \"toplevel/coqloop.ml\", line 471, characters 6-34\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/647146694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/647146819","html_url":"https://github.com/coq/coq/issues/12558#issuecomment-647146819","issue_url":"https://api.github.com/repos/coq/coq/issues/12558","id":647146819,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzE0NjgxOQ==","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2020-06-21T16:02:38Z","updated_at":"2020-06-21T16:02:38Z","author_association":"MEMBER","body":"I think error catching is working properly, what the message means is that we got an exception inside an exception handler [when printing]","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/647146819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/647148114","html_url":"https://github.com/coq/coq/issues/12558#issuecomment-647148114","issue_url":"https://api.github.com/repos/coq/coq/issues/12558","id":647148114,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzE0ODExNA==","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2020-06-21T16:12:59Z","updated_at":"2020-06-21T16:12:59Z","author_association":"MEMBER","body":"Actually after reading #12557 I'm indeed not sure this bug is worth keeping open; what should the printer do in this case? Seems like hard to avoid.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/647148114/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]