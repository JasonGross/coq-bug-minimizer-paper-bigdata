[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536089","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536089","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536089,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA4OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T04:55:44Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAggregating suggestions from bug [BZ#4300](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%234300%22) and adding a few.\n\nCoq 8.4 should get an empty theories/Compat/Coq84.v file.\n\nCoq 8.5 should get an empty theories/Compat/Coq85.v file, and should have a theories/Compat/Coq84.v file which contains something like the following (currently untested):\n\n(** This is required in Coq 8.5 to use the [omega] tactic; in Coq 8.4, it's automatically available. *)\nRequire Export Coq.omega.Omega.\n\n(** The number of arguments given in [match] statements has changed from 8.4 to 8.5. *)\nGlobal Set Asymmetric Patterns.\n\n(** See bug [BZ#3545](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233545%22) *)\nGlobal Set Universal Lemma Under Conjunction.\n\n(** In 8.4, [admit] created a new axiom; in 8.5, it just shelves the goal. *)\nAxiom proof_admitted : False.\nLtac admit := abstract case proof_admitted.\n\n(** In 8.5, [refine] leaves over dependent subgoals. *)\n(* Will this work, or do we need to \"save\" the value of [refine] first? *)\nTactic Notation \"refine\" uconstr(term) := refine term; shelve_unifiable.\n\n(** In 8.4, [constructor (tac)] allowed backtracking across the use of [constructor]; it has been subsumed by [constructor; tac]. *)\nLtac constructor_84 := constructor.\nLtac constructor_84_n n := constructor n.\nLtac constructor_84_tac tac := once (constructor; tac).\n\nTactic Notation \"constructor\" := constructor_84.\nTactic Notation \"constructor\" int_or_var(n) := constructor_84_n n.\nTactic Notation \"constructor\" \"(\" tactic(tac) \")\" := constructor_84_n n.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536090","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536090","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536090,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T06:22:39Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nEr, that last line should be \n\nTactic Notation \"constructor\" \"(\" tactic(tac) \")\" := constructor_84_tac tac.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536091","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536091","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536091,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5MQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T07:00:46Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n[Require Export Coq.omega.Omega.] is the wrong thing to do; it breaks any infix use of \"~\" not at level 7, because Omega exports ZArith_base, which has the effect of putting infix \"~\" at level 7.  The correct thing to do is:\n\nRequire Coq.omega.Omega.\nLtac omega := Coq.omega.Omega.omega.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536093","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536093","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536093,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T07:06:45Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nHmmm, would it be possible (reasonable?) to add a compatibility flag to disable the behavior of [BZ#3050](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233050%22)?  I know I asked for it, but it just bit me again with:\n\nmatch goal with\n  | [ H : context[_ + 1] |- _ ] => ...\nend\n\nwhich used to interpret [+] in nat_scope, and now interprets it in type_scope.  And it seems useful to have as much compatibility as is possible with 8.4, if we have a file like this to enable it.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536094","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536094","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536094,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T21:17:00Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThe theories/Compat/Coq84.v file in Coq 8.4 should get the following definitions:\n\nLtac shelve_unifiable := idtac.\nLtac shelve := idtac.\n\nThere are a few places where the [refine] trick I'm using results in different behavior, and so it'd be useful to be able to do things like [refine ... ; [ .. | tac ]; shelve.  Grab Existential Variables.]\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536095","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536095","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536095,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-08-14T21:23:38Z","updated_at":"2017-10-18T10:06:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n8.5 should get:\n\nGlobal Set Regular Subst Tactic.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536096","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536096","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536096,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-09-05T00:51:47Z","updated_at":"2017-10-18T10:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAnother bit of code for Coq85.v:\n\n(** Some names have changed in the standard library, so we add aliases. *)\nRequire Coq.ZArith.Int.\nModule Export Coq.\n  Module Export ZArith.\n    Module Int.\n      Module Z_as_Int.\n        Include Coq.ZArith.Int.Z_as_Int.\n        Notation plus := Coq.ZArith.Int.Z_as_Int.add (only parsing).\n        Notation minus := Coq.ZArith.Int.Z_as_Int.sub (only parsing).\n        Notation mult := Coq.ZArith.Int.Z_as_Int.mul (only parsing).\n      End Z_as_Int.\n    End Int.\n  End ZArith.\nEnd Coq.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536097","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536097","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536097,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjA5Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-09-05T18:49:12Z","updated_at":"2017-10-18T10:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAnother bit of code for Coq85.v:\n\n(** Many things now import [PeanoNat] rather than [NPeano], so we require it so that the old absolute names in [NPeano.Nat] are available. *)\nRequire Coq.Numbers.Natural.Peano.NPeano.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536101","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536101","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536101,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjEwMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-09-14T20:27:49Z","updated_at":"2017-10-18T10:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nHi Jason,\n\nIf it's not asking too much, could you create a pull request on Coq's github repo containing these compatibility files? It will be easier to maintain them there before integration.\n\nThanks!\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536102","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536102","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536102,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjEwMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-09-14T22:04:06Z","updated_at":"2017-10-18T10:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n#101 (https://github.com/coq/coq/pull/101) and [BZ#102](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%23102%22) (https://github.com/coq/coq/pull/102)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536104","html_url":"https://github.com/coq/coq/issues/4319#issuecomment-337536104","issue_url":"https://api.github.com/repos/coq/coq/issues/4319","id":337536104,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjEwNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-09-30T08:02:51Z","updated_at":"2017-10-18T10:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nThe files have been added to 8.5, but not to 8.4. So the way to use them in a compatible way is not to add \"Require Import Coq84\" at the start of a file, but to use the command line, e.g. \"-require Coq84\", when compiling with Coq 8.5.\n\nFor the record, here are some others solutions that were suggested but did not get a consensus:\n- add a new \"Set\" vernacular option that would cause the file to be loaded;\n- modify the -compat command-line option so that it would load the file.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]