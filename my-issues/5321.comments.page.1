[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550864","html_url":"https://github.com/coq/coq/issues/5321#issuecomment-337550864","issue_url":"https://api.github.com/repos/coq/coq/issues/5321","id":337550864,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDg2NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-22T01:09:30Z","updated_at":"2017-10-18T10:53:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* -*- mode: coq; coq-prog-args: (\"-emacs\" \"-R\" \"src\" \"Crypto\" \"-R\" \"Bedrock\" \n\"Bedrock\" \"-top\" \"WordUtil\") -*- *)\n(* File reduced by coq-bug-finder from original input, then from 1317 lines to \n51 lines, then from 149 lines to 52 lines, then from 321 lines to 58 lines, \nthen from 72 lines to 59 lines, then from 70 lines to 56 lines, then from 1242 \nlines to 59 lines, then from 65 lines to 59 lines, then from 53 lines to 31 \nlines, then from 37 lines to 31 lines *)\n(* coqc version 8.6rc1 (December 2016) compiled on Dec 8 2016 13:43:59 with \nOCaml 4.02.3\n   coqtop version 8.6rc1 (December 2016) *)\nModule Export AdmitTactic.\nModule Import LocalFalse.\nInductive False := .\nEnd LocalFalse.\nAxiom proof_admitted : False.\nTactic Notation \"admit\" := abstract case proof_admitted.\nEnd AdmitTactic.\n\nDefinition proj1_sig_path {A} {P : A -> Prop} {u v : sig P} (p : u = v)\n  : proj1_sig u = proj1_sig v\n  := f_equal (@ proj1_sig _ _) p.\n\nDefinition proj2_sig_path {A} {P : A -> Prop} {u v : sig P} (p : u = v)\n  : eq_rect _ _ (proj2_sig u) _ (proj1_sig_path p) = proj2_sig v\n  := match p with eq_refl => eq_refl end.\n\nGoal forall sz : nat,\n    let sz' := sz in\n    forall pf : sz = sz',\n      let feq_refl := exist (fun x : nat => sz = x) sz' eq_refl in\n      let fpf := exist (fun x : nat => sz = x) sz' pf in feq_refl = fpf -> \nproj2_sig feq_refl = proj2_sig fpf.\nProof.\n  intros.\n  etransitivity; [ | exact (proj2_sig_path H) ].\n  admit.\n  Undo.\n  clearbody fpf.\n  admit. (* In nested Ltac calls to \"admit\" and \"case proof_admitted\", last \ncall failed.\nError: Abstracting over the term \"proof_admitted\" leads to a term\nfun _ : LocalFalse.False =>\nproj2_sig feq_refl = eq_rect (proj1_sig feq_refl) (fun x : nat => sz = x) \n(proj2_sig feq_refl) (proj1_sig fpf) (proj1_sig_path H)\nwhich is ill-typed.\nReason is: Illegal application:\nThe term \"@ eq\" of type \"forall A : Type, A -> A -> Prop\"\ncannot be applied to the terms\n \"sz = proj1_sig feq_refl\" : \"Prop\"\n \"proj2_sig feq_refl\" : \"sz = proj1_sig feq_refl\"\n \"eq_rect (proj1_sig feq_refl) (fun x : nat => sz = x) (proj2_sig feq_refl) \n(proj1_sig fpf) (proj1_sig_path H)\"\n   : \"sz = proj1_sig fpf\"\nThe 3rd term has type \"sz = proj1_sig fpf\" which should be coercible to \"sz = \nproj1_sig feq_refl\".\n *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550866","html_url":"https://github.com/coq/coq/issues/5321#issuecomment-337550866","issue_url":"https://api.github.com/repos/coq/coq/issues/5321","id":337550866,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDg2Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-26T17:01:26Z","updated_at":"2017-10-18T10:53:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nInterestingly, this is fixed in my econstr branch, where clearbody rightly fails. It thus looks like we're lacking an evar normalization somewhere in the code of clearbody.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550867","html_url":"https://github.com/coq/coq/issues/5321#issuecomment-337550867","issue_url":"https://api.github.com/repos/coq/coq/issues/5321","id":337550867,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDg2Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-04-16T23:17:34Z","updated_at":"2017-10-18T10:53:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nFixed in trunk since the merge of EConstr. Not sure if we should backport it to 8.6, and if so, how.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550869","html_url":"https://github.com/coq/coq/issues/5321#issuecomment-337550869","issue_url":"https://api.github.com/repos/coq/coq/issues/5321","id":337550869,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDg2OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-07-30T22:26:23Z","updated_at":"2017-10-18T10:53:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nFixed in 8.7 with a test.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]