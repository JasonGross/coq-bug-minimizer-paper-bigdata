[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536735","html_url":"https://github.com/coq/coq/issues/4361#issuecomment-337536735","issue_url":"https://api.github.com/repos/coq/coq/issues/4361","id":337536735,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjczNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-10-07T20:12:52Z","updated_at":"2017-10-18T10:08:08Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* File reduced by coq-bug-finder from original input, then from 273 lines to 246 lines, then from 265 lines to 258 lines, then from 242 lines to 198 lines, then from 206 lines to 100 lines\\\n, then from 74 lines to 42 lines *)\n(* coqc version 8.5beta2 (October 2015) compiled on Oct 2 2015 13:24:5 with OCaml 4.01.0\n   coqtop version cagnode13:/afs/csail.mit.edu/u/j/jgross/coq-8.5,v8.5 (beedccef9ddc8633c705d7c5ee2f1bbbb3ec8a47) *)\nRequire Coq.FSets.FMapAVL.\nAxiom label : Set.\nAxiom W : Set.\nModule Export LabelKey.\n  Definition t := label.\n  Definition eq : t -> t -> Prop := @ eq t.\n  Axiom lt : forall (l1 l2 : label), Prop.\n  Axiom eq_refl : forall x : t, eq x x.\n  Axiom eq_sym : forall x y : t, eq x y -> eq y x.\n  Axiom eq_trans : forall x y z : t, eq x y -> eq y z -> eq x z.\n  Axiom lt_trans : forall x y z : t, lt x y -> lt y z -> lt x z.\n  Axiom lt_not_eq : forall x y : t, lt x y -> ~ eq x y.\n  Axiom compare : forall (x y : t), Structures.OrderedType.Compare lt eq x y.\n  Axiom eq_dec : forall x y, { eq x y } + { ~ eq x y }.\nEnd LabelKey.\nModule LabelMap := FMapAVL.Make(LabelKey).\nSection machine.\n  Variable (pc : Type).\n  Variable (state : Type).\n  Inductive propX : list Type -> Type :=\n  | Cptr : forall G, pc -> (state -> propX G) -> propX G\n  | Var0 : forall G A, A -> propX (A :: G).\n  Definition PropX := propX nil.\nEnd machine.\nDefinition assert := nat -> PropX W nat.\nAxiom m : LabelMap.t assert.\nDefinition specs' : option (nat -> PropX W nat)\n  := @ LabelMap.fold\n       assert\n       _ (* interestingly, filling this in with [option (nat -> PropX W nat)] makes the type error go away *)\n       (fun _ _ x => x)\n       m\n       None.\n(* Toplevel input, characters 15-151:\nError: Illegal application:\nThe term \"LabelMap.fold\" of type\n \"forall elt A : Type,\n  (LabelMap.key -> elt -> A -> A) -> LabelMap.t elt -> A -> A\"\ncannot be applied to the terms\n \"assert\" : \"Type\"\n \"option (nat -> PropX W nat)\" : \"Type\"\n \"fun (_ : LabelMap.key) (_ : assert) (x : option (nat -> PropX W nat)) => x\"\n   : \"LabelMap.key ->\n      assert -> option (nat -> PropX W nat) -> option (nat -> PropX W nat)\"\n \"m\" : \"LabelMap.t assert\"\n \"None\" : \"option (nat -> PropX W nat)\"\nThe 2nd term has type \"Type@ {max(Set, Coq.Init.Datatypes.13)}\"\nwhich should be coercible to \"Type@ {Coq.FSets.FMapAVL.631}\". *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536737","html_url":"https://github.com/coq/coq/issues/4361#issuecomment-337536737","issue_url":"https://api.github.com/repos/coq/coq/issues/4361","id":337536737,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNjczNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-10-16T09:12:49Z","updated_at":"2017-10-18T10:08:08Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nI cannot reproduce it. I guess it has been fixed by one of Matthieu's recent patches.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337536737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]