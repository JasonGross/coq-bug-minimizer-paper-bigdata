[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522304","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522304","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522304,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMwNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-10T13:00:49Z","updated_at":"2017-10-18T09:26:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* File reduced by coq-bug-finder from original input, then from 15037 lines to 13721 lines, then from 13307 lines to 556 lines, then from 556 lines to 176 lines, then from 134 lines to 37 lines *)\nSet Implicit Arguments.\nInductive paths {A : Type} (a : A) : A -> Type := idpath : paths a a where \"x = y\" := (@ paths _ x y) : type_scope.\nUnset Printing Notations.\nModule NonPrim.\n  Unset Primitive Projections.\n  Record PreCategory := { object :> Type ; morphism : object -> object -> Type ; identity : forall x, morphism x x }.\n  Record Functor (C D : PreCategory) :=\n    { object_of :> C -> D;\n      morphism_of : forall s d, morphism C s d -> morphism D (object_of s) (object_of d);\n      identity_of : forall x, morphism_of _ _ (identity _ x) = identity _ (object_of x) }.\n  Definition indiscrete_category X : PreCategory := @ Build_PreCategory X (fun _ _ => unit) (fun _ => tt).\n  Goal forall (C : PreCategory) (X : Functor (indiscrete_category unit) C),\n         @ paths (morphism C (object_of X tt) (object_of X tt))\n                (morphism_of X tt tt tt)\n                (identity C (object_of X tt)).\n  Proof.\n    intros.\n    apply (identity_of X).\n    Undo.\n    apply identity_of.\n  Qed.\nEnd NonPrim.\nModule Prim.\n  Set Primitive Projections.\n  Record PreCategory := { object :> Type ; morphism : object -> object -> Type ; identity : forall x, morphism x x }.\n  Record Functor (C D : PreCategory) :=\n    { object_of :> C -> D;\n      morphism_of : forall s d, morphism C s d -> morphism D (object_of s) (object_of d);\n      identity_of : forall x, morphism_of _ _ (identity _ x) = identity _ (object_of x) }.\n  Definition indiscrete_category X : PreCategory := @ Build_PreCategory X (fun _ _ => unit) (fun _ => tt).\n  Goal forall (C : PreCategory) (X : Functor (indiscrete_category unit) C),\n         @ paths (morphism C (object_of X tt) (object_of X tt))\n                (morphism_of X tt tt tt)\n                (identity C (object_of X tt)).\n  Proof.\n    intros.\n    apply (identity_of X).\n    Undo.\n    apply identity_of. (* Toplevel input, characters 21-32:\nError:\nIn environment\nC : PreCategory\nX : Functor (indiscrete_category unit) C\nUnable to unify\n \"paths (morphism_of ?192 ?193 ?193 (identity ?190 ?193))\n    (identity ?191 (object_of ?192 ?193))\" with\n \"paths (morphism_of X tt tt tt) (identity C (object_of X tt))\". *)\n  Qed.\nEnd Prim.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522305","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522305","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522305,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMwNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-10T15:32:24Z","updated_at":"2017-10-18T09:26:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nHmmm... this is due to apply's unification being too weak. It does not check types in general, and does not use evar subsitutions eagerly so when unifying X with ?192 it doesn't realize ?190 has to be [indiscrete_category unit] so it fails to unify (identity ?190 ?193) with tt later on... I can try to fix this for projections by forcing a type unification, but it will still fail if the metas become evars:\nEven without primproj, try setting Arguments identity_of {C D} f x (maximal implicits are elaborated to evars). The unification fails because the instance found for the evar of C is not used when unifying later arguments... This is a major design flaw of apply's unification. The only solution is to use refine instead.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522307","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522307","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522307,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMwNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-28T22:56:33Z","updated_at":"2017-10-18T09:26:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nAs said in the comment above, this is not solvable without a major redesign of apply. The current solution we're working towards is to use refine's unification in apply, which would solve this.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522308","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522308","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522308,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMwOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-29T09:24:40Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nFor testing purpose, I think it is relatively easy to bind apply to evarconv:\nchange mk_clenv_bindings so that it uses Evar instead of Meta and use a variant of res_pf that calls evar_conv_x. The next worry then will certainly be that w_unify might be clever than evarconv on some examples (e.g. on second-order problems). So, in practice, the work is probably more at making both algorithms converge to a common specification... (my 2c)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522309","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522309","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522309,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMwOQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-08T21:57:56Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n*** Bug [BZ#3599](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233599%22) has been marked as a duplicate of this bug. ***\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522310","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522310","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522310,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMxMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-11T11:36:51Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nActually I fixed this by forcing type unifications for projection arguments.... The general argument and the problem with evars remain.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522311","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522311","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522311,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMxMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-11T11:40:55Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\n*** Bug [BZ#3588](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233588%22) has been marked as a duplicate of this bug. ***\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522314","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522314","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522314,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-11T11:42:47Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\n*** Bug [BZ#3506](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233506%22) has been marked as a duplicate of this bug. ***\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522315","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522315","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522315,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMxNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-13T22:28:26Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nShould this be remarked as resolved fixed, then?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522316","html_url":"https://github.com/coq/coq/issues/3504#issuecomment-337522316","issue_url":"https://api.github.com/repos/coq/coq/issues/3504","id":337522316,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjMxNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-14T09:57:28Z","updated_at":"2017-10-18T09:26:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nYes, done now.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]