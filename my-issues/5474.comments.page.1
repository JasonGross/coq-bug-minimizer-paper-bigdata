[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337553150","html_url":"https://github.com/coq/coq/issues/5474#issuecomment-337553150","issue_url":"https://api.github.com/repos/coq/coq/issues/5474","id":337553150,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MzE1MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-04-18T14:03:54Z","updated_at":"2017-11-19T20:30:15Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nThis is code that works (correctly, IMO) in 8.5pl3, but fails in 8.6:\r\n```coq\r\n\r\nSet Universe Polymorphism.\r\nRecord sigT {A} (P : A -> Type) := existT { projT1 : A ; projT2 : P projT1 }.\r\nNotation \"{ x : A & P }\" := (sigT (A:=A) (fun x => P)) : type_scope.\r\n\r\nMonomorphic Universe su sp u p.\r\nInductive A : Type@{u} := a.\r\nInductive P (x : A) : Type@{p} := p.\r\n\r\nSet Printing Universes.\r\nSet Printing All.\r\n\r\nDefinition foo@{} : { A : _ & A }.\r\n (* Error in 8.6: Error: Universes {Top.16 \r\nTop.15} are unbound. *)\r\nProof. refine (@existT@{su u} Type@{u} (fun A => A) A a). Defined.\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337553150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/345547533","html_url":"https://github.com/coq/coq/issues/5474#issuecomment-345547533","issue_url":"https://api.github.com/repos/coq/coq/issues/5474","id":345547533,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTU0NzUzMw==","user":{"login":"SkySkimmer","id":2461932,"node_id":"MDQ6VXNlcjI0NjE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2461932?v=4","gravatar_id":"","url":"https://api.github.com/users/SkySkimmer","html_url":"https://github.com/SkySkimmer","followers_url":"https://api.github.com/users/SkySkimmer/followers","following_url":"https://api.github.com/users/SkySkimmer/following{/other_user}","gists_url":"https://api.github.com/users/SkySkimmer/gists{/gist_id}","starred_url":"https://api.github.com/users/SkySkimmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SkySkimmer/subscriptions","organizations_url":"https://api.github.com/users/SkySkimmer/orgs","repos_url":"https://api.github.com/users/SkySkimmer/repos","events_url":"https://api.github.com/users/SkySkimmer/events{/privacy}","received_events_url":"https://api.github.com/users/SkySkimmer/received_events","type":"User","site_admin":false},"created_at":"2017-11-19T20:36:52Z","updated_at":"2017-11-19T20:36:52Z","author_association":"CONTRIBUTOR","body":"@JasonGross \r\nThis was introduced in 25ffe7f97a907d3508848c81c3e8dcc89559aadd for #4527.\r\nSee especially https://github.com/coq/coq/issues/4527#issuecomment-337539365:\r\n>That one's not easy, the additional universe is in the type and gets minimized at the end of the proof. Due to the vi (and vi2vo) compilation (which compiles the type separately), I don't think I can do anything else than throw an error about the unbound universe at the time the type of the Lemma/Definition is type-checked, after minimizing the universes. This might break a lot of other code for which minimization this early becomes too strict. At the same time this could allow parallel processing of universe polymorphic proofs.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/345547533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]