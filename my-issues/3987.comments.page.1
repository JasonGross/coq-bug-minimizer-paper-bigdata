[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530339","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530339","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530339,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDMzOQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-03T16:10:33Z","updated_at":"2022-02-09T16:25:55Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n~~~coq\r\n(* version 9e6b28c04ad98369a012faf3bd4d630cf123a473 *)\r\n\r\nRecord foo := { bar : Type }.\r\nArguments bar / .\r\nDefinition baz (x : Type) := x.\r\nDefinition qux (x : Type) := x.\r\nArguments baz / : simpl nomatch.\r\nGoal forall x, baz (bar x) = baz (bar x).\r\nProof.\r\n  simpl; progress simpl. (** succceeds!? *)\r\n  Undo.\r\n  simpl. (* forall x : foo,\r\n   (fun x0 : Type => x0) (let (bar0) := x in bar0) =\r\n   (fun x0 : Type => x0) (let (bar0) := x in bar0) *)\r\n  simpl. (* forall x : foo, (let (bar0) := x in bar0) = (let (bar0) := x in bar0) *)\r\n~~~\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530340","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530340","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530340,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T14:43:16Z","updated_at":"2017-10-18T09:49:34Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nIt seems that (the first) simpl backtracks on the beta step due to the match that appears, but doesn't backtrack on the delta step.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530341","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530341","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530341,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0MQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T14:53:27Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nI think it is a bug in simpl, I even wrote a patch but it is not perfect and I think I've lost the code now and forgot to post here.\n\nThe point is that simpl is coded like \"strong simpl_whd\".\n\nThere you have \"f (g x)\", so globally (at the top level) simpl_whd does not unfold anything because it would result in exposing a match.  Then \"strong\" recursively traverses all terms, including the application's head.  And unfolds it, since it exposes no match.  Then the argument, it is unfolded to (but has no \"no match\" flag, so it is kept).\n\nMy patch was using (for simpl) a version of strong that does not recurse on application's heads.  But some scripts in the stdlib break in ways I could not\nunderstand.\n\nBest,\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530343","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530343","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530343,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T15:38:46Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @aspiwack\n\nI can't comment on whether there is a bug on simpl. But there is a bug in progress, which I have to fix.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530344","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530344","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530344,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T15:47:36Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nAre you talking about another bug?\n\nBecause in the script jason provides progress works well.\nIt is \"simpl\" and \"simpl;simpl\" that give different outputs, so there is some progress after the second call to simpl.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530345","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530345","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530345,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T15:52:00Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @aspiwack\n\nIt would seem so. I had a conversation the other day about a bug with [progress simpl] which was caused to [progress]] (but which probably interacted with this bug though). Sorry for the noise…\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530347","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530347","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530347,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-25T13:22:26Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nLooking back at this bug, I'm not so sure we should fix it now.\nIt will imply extra regressions in beta2 w.r.t. beta1 (ans the ones I've experienced my self in the stdlib).\n\nI'll target it for trunk (even if the \"major redesign\" does not seem the right way to put it).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530348","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530348","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530348,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T09:35:14Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nGiven the current hype on simpl/cbn I'm assigning that to Maxime.\n\nIIRC the issue is the way \"strong\" operates.\n\nIIRC I tried to change the behavior to avoid the problem (not that hard) and\nrandom scripts in the standard library failed in a way I was unable\nto fix.  Scripts written like that: simpl,  \"wow, what a mess!\",\nrewrite at 7, \"I made it!\".  And now it is more like: simple, \"wow, what a different mess!\", many attemps, \"I've no idea how the old proof was going trough\".  Not a game I wanted to play.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530349","html_url":"https://github.com/coq/coq/issues/3987#issuecomment-337530349","issue_url":"https://api.github.com/repos/coq/coq/issues/3987","id":337530349,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDM0OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T15:24:34Z","updated_at":"2017-10-18T09:49:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nI expect this change would be deserving of a compatibility flag, in any case.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]