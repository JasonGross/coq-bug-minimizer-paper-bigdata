[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538812","html_url":"https://github.com/coq/coq/issues/4488#issuecomment-337538812","issue_url":"https://api.github.com/repos/coq/coq/issues/4488","id":337538812,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzODgxMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T23:26:23Z","updated_at":"2022-01-13T16:08:25Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nIt's not clear to me that the 8.5 behavior of [intros] to not perform [cbv zeta] is wrong, given that removing the unused argument causes the code below to fail in 8.4, too.\r\n\r\nIn any case, here is code that works in 8.4pl6, but fails in 8.5rc1, and at the very least, this should be documented in CHANGES.  (A compatibility flag might be nice, too.)\r\n```coq\r\nDefinition split_list_is_complete' {x : nat}\r\n  : Prop\r\n    := True\r\n       -> let str := I in\r\n          forall it : Type,\r\n            Set = it\r\n            -> True.\r\n\r\nGoal forall a, @ split_list_is_complete' a.\r\nProof.\r\n  intros.\r\n  intros ?? H; destruct H.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538813","html_url":"https://github.com/coq/coq/issues/4488#issuecomment-337538813","issue_url":"https://api.github.com/repos/coq/coq/issues/4488","id":337538813,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzODgxMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T23:49:58Z","updated_at":"2017-10-18T10:14:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nIt is not clear to me either what should be the most useful behavior. Somehow, since \"intros\" introduces let-in, I would say that neither 8.4 nor current 8.5 behavior are the expected ones and I would use a reduction which does not zeta-reduces. I don't know what others think.\n\nThe change is however documented in CHANGES:\n\n- Tactic \"intro H\" now reduces beta-iota redexes if these hide a product\n  (potential source of rare incompatibilities).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538814","html_url":"https://github.com/coq/coq/issues/4488#issuecomment-337538814","issue_url":"https://api.github.com/repos/coq/coq/issues/4488","id":337538814,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzODgxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-20T14:28:12Z","updated_at":"2017-10-18T10:14:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nWhy do you say that the 8.5 behavior is unexpected? As a user, it seems the most sensible one. I would describe it as follows: if the head construct is a dependent product, introduce its variable; if it is a let-in, introduce its variable; otherwise, perform a beta-iota-delta reduction on the head until it is in one of the previous forms; complain if none is reached. In particular, zeta should not be part of the reduction, since both \"intro\" and \"intros\" respect let-ins, as you said.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538816","html_url":"https://github.com/coq/coq/issues/4488#issuecomment-337538816","issue_url":"https://api.github.com/repos/coq/coq/issues/4488","id":337538816,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzODgxNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-20T14:31:27Z","updated_at":"2017-10-18T10:14:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAh, I missed the entry in CHANGES because I was searching for [intros], not [intro].  Maybe update it to say \"Tactics \"intro H\" and \"intros H\" ...\"?\n\nIs it worth adding the change in behavior to -compat 8.4?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337538816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1012127446","html_url":"https://github.com/coq/coq/issues/4488#issuecomment-1012127446","issue_url":"https://api.github.com/repos/coq/coq/issues/4488","id":1012127446,"node_id":"IC_kwDOABUDh848U9bW","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2022-01-13T13:16:53Z","updated_at":"2022-01-13T13:16:53Z","author_association":"MEMBER","body":"This is a very old incompatibility, better close it.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1012127446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]