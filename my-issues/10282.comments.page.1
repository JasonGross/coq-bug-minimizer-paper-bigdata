[{"url":"https://api.github.com/repos/coq/coq/issues/comments/498150219","html_url":"https://github.com/coq/coq/issues/10282#issuecomment-498150219","issue_url":"https://api.github.com/repos/coq/coq/issues/10282","id":498150219,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODE1MDIxOQ==","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2019-06-03T07:48:51Z","updated_at":"2019-06-03T07:48:51Z","author_association":"MEMBER","body":"I guess so. The fast name printing option doesn't take into account the actual use of bound names in subterms, so any notation relying on this won't work.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/498150219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/498300456","html_url":"https://github.com/coq/coq/issues/10282#issuecomment-498300456","issue_url":"https://api.github.com/repos/coq/coq/issues/10282","id":498300456,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODMwMDQ1Ng==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2019-06-03T15:16:02Z","updated_at":"2019-06-03T15:16:02Z","author_association":"MEMBER","body":"In that case, this caveat should be noted in the documentation.\r\n\r\nI would be interested in an option that does occurrence checking to determine whether or not bound names are used at all (this should incur at most one additional walk over the term, as you can just maintain the set of currently bound variables and of variables seen so far, and have each recursive call return the set of used variables together with the properly anonymized term), assuming such an option still has a performance benefit; fiat-crypto currently globally sets `Fast Name Printing`, and the fact that it breaks `->` has me reconsidering this decision.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/498300456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/498430790","html_url":"https://github.com/coq/coq/issues/10282#issuecomment-498430790","issue_url":"https://api.github.com/repos/coq/coq/issues/10282","id":498430790,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQzMDc5MA==","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2019-06-03T21:19:51Z","updated_at":"2019-06-03T21:19:51Z","author_association":"MEMBER","body":"> this should incur at most one additional walk over the term, as you can just maintain the set of currently bound variables and of variables seen so far, and have each recursive call return the set of used variables together with the properly anonymized term\r\n\r\nNope, because this breaks the lazy detyping of terms. You have to eagerly force the term to return the set of used variables.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/498430790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]