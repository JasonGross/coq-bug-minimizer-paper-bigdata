[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543698","html_url":"https://github.com/coq/coq/issues/4825#issuecomment-337543698","issue_url":"https://api.github.com/repos/coq/coq/issues/4825","id":337543698,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzY5OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-14T17:47:06Z","updated_at":"2017-10-18T10:29:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAxiom iter2 : bool -> bool -> bool.\nFixpoint do2 (n : nat) (A : bool) :=\n  match n with\n    | 0 => A\n    | S n' => do2 n' (iter2 A A)\n  end.\nLtac display2 := hnf; unfold do2; cbv beta.\nAxiom x : bool.\nNotation hidden := (_ = _).\nGoal let n := 20 in do2 n x = do2 n x.\n  display2.\n  Time let G := match goal with |- ?G => G end in set (H := G). (* 1 s *)\n  Time evar (e : Set). (* 0.361 s *)\n  Time cbv delta [e]. (* 0.231 s in trunk, 0.128 in 8.5pl1 *)\n  Time clear e. (* 0.361 *)\nAdmitted.\n\nThe [clear] in this should be instantaneous.  Better yet would be to cache dependency information in an intelligent way.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543700","html_url":"https://github.com/coq/coq/issues/4825#issuecomment-337543700","issue_url":"https://api.github.com/repos/coq/coq/issues/4825","id":337543700,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzcwMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-15T06:25:37Z","updated_at":"2017-10-18T10:29:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nWhat makes you think that \"clear\" specifically checks the hypotheses above it? If I modify your example so that e is created before H, there is no noticeable difference in execution time.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543702","html_url":"https://github.com/coq/coq/issues/4825#issuecomment-337543702","issue_url":"https://api.github.com/repos/coq/coq/issues/4825","id":337543702,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzcwMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-15T15:09:02Z","updated_at":"2017-10-18T10:29:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThat's precisely the issue.  A hypothesis cannot depend on a hypothesis below it, currently.  So nothing above the evar can depend on it, so there's no need to check those hypotheses.  (Even better would be to cache dependency information, so you get finer grained analysis than just ordering.)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543704","html_url":"https://github.com/coq/coq/issues/4825#issuecomment-337543704","issue_url":"https://api.github.com/repos/coq/coq/issues/4825","id":337543704,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzcwNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-20T06:32:50Z","updated_at":"2017-10-18T10:29:43Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nFixed by a7d95a6.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]