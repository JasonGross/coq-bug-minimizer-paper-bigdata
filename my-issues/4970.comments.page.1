[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545693","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545693","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545693,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTY5Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-07-28T00:12:15Z","updated_at":"2020-01-16T10:38:51Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nThe first three `Notation`s succeed, but the last fails.  This is incorrect.\r\n```\r\nReserved Notation \"x {{ y >>\" (at level 40).\r\nNotation \"x {{ y >>\" := (x y) (only parsing).\r\nReserved Notation \"x {{ y >}\" (at level 40).\r\nNotation \"x {{ y >}\" := (x y) (only parsing).\r\nReserved Notation \"x {{ y }}\" (at level 40).\r\nNotation \"x {{ y }}\" := (x y) (only parsing). (* Error: A left-recursive \r\nnotation must have an explicit level. *)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545694","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545694","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545694,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTY5NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-27T20:53:17Z","updated_at":"2017-10-18T10:36:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nThere is a hack with curly braces in the parser, so as to parse {A}+{B} (sumbool) and {A:T|P}+{B} (sumor of sig) (and maybe other similar expressions).\n\nThis bug shows a problem with the hack. I'm afraid that trying to fix it might result in having to pile an other hack on top of the hack, so, as far as I'm concerned, I would rather lean to let the situation as it is (which does not exclude that there is after all a simple fix, but I'm not enough optimistic).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545695","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545695","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545695,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTY5NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-27T21:28:37Z","updated_at":"2020-01-16T10:39:11Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\r\n\r\nWhat about simply removing the hack and adding all the missing nested notations? I tried the following notations and they seemed to work, as far as I could tell. But the solution seems so obvious that I must be missing something important here.\r\n```\r\nNotation \"<~ x | P ~>\" := (sig (fun x => P)) (x at level 99).\r\nNotation \"<~ x : T | P ~>\" := (sig (fun x : T => P)) (x at level 99).\r\nNotation \"<~ P ~> + <~ Q ~>\" := (sumbool P Q) (P at level 99).\r\nNotation \"<~ x | P ~> + <~ Q ~>\" := (sumor (sig (fun x => P)) Q) (x at level 99).\r\nNotation \"<~ x : T | P ~> + <~ Q ~>\" := (sumor (sig (fun x : T => P)) Q) (x at level 99).\r\nNotation \"<~ x & P ~>\" := (sigT (fun x => P)) (x at level 99).\r\nNotation \"<~ x : T & P ~>\" := (sigT (fun x : T => P)) (x at level 99).\r\nNotation \"<~ x & P ~> + <~ Q ~>\" := (sumor (sigT (fun x => P)) Q) (x at level 99).\r\nNotation \"<~ x : T & P ~> + <~ Q ~>\" := (sumor (sigT (fun x : T => P)) Q) (x at level 99).\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545697","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545697","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545697,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTY5Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-28T10:31:20Z","updated_at":"2020-01-16T10:39:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\r\n\r\n@ Guillaume: maybe. More information in 0541d7039eb3ac663597059413b2d9a889d6b0b5.\r\n\r\nTypical problems are: whenever there is a new notation of the form \"{ bla }\", we need a factorization of `\"A + { bla }\"` (= `sum of A and { bla }`) and `\"A + { foo }\"` (`sumor of A and foo`).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545700","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545700","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545700,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTcwMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-09-30T10:08:13Z","updated_at":"2017-10-18T10:36:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nA beotian question: why do we need to have sumor? Can't we just replace every instance of it by a simple sum and let cumulativity do the job? Even for extraction, it shouldn't be that bad.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545701","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545701","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545701,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTcwMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-03T20:52:18Z","updated_at":"2020-01-16T10:40:09Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\r\n\r\nFinally, it was occupying my mind and I fixed it.\r\n\r\nThe remark on sumor is interesting. I guess this would have to come with removing sumbool then since I don't think we want statements like\r\n\r\n`{n < m} + {n = m} + {m < n}`\r\n\r\nto look like the hybrid\r\n\r\n`{n < m} + {n = m} + (m < n) `\r\n\r\nrather than the homogeneous\r\n\r\n`(n < m) + (n = m) + (m < n)`\r\n\r\nThis would also have the advantage to simplify the terminology inleft/left/inl, inright/right/inr.\r\n\r\nI made some experiment on the standard library and it seems to go through. The { ... } + { ... } and { ... } + { ... } + { ... } patterns are however common and somehow strongly tied to Coq and to its identity. So, I don't think that this a direction to be followed thoughlessly.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545703","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-337545703","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":337545703,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0NTcwMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-07-24T09:00:13Z","updated_at":"2017-10-18T10:36:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\n*** Bug [BZ#2867](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%232867%22) has been marked as a duplicate of this bug. ***\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337545703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/574795503","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-574795503","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":574795503,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDc5NTUwMw==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2020-01-15T18:40:55Z","updated_at":"2020-01-15T18:40:55Z","author_association":"MEMBER","body":"Why was this bug closed?  It does not seem to be fixed as of 8.10.0:\r\n```coq\r\nReserved Infix \"||->{ f }\" (at level 50, left associativity).\r\nInfix \"||->{ f }\" := f.\r\n(* Error: A left-recursive notation must have an explicit level. *)\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/574795503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/574796519","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-574796519","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":574796519,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDc5NjUxOQ==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2020-01-15T18:43:40Z","updated_at":"2020-01-15T18:43:40Z","author_association":"MEMBER","body":"Oh, maybe this is not about curly braces","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/574796519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/575098544","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-575098544","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":575098544,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTA5ODU0NA==","user":{"login":"herbelin","id":460771,"node_id":"MDQ6VXNlcjQ2MDc3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/460771?v=4","gravatar_id":"","url":"https://api.github.com/users/herbelin","html_url":"https://github.com/herbelin","followers_url":"https://api.github.com/users/herbelin/followers","following_url":"https://api.github.com/users/herbelin/following{/other_user}","gists_url":"https://api.github.com/users/herbelin/gists{/gist_id}","starred_url":"https://api.github.com/users/herbelin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/herbelin/subscriptions","organizations_url":"https://api.github.com/users/herbelin/orgs","repos_url":"https://api.github.com/users/herbelin/repos","events_url":"https://api.github.com/users/herbelin/events{/privacy}","received_events_url":"https://api.github.com/users/herbelin/received_events","type":"User","site_admin":false},"created_at":"2020-01-16T10:58:32Z","updated_at":"2020-01-16T10:58:32Z","author_association":"MEMBER","body":"This has to do with the presence of spaces in the infix string which are not treated the same in `Reserved Infix` and in `Infix`. Sorry about it.\r\n\r\nNot too difficult to fix, but one would need for that to remove a hack I used for simulating `Reserved Infix` on top of `Reserved` and have instead a proper constructor in `constr_expr` for `Reserved Infix`....","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/575098544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1009327007","html_url":"https://github.com/coq/coq/issues/4970#issuecomment-1009327007","issue_url":"https://api.github.com/repos/coq/coq/issues/4970","id":1009327007,"node_id":"IC_kwDOABUDh848KRuf","user":{"login":"Alizter","id":8614547,"node_id":"MDQ6VXNlcjg2MTQ1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8614547?v=4","gravatar_id":"","url":"https://api.github.com/users/Alizter","html_url":"https://github.com/Alizter","followers_url":"https://api.github.com/users/Alizter/followers","following_url":"https://api.github.com/users/Alizter/following{/other_user}","gists_url":"https://api.github.com/users/Alizter/gists{/gist_id}","starred_url":"https://api.github.com/users/Alizter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alizter/subscriptions","organizations_url":"https://api.github.com/users/Alizter/orgs","repos_url":"https://api.github.com/users/Alizter/repos","events_url":"https://api.github.com/users/Alizter/events{/privacy}","received_events_url":"https://api.github.com/users/Alizter/received_events","type":"User","site_admin":false},"created_at":"2022-01-10T20:44:49Z","updated_at":"2022-01-10T20:44:49Z","author_association":"CONTRIBUTOR","body":"Seems to be fixed.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1009327007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]