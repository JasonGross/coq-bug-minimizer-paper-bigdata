[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555074","html_url":"https://github.com/coq/coq/issues/5599#issuecomment-337555074","issue_url":"https://api.github.com/repos/coq/coq/issues/5599","id":337555074,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTA3NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T01:24:51Z","updated_at":"2017-10-18T11:06:12Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThis is a suspicious error message:\n\nThe term \"and\" has type \"Prop -> Prop -> Prop\" while it is expected to have \ntype \"Prop -> Prop -> Prop\" (cannot satisfy constraint\n\"True\" == \"(fun _ : flat_type ?base_type_code => Prop) ()%ctype\").\n\nThe invalid constraint is an accurate rendition of what's wrong, but the type \nerror is wrong.  Example code coming soon.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555076","html_url":"https://github.com/coq/coq/issues/5599#issuecomment-337555076","issue_url":"https://api.github.com/repos/coq/coq/issues/5599","id":337555076,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTA3Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T02:38:21Z","updated_at":"2017-11-18T19:26:53Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nExample:\r\n```coq\r\n(* -*- mode: coq; coq-prog-args: (\"-emacs\" \"-R\" \"src\" \"Crypto\" \"-R\" \"Bedrock\" \r\n\"Bedrock\" \"-R\" \"coqprime/Coqprime\" \"Coqprime\" \"-top\" \"ArithmeticSimplifierWf\") \r\n-*- *)\r\n(* File reduced by coq-bug-finder from original input, then from 425 lines to \r\n28 lines, then from 581 lines to 38 lines, then from 218 lines to 65 lines, \r\nthen from 222 lines to 86 lines, then from 202 lines to 87 lines, then from 447 \r\nlines to 107 lines, then from 221 lines to 142 lines, then from 335 lines to \r\n195 lines, then from 350 lines to 195 lines, then from 217 lines to 196 lines, \r\nthen from 144 lines to 60 lines, then from 76 lines to 60 lines, then from 53 \r\nlines to 36 lines, then from 52 lines to 37 lines *)\r\n(* coqc version 8.6 (June 2017) compiled on Jun 12 2017 14:31:24 with OCaml \r\n4.02.3\r\n   coqtop version jgross-Leopard-WS:/home/jgross/Downloads/coq/coq-v8.6,(HEAD \r\ndetached from 7e992fa) (ce1e1dba837ad6e2c79ff7e531b5e3adea3cd327) *)\r\n\r\nContext (base_type_code : Type).\r\nInductive flat_type := Tbase (T : base_type_code) | Unit | Prod (A B : \r\nflat_type).\r\nSection flat_type.\r\n  Context (interp_base_type : base_type_code -> Type).\r\n  Fixpoint interp_flat_type (t : flat_type) :=\r\n    match t with\r\n    | Tbase t => interp_base_type t\r\n    | Unit => unit\r\n    | Prod x y => prod (interp_flat_type x) (interp_flat_type y)\r\n    end.\r\nEnd flat_type.\r\nFixpoint smart_interp_flat_map2 {f1 f2 g}\r\n         (h : forall x, f1 x -> f2 x -> g (Tbase x))\r\n         (tt : g Unit)\r\n         (pair : forall A B, g A -> g B -> g (Prod A B))\r\n         {t}\r\n  : interp_flat_type f1 t -> interp_flat_type f2 t -> g t\r\n  := match t return interp_flat_type f1 t -> interp_flat_type f2 t -> g t with\r\n     | Tbase _ => h _\r\n     | Unit => fun _ _ => tt\r\n     | Prod A B => fun (v1 : interp_flat_type _ A * interp_flat_type _ B)\r\n                       (v2 : interp_flat_type _ A * interp_flat_type _ B)\r\n                   => pair _ _\r\n                           (@ smart_interp_flat_map2 f1 f2 g h tt pair A (fst \r\nv1) (fst v2))\r\n                           (@ smart_interp_flat_map2 f1 f2 g h tt pair B (snd \r\nv1) (snd v2))\r\n     end.\r\nDefinition wff_as_expr_or_const {t}\r\n  : interp_flat_type (fun _ => nat) t\r\n    -> interp_flat_type (fun _ => nat) t\r\n    -> Prop\r\n  := smart_interp_flat_map2\r\n       (fun t z1 z2 => False)\r\n       I\r\n       (fun _ _ => and).\r\n(* Error:\r\nIn environment\r\nt : flat_type\r\nf : flat_type\r\nf0 : flat_type\r\nThe term \"and\" has type \"Prop -> Prop -> Prop\" while it is expected to have \r\ntype \"Prop -> Prop -> Prop\" (cannot satisfy constraint\r\n\"True\" == \"(fun _ : flat_type => Prop) Unit\"). *)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1027003632","html_url":"https://github.com/coq/coq/issues/5599#issuecomment-1027003632","issue_url":"https://api.github.com/repos/coq/coq/issues/5599","id":1027003632,"node_id":"IC_kwDOABUDh849NtTw","user":{"login":"SkySkimmer","id":2461932,"node_id":"MDQ6VXNlcjI0NjE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2461932?v=4","gravatar_id":"","url":"https://api.github.com/users/SkySkimmer","html_url":"https://github.com/SkySkimmer","followers_url":"https://api.github.com/users/SkySkimmer/followers","following_url":"https://api.github.com/users/SkySkimmer/following{/other_user}","gists_url":"https://api.github.com/users/SkySkimmer/gists{/gist_id}","starred_url":"https://api.github.com/users/SkySkimmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SkySkimmer/subscriptions","organizations_url":"https://api.github.com/users/SkySkimmer/orgs","repos_url":"https://api.github.com/users/SkySkimmer/repos","events_url":"https://api.github.com/users/SkySkimmer/events{/privacy}","received_events_url":"https://api.github.com/users/SkySkimmer/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T16:01:00Z","updated_at":"2022-02-01T16:01:00Z","author_association":"CONTRIBUTOR","body":"Duplicate of https://github.com/coq/coq/issues/11475","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1027003632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]