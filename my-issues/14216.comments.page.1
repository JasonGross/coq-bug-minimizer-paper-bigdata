[{"url":"https://api.github.com/repos/coq/coq/issues/comments/830126802","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830126802","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830126802,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDEyNjgwMg==","user":{"login":"Zimmi48","id":1108325,"node_id":"MDQ6VXNlcjExMDgzMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1108325?v=4","gravatar_id":"","url":"https://api.github.com/users/Zimmi48","html_url":"https://github.com/Zimmi48","followers_url":"https://api.github.com/users/Zimmi48/followers","following_url":"https://api.github.com/users/Zimmi48/following{/other_user}","gists_url":"https://api.github.com/users/Zimmi48/gists{/gist_id}","starred_url":"https://api.github.com/users/Zimmi48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zimmi48/subscriptions","organizations_url":"https://api.github.com/users/Zimmi48/orgs","repos_url":"https://api.github.com/users/Zimmi48/repos","events_url":"https://api.github.com/users/Zimmi48/events{/privacy}","received_events_url":"https://api.github.com/users/Zimmi48/received_events","type":"User","site_admin":false},"created_at":"2021-04-30T14:17:23Z","updated_at":"2021-04-30T14:17:23Z","author_association":"MEMBER","body":"Note that we discussed the problem previously and said that if the hint name was kept the same, this would mean that the change of default locality would happen at the same time for all `Hint` commands. Given this, would you still prefer a different warning name? If yes, please open a PR.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830126802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/830183195","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830183195","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830183195,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDE4MzE5NQ==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2021-04-30T15:40:57Z","updated_at":"2021-04-30T15:40:57Z","author_association":"MEMBER","body":"> if the hint name was kept the same\r\n\r\nDo you mean \"warning name\" rather than \"hint name\"?\r\n\r\nI guess I'm a bit confused about what migration is supposed to look like here.  Once Debian Bullseye releases (no release date yet, but according to the dates [here](https://lists.debian.org/debian-devel-announce/2020/03/msg00002.html) it seems like the hard freeze should be coming soon?), Fiat-Crypto can move it's minimum Coq version from 8.9 to 8.11 (the version in the Ubuntu focal (20.04) package, which is the latest LTS version of Ubuntu).  However, `Hint Resolve` did not get support for `#[export]` until Coq 8.12, so I guess we'll be able to move `Hint Resolve` to `#[export]` in April 2022 (if the pattern in [Ubuntu releases](https://wiki.ubuntu.com/Releases) for LTS versions continues)?  But it seems like `Instance` and `Hint Rewrite` won't get `#[export]` (and `Hint Rewrite` won't even have `Global`) until Coq 8.14, and we'll have to wait for two Debian release cycles for that, so we won't actually be able to annotate `Hint Rewrite` until ... 2024? 2025?\r\n\r\nGiven the fact that we can't actually annotate our `Hint Rewrite` for the foreseeable future, what should we be doing?  Should we just suppress this warning entirely, and fix the issue all at once, so that we're compatible with both behaviors, when the default hint behavior changes?  (It might be nice to have a compatibility command that sets the default behavior, so we have more leeway in migrating.)  Or should we be annotating the hints we can with `Global` (as the warning message suggests) so that we don't break when the default behavior changes, and we can move to `#[export]` at our own pace?","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830183195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/830208847","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830208847","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830208847,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDIwODg0Nw==","user":{"login":"Zimmi48","id":1108325,"node_id":"MDQ6VXNlcjExMDgzMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1108325?v=4","gravatar_id":"","url":"https://api.github.com/users/Zimmi48","html_url":"https://github.com/Zimmi48","followers_url":"https://api.github.com/users/Zimmi48/followers","following_url":"https://api.github.com/users/Zimmi48/following{/other_user}","gists_url":"https://api.github.com/users/Zimmi48/gists{/gist_id}","starred_url":"https://api.github.com/users/Zimmi48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zimmi48/subscriptions","organizations_url":"https://api.github.com/users/Zimmi48/orgs","repos_url":"https://api.github.com/users/Zimmi48/repos","events_url":"https://api.github.com/users/Zimmi48/events{/privacy}","received_events_url":"https://api.github.com/users/Zimmi48/received_events","type":"User","site_admin":false},"created_at":"2021-04-30T16:22:54Z","updated_at":"2021-04-30T16:22:54Z","author_association":"MEMBER","body":"> Do you mean \"warning name\" rather than \"hint name\"?\r\n\r\nYes\r\n\r\nYes, annotating with `Global` and moving to `#[ export ]` at your own pace sounds good. But as you noticed `Hint Rewrite` won't even support `Global` until Coq 8.14. If you can't restrict your compatibility range (which is a bit extreme IMHO), then you will have to find a way of structuring your code so that `global` or `export` do not make any difference (at least for `Hint Rewrite`)","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830208847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/830223995","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830223995","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830223995,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDIyMzk5NQ==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2021-04-30T16:49:34Z","updated_at":"2021-04-30T16:49:34Z","author_association":"MEMBER","body":"> Yes, annotating with `Global` and moving to `#[ export ]` at your own pace sounds good. But as you noticed `Hint Rewrite` won't even support `Global` until Coq 8.14.\r\n\r\nRight, so my use-case for the per-hint-type warning flags is so that I can suppress the warning for hint types I can't annotate and so that I can have Coq make it an error to introduce new hints without the annotation for hint types that I can annotate.  Does this seem like a good enough reason to split the warning?\r\n\r\n> If you can't restrict your compatibility range (which is a bit extreme IMHO)\r\n\r\nIndeed, though I think it's nice to be able to support the latest LTS of Ubuntu and the latest Debian stable, especially as I expect the primary consumers of fiat-crypto are using the binary we produce rather than using it as a Coq library.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830223995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/830310245","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830310245","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830310245,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDMxMDI0NQ==","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2021-04-30T19:00:37Z","updated_at":"2021-04-30T19:00:37Z","author_association":"MEMBER","body":"It's quite easy to trigger a different warning, that's what I did for instances. We can do that before 8.14 since the locality implementation for hint rewrite was introduced there, so there is currently no released version with a Hint Rewrite reusing the standard hint warning.\r\n\r\n(Also, I think we should stop calling Hint Rewrite that way, they're really different beasts not using the same databases and relying on a completely different implementation.)","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830310245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/830614422","html_url":"https://github.com/coq/coq/issues/14216#issuecomment-830614422","issue_url":"https://api.github.com/repos/coq/coq/issues/14216","id":830614422,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDYxNDQyMg==","user":{"login":"Zimmi48","id":1108325,"node_id":"MDQ6VXNlcjExMDgzMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1108325?v=4","gravatar_id":"","url":"https://api.github.com/users/Zimmi48","html_url":"https://github.com/Zimmi48","followers_url":"https://api.github.com/users/Zimmi48/followers","following_url":"https://api.github.com/users/Zimmi48/following{/other_user}","gists_url":"https://api.github.com/users/Zimmi48/gists{/gist_id}","starred_url":"https://api.github.com/users/Zimmi48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zimmi48/subscriptions","organizations_url":"https://api.github.com/users/Zimmi48/orgs","repos_url":"https://api.github.com/users/Zimmi48/repos","events_url":"https://api.github.com/users/Zimmi48/events{/privacy}","received_events_url":"https://api.github.com/users/Zimmi48/received_events","type":"User","site_admin":false},"created_at":"2021-05-01T11:09:26Z","updated_at":"2021-05-01T11:09:26Z","author_association":"MEMBER","body":">Right, so my use-case for the per-hint-type warning flags is so that I can suppress the warning for hint types I can't annotate and so that I can have Coq make it an error to introduce new hints without the annotation for hint types that I can annotate. Does this seem like a good enough reason to split the warning?\r\n\r\nYes, that sounds reasonable.\r\n\r\nMarking this for 8.14 because if it is changed, that should happen before the release.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/830614422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]