[{"url":"https://api.github.com/repos/coq/coq/issues/comments/359500717","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359500717","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359500717,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTUwMDcxNw==","user":{"login":"aspiwack","id":1413217,"node_id":"MDQ6VXNlcjE0MTMyMTc=","avatar_url":"https://avatars.githubusercontent.com/u/1413217?v=4","gravatar_id":"","url":"https://api.github.com/users/aspiwack","html_url":"https://github.com/aspiwack","followers_url":"https://api.github.com/users/aspiwack/followers","following_url":"https://api.github.com/users/aspiwack/following{/other_user}","gists_url":"https://api.github.com/users/aspiwack/gists{/gist_id}","starred_url":"https://api.github.com/users/aspiwack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aspiwack/subscriptions","organizations_url":"https://api.github.com/users/aspiwack/orgs","repos_url":"https://api.github.com/users/aspiwack/repos","events_url":"https://api.github.com/users/aspiwack/events{/privacy}","received_events_url":"https://api.github.com/users/aspiwack/received_events","type":"User","site_admin":false},"created_at":"2018-01-22T17:28:14Z","updated_at":"2018-01-22T17:28:14Z","author_association":"CONTRIBUTOR","body":"Somebody broke my toy :( . (most likely it's been built broken)\r\n\r\nDoes it happen without `vm_cast_no_check` as well?\r\n\r\nThis message comes from `Pfedit`. And IÂ have no idea why `Derive` even goes through `Pfedit` :-/ .","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359500717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/359508543","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359508543","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359508543,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTUwODU0Mw==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2018-01-22T17:53:53Z","updated_at":"2018-01-22T17:53:53Z","author_association":"MEMBER","body":"No, `vm_cast_no_check` is fine.  Note that it also breaks with\r\n```coq\r\nRequire Import Coq.derive.Derive.\r\nRequire Import Coq.Compat.AdmitAxiom.\r\n\r\nDerive f SuchThat (f = 1 + 1) As feq.\r\nProof.\r\n  transitivity 2.\r\n  2:admit.\r\n```\r\n\r\nThe anomaly with `abstract` is already present in 8.5beta1, and the derive plugin does not seem to be present in 8.4pl6...","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359508543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/359509851","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359509851","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359509851,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTUwOTg1MQ==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2018-01-22T17:58:16Z","updated_at":"2018-01-22T17:58:16Z","author_association":"MEMBER","body":"It is probably `abstract` that goes through `Pfedit`, not Derive, and probably Derive is the only thing that opens two proof statements at once?  The backtrace on 8.7.1 with `-debug` is \r\n```\r\nError: Anomaly \"in Pfedit.current_proof_statement: more than one statement.\"\r\nPlease report at http://coq.inria.fr/bugs/.\r\nframe @ file \"toplevel/coqloop.ml\", line 307, characters 4-59\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"str.ml\", line 253, characters 6-29\r\nraise @ file \"map.ml\", line 117, characters 16-25\r\nframe @ file \"stm/stm.ml\", line 2363, characters 4-48\r\nframe @ file \"stm/stm.ml\", line 2329, characters 4-100\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"stm/stm.ml\", line 832, characters 6-10\r\nframe @ file \"stm/stm.ml\", line 2204, characters 12-118\r\nraise @ unknown\r\nframe @ file \"stm/stm.ml\", line 2148, characters 10-14\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"stm/stm.ml\", line 975, characters 8-81\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"lib/flags.ml\", line 30, characters 14-17\r\nraise @ unknown\r\nframe @ file \"vernac/vernacentries.ml\", line 2200, characters 10-389\r\nframe @ file \"lib/flags.ml\", line 141, characters 20-44\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"lib/flags.ml\", line 30, characters 14-17\r\nraise @ file \"lib/exninfo.ml\", line 63, characters 8-15\r\nframe @ file \"vernac/vernacinterp.ml\", line 69, characters 4-10\r\nframe @ file \"plugins/ltac/g_ltac.ml4\", line 379, characters 15-536\r\nframe @ file \"proofs/proof_global.ml\", line 164, characters 24-36\r\nframe @ file \"plugins/ltac/g_ltac.ml4\", line 384, characters 6-82\r\nraise @ unknown\r\nframe @ file \"proofs/pfedit.ml\", line 113, characters 28-67\r\nframe @ file \"proofs/proof.ml\", line 351, characters 4-30\r\nframe @ file \"engine/proofview.ml\", line 217, characters 12-42\r\nraise @ unknown\r\nframe @ file \"engine/logic_monad.ml\", line 114, characters 8-12\r\nraise @ unknown\r\nframe @ file \"engine/logic_monad.ml\", line 257, characters 6-27\r\nframe @ file \"engine/logic_monad.ml\", line 189, characters 38-43\r\nraise @ unknown\r\nframe @ file \"engine/proofview.ml\", line 1072, characters 10-34\r\nframe @ file \"engine/proofview.ml\", line 1067, characters 40-46\r\nframe @ file \"tactics/tactics.ml\", line 5042, characters 9-60\r\nraise @ unknown\r\nframe @ file \"tactics/tactics.ml\", line 5036, characters 23-56\r\nraise @ file \"lib/loc.ml\", line 73, characters 22-23\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359509851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/359510717","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359510717","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359510717,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTUxMDcxNw==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2018-01-22T18:01:05Z","updated_at":"2018-01-22T18:01:05Z","author_association":"MEMBER","body":"Ahaha, this is because `abstract` wants to name its lemma `<current proof name>_subproof`, and this raises an anomaly if two proofs are \"current\":\r\nhttps://github.com/coq/coq/blob/588a81cfadf66ea9bac230f03ca0e27db3ddf1fa/tactics/tactics.ml#L5027-L5044","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359510717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/359702383","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359702383","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359702383,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTcwMjM4Mw==","user":{"login":"aspiwack","id":1413217,"node_id":"MDQ6VXNlcjE0MTMyMTc=","avatar_url":"https://avatars.githubusercontent.com/u/1413217?v=4","gravatar_id":"","url":"https://api.github.com/users/aspiwack","html_url":"https://github.com/aspiwack","followers_url":"https://api.github.com/users/aspiwack/followers","following_url":"https://api.github.com/users/aspiwack/following{/other_user}","gists_url":"https://api.github.com/users/aspiwack/gists{/gist_id}","starred_url":"https://api.github.com/users/aspiwack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aspiwack/subscriptions","organizations_url":"https://api.github.com/users/aspiwack/orgs","repos_url":"https://api.github.com/users/aspiwack/repos","events_url":"https://api.github.com/users/aspiwack/events{/privacy}","received_events_url":"https://api.github.com/users/aspiwack/received_events","type":"User","site_admin":false},"created_at":"2018-01-23T07:39:19Z","updated_at":"2018-01-23T07:39:19Z","author_association":"CONTRIBUTOR","body":"Right. This doesn't sound terribly hard to fix. Let's just take the first open thingy as the name instead of requiring that there is only one.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359702383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/359835188","html_url":"https://github.com/coq/coq/issues/6631#issuecomment-359835188","issue_url":"https://api.github.com/repos/coq/coq/issues/6631","id":359835188,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTgzNTE4OA==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2018-01-23T15:54:47Z","updated_at":"2018-01-23T15:54:47Z","author_association":"MEMBER","body":"Great!  Shall I expect a PR from you fixing this soon?  (Or are you wanting me to make one?)","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/359835188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]