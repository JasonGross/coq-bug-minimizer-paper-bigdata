[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542473","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542473","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542473,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ3Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T21:12:58Z","updated_at":"2017-10-18T10:25:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nCoq 8.4 used \" [ x ; .. ; y ] \".  Coq 8.5 uses \" [ x ; y ; .. ; z ] \".  This means that users cannot make use of the singleton list notations in a way that works in both 8.4 and 8.5, even with -compat 8.4, except by redefining the notations with something like:\n\nRequire Coq.Lists.List.\nRequire Coq.Vectors.VectorDef.\nModule Export Coq.\nModule Export Lists.\nModule List.\nModule ListNotations.\nInclude Coq.Lists.List.ListNotations.\nNotation \" [ x ; .. ; y ] \" := (cons x .. (cons y nil) ..) : list_scope.\nEnd ListNotations.\nEnd List.\nEnd Lists.\nModule Export Vectors.\nModule VectorDef.\nModule VectorNotations.\nImport Coq.Vectors.VectorDef.VectorNotations.\nNotation \" [ x ; .. ; y ] \" := (cons _ x _ .. (cons _ y _ (nil _)) ..) : vector_scope. (* actually only required in > 8.5pl1, not in >= 8.5pl1 *)\nEnd VectorNotations.\nEnd VectorDef.\nEnd Vectors.\nEnd Coq.\nExport Vectors.VectorDef.VectorNotations.\nExport List.ListNotations.\n\n\nPlease add compatibility notations for \" [ x ; .. ; y ] \" for lists and vectors to the standard library.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542476","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542476","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542476,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ3Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T21:14:25Z","updated_at":"2017-10-18T10:25:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPierre-Marie, you resolved bug [BZ#4684](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%234684%22), so I'm assigning this to you, though I'm not sure if you're the right person for this (is someone else in charge of the compatibility notations?)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542478","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542478","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542478,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ3OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T22:06:57Z","updated_at":"2017-10-18T10:25:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nI don't really know what to do... Maybe Hugo has more insight into the parser abominations?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542479","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542479","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542479,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ3OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T22:09:53Z","updated_at":"2017-10-18T10:25:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nI think adding\n\nNotation \" [ x ; .. ; y ] \" := (cons x .. (cons y nil) ..) (compat \"8.4\") : list_scope.\n\nNotation \" [ x ; .. ; y ] \" := (cons _ x _ .. (cons _ y _ (nil _)) ..) (compat \"8.4\") : vector_scope.\n\nin the right places should be enough to fix things, as long as having these notations has no effect when the -compat 8.4 flag is not passed (I'm not sure how compat notations work, though, and what happens when the flag is not passed, and if there's any issue with reserving the notations but not assigning them, etc).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542483","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542483","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542483,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ4Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-14T18:12:29Z","updated_at":"2017-10-18T10:25:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nI'm sorry, I lost track of what is wrong in having decomposed\n\nNotation \" [ x ; .. ; y ] \" := ...\n\ninto\n\nNotation \" [ x ] \" :=\nNotation \" [ x ; y ; .. ; z ] \" := ...\n\nWhat is still not working after PMP's 2ee92b2? Why would a compatibility layer be needed?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542486","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542486","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542486,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ4Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-14T19:47:20Z","updated_at":"2017-10-18T10:25:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nSuppose a user wants to declare a new list-like notation with support for singletons in both 8.4 and 8.5.  If they use \n\nNotation \" [ x ] \" := (mycons x mynil) : mylist_scope.\nNotation \" [ x ; y ; .. ; z ] \" := (mycons x (mycons y .. (mycons z mynil) ..)) : mylist_scope.\n\nthen the notation works fine in 8.5.  In 8.4, [ x ] is always interpreted as the list singleton, not the mylist singleton, so singleton mylists are broken in 8.4.  If instead they use\n\nNotation \" [ x ; .. ; y ] \" := (mycons x .. (mycons y mynil) ..) : mylist_scope.\n\nthen the notation works fine in 8.4 (we get both singleton mylists and singleton lists), but in 8.5, [ x ] is always interpreted as the mylist singleton, and so we've broken the list singleton notation.\n\nThe fix to this is to restore the \" [ x ; .. ; y ] \" notation for lists and vectors in 8.4 compatibility mode, so that users can use \" [ x ; .. ; y ] \" for list-like structures, and have it not break singletons.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542488","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542488","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542488,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ4OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-04T11:13:59Z","updated_at":"2017-10-18T10:25:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nI'm a bit lost on this one.\n\nWould it be enough to add the lines from comment nº3 to the file Coq84.v in branch v8.5?\n\n(According to this file, [BZ#4798](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%234798%22) was blocking for that, but now it is solved.)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542489","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542489","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542489,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ4OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-04T13:42:37Z","updated_at":"2017-10-18T10:25:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nI think this is now solved (I think I had a pr that moved some compat notations and also fixed updated the test suite file for this bug, and everything works?)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542490","html_url":"https://github.com/coq/coq/issues/4733#issuecomment-337542490","issue_url":"https://api.github.com/repos/coq/coq/issues/4733","id":337542490,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjQ5MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-04T14:14:25Z","updated_at":"2017-10-18T10:25:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nSo, closing.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]