[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550475","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550475","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550475,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ3NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T02:22:13Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nIt would be great if Coq could tell me what the inconsistent assumptions are.  \nFor example, when I get \"Error: Compiled library Crypto.Util.Tuple.vo makes \ninconsistent assumptions over library Coq.Init.Notations\", I'd like to know if \nthe version of Notations.vo imported by Tuple.vo (a) was built with a version \nof Coq that was compiled with a different version of OCaml (or a different \nversion of camlpX) (is this enough to get this error message?) or (b) defines a \nsyntactically different set of Ltacs/definitions than the one currently being \nimported or (c) something else.  Do the .vo files store enough information for \nthis to happen?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550477","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550477","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550477,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ3Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T06:21:49Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\n> Do the .vo files store enough information for this to happen?\n\nNo, the message is displayed whenever the md5 digest of the .vo files do not match. So what the message really means is \"someone modified the .vo file but forgot to recompile its dependents\".\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550478","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550478","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550478,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ3OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T16:22:24Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAh, I see.  Though I think you mean \"someone modified the vo xor its dependencies, and forgot to recompile the other\"\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550479","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550479","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550479,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ3OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T16:33:41Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nNo. I did use \"dependents\" on purpose (perhaps it is not an actual word though). Let's take an example. Suppose B requires A (so B is dependent on A) and C requires (indirectly) B. First A is compiled, then B is compiled, then A is modified and recompiled, then C is compiled/executed. At that point Coq loads both A and B, which causes it to complain, since the md5 digest stored inside B does not match the current md5 digest of A. In no other cases will Coq complain.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550482","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550482","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550482,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ4Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T16:51:46Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAh, I see.  \"Dependent\" is indeed a noun, but I think it can only refer to people: \"a person who relies on another, especially a family member, for financial support.\"\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550485","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550485","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550485,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ4NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T16:52:57Z","updated_at":"2017-10-18T10:51:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nWhat would it take to make .vo files independent of the version of ocaml used to compile them?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550487","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-337550487","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":337550487,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1MDQ4Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T17:44:58Z","updated_at":"2017-10-18T10:51:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nCurrently .vo files are more or less memory dumps of the process since Coq uses the Marshal library of Ocaml. So they are highly dependent on the way Ocaml has laid out the data structures. But in practice this layout hardly ever changes, so .vo files are not impacted much. If we wanted to make .vo files truly independent of Ocaml, we would have to implement a proper serialization of Coq data structures.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337550487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/798521752","html_url":"https://github.com/coq/coq/issues/5296#issuecomment-798521752","issue_url":"https://api.github.com/repos/coq/coq/issues/5296","id":798521752,"node_id":"MDEyOklzc3VlQ29tbWVudDc5ODUyMTc1Mg==","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2021-03-13T15:36:13Z","updated_at":"2021-03-13T15:36:13Z","author_association":"MEMBER","body":"Not sure how to solve this as indeed in general there is no way to tell more to the user other than indeed, the object list is in an inconsistent state.\r\n\r\n`dune coqtop file.v` will indeed ensure global consistency of `file` deps, so this error should never happen. That's a possible solution I think.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/798521752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]