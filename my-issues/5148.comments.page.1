[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548357","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548357","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548357,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM1Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-18T18:13:13Z","updated_at":"2017-10-18T10:44:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nTo build in 8.4pl1-6, 8.5, 8.5pl1, 8.5pl2, or v8.6, run: make\n\nIn src/Specific/X86/Exponent25519.v, there is an execution of an Ltac \nreification procedure that can run for over 90 hours without finishing.  The \ntypeclass log will display the progress each time the tactic recurses under \nbinders.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548358","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548358","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548358,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM1OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-18T18:13:18Z","updated_at":"2017-10-18T10:44:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nCreated attachment 775\ndevelopment with slow file\n\n> Attached file: [slow_fiat_crypto_reify.zip](https://coq.inria.fr/bugfiles/attachment.cgi?id=775) (application/zip, 85768 bytes)\n> Description:   development with slow file\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548359","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548359","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548359,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM1OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-23T17:12:28Z","updated_at":"2017-10-18T10:44:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nThe usual suspect: evar normalization, together with a typeclass-specific hotspot, namely the Class_tactics.evar_dependencies function which keeps calling Evarutil.undefined_evars_of_evar_info on huge terms.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548362","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548362","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548362,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM2Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-24T07:56:53Z","updated_at":"2017-10-18T10:44:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nI have a patch to mitigate the second issue, even though this still runs too slowly for me to check whether this makes the resolution tractable. If you want to try it, I can publish it.\n\nAn important remark though, after reading your example more closely, I'm smelling the odour of hidden costs due to deeply nested pattern-matching. I know that you're probably trying to keep working with 8.4, but I'd bet that turning your pairs into primitive records would give you exponential speedup, as it is a common fact. Inductive-based records are defective by design, I'd dare to say.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548363","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548363","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548363,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM2Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-24T15:50:07Z","updated_at":"2017-10-18T10:44:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThere's now a version at \nhttps://github.com/JasonGross/slow-coq-examples/tree/master/slow_fiat_crypto_reify_primproj \nthat uses a primitive version of [prod].  I'm not sure if the explicit \ndestructuring lets negate the effect of primitive projections; do you know if \nthey do?\n\nIs there any reason to not include the patch you have in 8.6?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548365","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548365","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548365,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM2NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-24T21:55:42Z","updated_at":"2018-03-29T18:42:01Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\r\n\r\n> I'm not sure if the explicit destructuring lets negate the\r\n> effect of primitive projections; do you know if they do?\r\nThat's unclear to me, and depends on the elaboration of such binding lets. I know that there is a few compatibility flags that you can turn off to change its behaviour, but that's way to messy for my little mind.\r\n\r\n> Is there any reason to not include the patch you have in 8.6?\r\nI don't like it, because it adds the cache in the extra field of evars. This means that potentially a lot of memory can be wasted in there, and this was indeed the reason for the performance bug reported by B. Pierce a few months ago. I've been cautious since. I'd love seeing a way to drop this cache when a evar is defined, which is easy to implement generically, but may not be considered as a bugfix for 8.6.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548367","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-337548367","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":337548367,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0ODM2Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-05-02T14:28:43Z","updated_at":"2017-10-18T10:44:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nIs this bug still valid since the merge of EConstr?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337548367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/377266291","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-377266291","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":377266291,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzI2NjI5MQ==","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2018-03-29T15:07:18Z","updated_at":"2018-03-29T15:07:18Z","author_association":"MEMBER","body":"@JasonGross ping.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/377266291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/398883940","html_url":"https://github.com/coq/coq/issues/5148#issuecomment-398883940","issue_url":"https://api.github.com/repos/coq/coq/issues/5148","id":398883940,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODg4Mzk0MA==","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2018-06-20T20:22:04Z","updated_at":"2018-06-20T20:22:04Z","author_association":"MEMBER","body":"Without further notice, I'll close this bug. Reopen it if still present.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/398883940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]