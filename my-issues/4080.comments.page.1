[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531895","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531895","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531895,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTg5NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-22T00:12:07Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThe clean target should be\n  clean::\nnot\n  clean:\n\nso that if I -include the makefile into another one, I can add to the clean rule, and not just overwrite it.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531898","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531898","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531898,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTg5OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-27T14:44:12Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nImplemented by commit f4d7d60.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531899","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531899","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531899,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTg5OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T16:34:32Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @pirbo\n\nWhen I wanted to add something to the clean target it used to be easy, I wrote :\n\n-extra-phony clean-test \"\" \"-rm -f  $(TESTVOFILES) $(TESTVFILES:.v=.glob) $(TESTVFILES:.v=.v.d)\"\n-extra-phony clean clean-test \"\"\n\nin my _CoqProject file\n\nIt now fails with the error :\nMakefile:360: *** target file `clean' has both : and :: entries.  Stop.\n\nHow could I do ?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531900","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531900","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531900,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T16:37:30Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nPresumably, your coq_makefile binary is not up-to-date. This issue was fixed by commit 0da6029.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531901","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531901","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531901,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:08:52Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @pirbo\n\nI must be extremely unclear, today !\n\nMy point is precisely \"using a recent coq_makefile, Container from the contribs repository does not compile anymore\" !\n\nDo ```touch Make``` to force the Makefile generation and here you are\nMakefile:360: *** target file `clean' has both : and :: entries.  Stop.\n\nSo How could I make ```make clean``` execute\nrm -f  $(TESTVOFILES) $(TESTVFILES:.v=.glob) $(TESTVFILES:.v=.v.d)\n\nin your new setting ?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531902","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531902","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531902,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:11:59Z","updated_at":"2017-10-18T09:54:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nI think the solution to this is to make the --extra-phony check if it's argument is one of the clean targets, and insert a double-colon if it is.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531903","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531903","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531903,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:12:28Z","updated_at":"2017-10-18T09:54:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(That is, coq_makefile.ml should be updated to do this, if it doesn't currently.)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531905","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531905","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:42:12Z","updated_at":"2017-10-18T09:54:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nPierre, I just tried compiling Containers from the contribs, it works just fine. (For some relative definition of \"fine\", since it fails when compiling src/generate.ml4, but at least the Makefile is correct.)\n\nJason, if you take a look at commit 0da6029 (which I mentioned earlier), you will notice that it is exactly what this commit implements.\n\nlet double_colon = [\"clean\"; \"cleanall\"; \"archclean\"]\nlet custom sps =\n  let pr_path (file,dependencies,is_phony,com) =\n    print file;\n    print (if List.mem file double_colon then \":: \" else \": \");\n    print dependencies; print \"\\n\";\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531906","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531906","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531906,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:43:34Z","updated_at":"2017-10-18T09:54:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAh, ok, sorry for not checking that first.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531907","html_url":"https://github.com/coq/coq/issues/4080#issuecomment-337531907","issue_url":"https://api.github.com/repos/coq/coq/issues/4080","id":337531907,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMTkwNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-03-28T18:49:47Z","updated_at":"2017-10-18T09:54:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @pirbo\n\nSorry too. I am up to date but I'm trunk !!!\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337531907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]