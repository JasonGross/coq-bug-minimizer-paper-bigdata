[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513719","html_url":"https://github.com/coq/coq/issues/2990#issuecomment-337513719","issue_url":"https://api.github.com/repos/coq/coq/issues/2990","id":337513719,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxMzcxOQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-02-18T03:12:08Z","updated_at":"2017-10-18T09:01:37Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThe following code causes \"Anomaly: Uncaught exception Not_found. Please report.\"\n\n  Goal True.\n    evar (pfT : Type).\n    cut pfT.\n    subst pfT.\n    intro pf.\n    refine ((fun A : Set => pf A) unit).\n\nReplacing [refine] with [exact] makes the anomaly not occur.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513720","html_url":"https://github.com/coq/coq/issues/2990#issuecomment-337513720","issue_url":"https://api.github.com/repos/coq/coq/issues/2990","id":337513720,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxMzcyMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-02-18T13:13:09Z","updated_at":"2017-10-18T09:01:37Z","author_association":"CONTRIBUTOR","body":"Comment author: @aspiwack\n\nAmusingly enough, it may or may not be a bug of refine. In my branch, where refine has been reimplemented, I get another anomaly: Non-functional construction.\n\nI'm not sure what can cause that, but in the case of my branch, it very much looks like an existential variable instantiation that gets forgotten.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513721","html_url":"https://github.com/coq/coq/issues/2990#issuecomment-337513721","issue_url":"https://api.github.com/repos/coq/coq/issues/2990","id":337513721,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxMzcyMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-02-18T19:21:08Z","updated_at":"2017-10-18T09:01:38Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nIf it's at all helpful, the backtrace on trunk (30302a47d06b3d92238524e7727b380f90960d40), thanks to Pierre-Marie PÃ©drot's fancy backtrace printing with the -debug flag.\n\nAnomaly: Uncaught exception Not_found(_). Please report.\nframe @  file \"tactics/tacinterp.ml\", line 72, characters 6-11\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\nframe @  file \"lib/cList.ml\", line 313, characters 19-24\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\nraise @  file \"lib/flags.ml\", line 15, characters 10-11\nframe @  file \"lib/flags.ml\", line 11, characters 14-17\nframe @  file \"proofs/refiner.ml\", line 27, characters 21-67\nframe @  file \"proofs/logic.ml\", line 626, characters 29-59\nframe @  file \"proofs/logic.ml\", line 370, characters 2-33\nframe @  file \"proofs/logic.ml\", line 439, characters 10-36\nframe @  file \"pretyping/typing.ml\", line 269, characters 10-33\nframe @  file \"pretyping/typing.ml\", line 223, characters 17-39\nframe @  file \"pretyping/typing.ml\", line 58, characters 5-46\nframe @  file \"pretyping/evarconv.ml\", line 904, characters 8-46\nraise @  unknown\nframe @  file \"pretyping/evarsolve.ml\", line 1385, characters 10-54\nraise @  unknown\nframe @  file \"pretyping/evarsolve.ml\", line 1287, characters 6-47\nframe @  file \"pretyping/evarsolve.ml\", line 1085, characters 12-28\nraise @  file \"map.ml\", line 118, characters 16-25\n\nThis seems to support your guess that it's an evar that gets forgotten, as the not_found comes from \"let evi = Evd.find evd evk in\" in\n\nlet solve_candidates conv_algo env evd (evk,argsv as ev) rhs =\n  let evi = Evd.find evd evk in\n  let args = Array.to_list argsv in\n  match evi.evar_candidates with\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513724","html_url":"https://github.com/coq/coq/issues/2990#issuecomment-337513724","issue_url":"https://api.github.com/repos/coq/coq/issues/2990","id":337513724,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxMzcyNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-12-16T13:04:39Z","updated_at":"2017-10-18T09:01:38Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nThis fixed in trunk.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337513724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]