[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516547","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516547","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516547,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU0Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-11-23T16:09:19Z","updated_at":"2018-02-23T23:08:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nSorry it's a bit long.  I may try to minimize it later.  The pose proof at the bottom gives \"Anomaly: Not enough lambda/let's. Please report.\"  Perhaps it has something to do with the hypothesis not being beta reduced?\r\n```coq\r\nSet Asymmetric Patterns.\r\n\r\nSection eq.\r\n  Let A := { X : Type & X }.\r\n  Let B := (fun x : A => projT1 x).\r\n  Let T := (fun (a' : A) (b' : B a') => projT2 a' = b').\r\n  Let T' := T.\r\n  Let t1T := (fun _ : A => unit).\r\n  Let f1 := (fun x (_ : t1T x) => projT2 x).\r\n  Let t1 := (fun x (y : t1T x) => @ eq_refl (projT1 x) (projT2 x)).\r\n  Let t1T' := t1T.\r\n  Let f1' := f1.\r\n  Let t1' := t1.\r\n\r\n  Theorem eq_matches_commute\r\n          a' b' (t' : T a' b')\r\n          (rta : forall b'', T' a' b'' -> A)\r\n          (rtb : forall b'' t'', B (rta b'' t''))\r\n          (rt1 : forall y, T _ (rtb (f1' a' y) (@ t1' a' y)))\r\n          (R : forall (b : B (rta b' t')), T _ b -> Type)\r\n          (r1 : forall y, R (f1 _ y) (@ t1 _ y))\r\n  : match\r\n      match t' as t0' in (@ eq _ _ b0') return T (rta b0' t0') (rtb b0' t0') with\r\n        | eq_refl => rt1 tt\r\n      end\r\n      as t0 in (@ eq _ _ b0)\r\n      return R b0 t0\r\n    with\r\n      | eq_refl => r1 tt\r\n    end\r\n    =\r\n    match t'\r\n          as t0' in (@ eq _ _ b0')\r\n          return (forall (R : forall (b : B (rta b0' t0')), T _ b -> Type)\r\n                         (r1 : forall y, R (f1 _ y) (@ t1 _ y)),\r\n                    R _ (match t0' as t0'0 in (@ eq _ _ b0'0) return T (rta b0'0 t0'0) (rtb b0'0 t0'0) with\r\n                           | eq_refl => rt1 tt\r\n                         end))\r\n    with\r\n      | eq_refl => fun _ r1 =>\r\n                      match rt1 tt with\r\n                        | eq_refl => r1 tt\r\n                      end\r\n    end R r1.\r\n  Proof.\r\n    destruct t'; reflexivity.\r\n  Defined.\r\n\r\n  Theorem eq_match_beta2\r\n          a b (t : T a b)\r\n          X\r\n          (R : forall b' (t' : T a b'), X b' -> Type)\r\n          (r1 : forall y x, R _ (@ t1 _ y) x)\r\n          x\r\n  : match t as t' in (@ eq _ _ b') return forall x, R b' t' x with\r\n      | eq_refl => r1 tt\r\n    end (x b)\r\n    =\r\n    match t as t' in (@ eq _ _ b') return R b' t' (x b') with\r\n      | eq_refl => r1 tt (x _)\r\n    end.\r\n  Proof.\r\n    destruct t; reflexivity.\r\n  Defined.\r\nEnd eq.\r\n\r\nDefinition typeof {T} (_ : T) := T.\r\n\r\nEval compute in (eq_sym (eq_sym _)).\r\nGoal forall T (x y : T) (p : x = y), True.\r\n  intros.\r\n  pose proof\r\n       (@ eq_matches_commute\r\n          (existT (fun T => T) T x) y p\r\n          (fun b'' _ => existT (fun T => T) T b'')\r\n          (fun _ _ => x)\r\n          (fun _ => eq_refl)\r\n          (fun x' _ => x' = y)\r\n          (fun _ => eq_refl)\r\n        ) as H0.\r\n  compute in H0.\r\n  change (fun (x' : T) (_ : y = x') => x' = y) with ((fun y => fun (x' : T) (_ : y = x') => x' = y) y) in H0.\r\n  pose proof (fun k => @ eq_trans _ _ _ k H0).\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516549","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516549","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516549,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU0OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-19T15:30:00Z","updated_at":"2018-02-23T23:05:30Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\r\n\r\nHere is a reduced testcase. The change tactic is hitting right in the return clause of the match and, from there, everything goes wrong. (pose and clearbody are not even needed to get the anomaly, but they hasten it.)\r\n```coq\r\nParameter T : Set.\r\nInductive eq x : T -> Prop := eq_refl : eq x x.\r\nParameter any: forall {T : Prop} (_:T), Prop.\r\nLemma foo (y : T) : True.\r\nrefine (_ (_ : any match _ in (eq _ x) return (eq x y)\r\n  with eq_refl _ => eq_refl _ end)).\r\nchange (fun x (_ : eq y x) => eq x y) with ((fun y x (_ : eq y x) => eq x y)\r\ny).\r\nintro H.\r\npose (e := H).\r\nclearbody e.\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516552","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516552","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516552,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-23T22:48:47Z","updated_at":"2019-03-20T10:44:18Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\r\n\r\nThis bug touches at a deep issue in the design of the CCI: what is the\r\ndefinition of a subterm of a term?\r\n\r\nMy own view, which is maybe not the one of the early designers of the CIC, is that in `match t as x in I yi return P with Cj xij => tj end`, the subterms are `t`, `P`, the `tj` and their own subterms. This contrasts with the internal representation of `match` where all subterms of `fun yi x => P` and of `fun xij => tj` are subterms of the `match`, even though the types of `yi`, `x` and `xij` are canonically derivable from the type of `t`, and even though there are not explicit in the concrete syntax.\r\n\r\nIt is long time ago that changing the internal representation of the return predicate and of the branches of a `match` has been discussed (probably more than 10 years ago). At some time, Benjamin Gr√©goire had almost something working but for some reason, it did not converge.\r\n\r\nIn my opinion, the best way to ensure this notion of subterm is to change the internal representation of terms.\r\n\r\nAn alternative would be to change only the iter/fold/map/etc combinators over terms, which by the way could be done step by step.\r\n\r\nIn any case, I think this is not of the \"bug fix\" kind but of the \"design\" kind issue.\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516553","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516553","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516553,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-23T23:01:24Z","updated_at":"2017-10-18T09:09:55Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nJust out of curiosity, isn't there some flexibility in the domains of lambdas in return clauses with universe subtyping?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516554","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516554","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516554,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-03-20T18:01:00Z","updated_at":"2018-02-23T23:10:24Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nMaxime, that does seem to be the case, though I'm not sure what the flexibility could be useful for...\r\n\r\nSee, e.g.,\r\n```coq\r\nUniverse i j.\r\nAxiom admit : False.\r\nSet Printing Universes.\r\nGoal forall (A : Type@{i}) (x y : Type@{i}) (X : x) (p : x = y) (P : _ -> Prop),\r\nP match p in (_ = y') return y' with\r\n| eq_refl => X\r\nend.\r\nintros.\r\nchange Type@{i} with Type@{j}.\r\nchange (fun (y' : ?T) (y'' : eq x y') => @ ?B y' y'') with\r\n(fun (y' : T) (y'' : eq x y') => (fun (y' : T) (y'' : eq x y') => B y' y'') y' y''). (* shows Type@{j} rather than Type@{i} *)\r\ncase admit.\r\nDefined.\r\nPrint Universes.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516555","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516555","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516555,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-25T17:01:09Z","updated_at":"2021-04-17T11:44:51Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\n*** Bug #4676 has been marked as a duplicate of this bug. ***\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516556","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516556","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516556,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-25T18:25:32Z","updated_at":"2017-10-18T09:09:55Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nThe more I'm thinking about this issue, the more I'm leaning towards considering that the hidden part of a \"match\" is a part which is canonically generated from the signature of the inductive types by substitution of the parameters of the inductive types.\n\nThe drawback is that one would need typing the matched term in order to build the typing environment of the predicate and branches of a \"match\" and it remains to be evaluated whether it would not be to difficult to implement.\n\nThe clear advantage of this approach is that one would get an internal representation in exact adequation with the external, and it would be clear that matching subterms would not traverse at all the context of the return type and the contexts of the branches of a \"match\", and these contexts would remain correct by construction.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516558","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516558","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516558,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU1OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T06:06:22Z","updated_at":"2019-03-20T10:39:17Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\r\n\r\nI am not sure to understand. Why would it be harder to type a return clause `(fun (p:?1) (x:I p) => f p x : ?2)` than to type a return clause `(f _1 _2 : ?2)` with `(_1:?1) (_2:I _1)` for an inductive type `I`? It seems to me we have exactly the same information and that, in both cases, we might have to type the matched term in order to deduce `?1` if it is not readily apparent from `?2`.\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516560","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516560","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516560,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU2MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T06:08:09Z","updated_at":"2017-10-18T09:09:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nSorry, obviously I meant it the other way. Why is the actual form (fun _ => _) simpler?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516562","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516562","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516562,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU2Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T06:12:28Z","updated_at":"2017-10-18T09:09:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nIIRC, for an inductive I with parameters p and index a, the current form is fun (a : ?1) (x : I p a) => t. If we remove the lambdas, we need to get the instantiated parameter p from somewhere else. That said, I think it would be worth trying!\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516564","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-337516564","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":337516564,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNjU2NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T06:32:38Z","updated_at":"2017-10-18T09:09:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nYes, that was a dumb question of mine. In one case, the pretyper-inferred types are remembered, while in the other case, the typechecker has to infer them anew. So it might not be harder (?), but it is at least slower.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337516564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/368165668","html_url":"https://github.com/coq/coq/issues/3166#issuecomment-368165668","issue_url":"https://api.github.com/repos/coq/coq/issues/3166","id":368165668,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODE2NTY2OA==","user":{"login":"herbelin","id":460771,"node_id":"MDQ6VXNlcjQ2MDc3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/460771?v=4","gravatar_id":"","url":"https://api.github.com/users/herbelin","html_url":"https://github.com/herbelin","followers_url":"https://api.github.com/users/herbelin/followers","following_url":"https://api.github.com/users/herbelin/following{/other_user}","gists_url":"https://api.github.com/users/herbelin/gists{/gist_id}","starred_url":"https://api.github.com/users/herbelin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/herbelin/subscriptions","organizations_url":"https://api.github.com/users/herbelin/orgs","repos_url":"https://api.github.com/users/herbelin/repos","events_url":"https://api.github.com/users/herbelin/events{/privacy}","received_events_url":"https://api.github.com/users/herbelin/received_events","type":"User","site_admin":false},"created_at":"2018-02-23T23:12:38Z","updated_at":"2018-02-23T23:12:38Z","author_association":"MEMBER","body":"Note: @silene example (in his first comment) now works, but initial bug not (i.e. the underlying CCI issue is still there).","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/368165668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]