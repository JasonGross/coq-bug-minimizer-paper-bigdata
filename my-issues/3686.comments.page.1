[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525242","html_url":"https://github.com/coq/coq/issues/3686#issuecomment-337525242","issue_url":"https://api.github.com/repos/coq/coq/issues/3686","id":337525242,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNTI0Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-30T17:29:22Z","updated_at":"2017-10-18T09:34:49Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* File reduced by coq-bug-finder from original input, then from 14001 lines to 844 lines, then from 848 lines to 615 lines, then fro\\\nm 624 lines to 301 lines, then from 190 lines to 89 lines *)\n(* coqc version trunk (September 2014) compiled on Sep 29 2014 14:5:39 with OCaml 4.01.0\n   coqtop version cagnode16:/afs/csail.mit.edu/u/j/jgross/coq-HoTT,(no branch) (e8726550e01e51ef3ccf8602f2ecbe2b3737cca3) *)\nSet Universe Polymorphism.\nSet Implicit Arguments.\nRecord PreCategory := { object :> Type ; morphism : object -> object -> Type }.\nBind Scope category_scope with PreCategory.\nRecord Functor (C D : PreCategory) :=\n  { object_of :> C -> D;\n    morphism_of : forall s d, morphism C s d -> morphism D (object_of s) (object_of d);\n    identity_of : forall s m, morphism_of s s m = morphism_of s s m }.\nDefinition sub_pre_cat (P : PreCategory -> Type) : PreCategory.\nProof.\n  exact (@ Build_PreCategory PreCategory Functor).\nDefined.\nDefinition opposite (C : PreCategory) : PreCategory.\nProof.\n  exact (@ Build_PreCategory C (fun s d => morphism C d s)).\nDefined.\nLocal Notation \"C ^op\" := (opposite C) (at level 3, format \"C '^op'\") : category_scope.\nDefinition prod (C D : PreCategory) : PreCategory.\nProof.\n  refine (@ Build_PreCategory\n            (C * D)%type\n            (fun s d => (morphism C (fst s) (fst d) * morphism D (snd s) (snd d))%type)).\nDefined.\nLocal Infix \"*\" := prod : category_scope.\nAxiom functor_category : PreCategory -> PreCategory -> PreCategory.\nLocal Notation \"C -> D\" := (functor_category C D) : category_scope.\nModule Export PointwiseCore.\n  Definition pointwise\n             (C C' : PreCategory)\n             (F : Functor C' C)\n             (D D' : PreCategory)\n             (G : Functor D D')\n  : Functor (C -> D) (C' -> D').\n  Proof.\n    refine (Build_Functor\n              (C -> D) (C' -> D')\n              _\n              _\n              _);\n    abstract admit.\n  Defined.\nEnd PointwiseCore.\nAxiom Pidentity_of : forall (C D : PreCategory) (F : Functor C C) (G : Functor D D), pointwise F G = pointwise F G.\nLocal Open Scope category_scope.\nDefinition functor_uncurried (P : PreCategory -> Type)\n           (has_functor_categories : forall C D : @ sub_pre_cat P, P (C -> D))\n: object (((@ sub_pre_cat P)^op * (@ sub_pre_cat P)) -> (@ sub_pre_cat P)).\nProof.\n  pose (let object_of := (fun CD => (((fst CD) -> (snd CD))))\n        in Build_Functor\n             ((@ sub_pre_cat P)^op * (@ sub_pre_cat P)) (@ sub_pre_cat P)\n             object_of\n             (fun CD C'D' FG => pointwise (fst FG) (snd FG))\n             (fun _ _ => Pidentity_of _ _)) || fail \"early\".\n  Include PointwiseCore.\n  pose (let object_of := (fun CD => (((fst CD) -> (snd CD))))\n        in Build_Functor\n             ((@ sub_pre_cat P)^op * (@ sub_pre_cat P)) (@ sub_pre_cat P)\n             object_of\n             (fun CD C'D' FG => pointwise (fst FG) (snd FG))\n             (fun _ _ => Pidentity_of _ _)).\n  (* Toplevel input, characters 21-297:\nError: Conversion test raised an anomaly *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525243","html_url":"https://github.com/coq/coq/issues/3686#issuecomment-337525243","issue_url":"https://api.github.com/repos/coq/coq/issues/3686","id":337525243,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNTI0Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-13T13:17:05Z","updated_at":"2017-10-18T09:34:50Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nOn the current v8.5 branch, the definition of sub_pre_cat fails with a universe inconsistency. Does that solve the problem?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525245","html_url":"https://github.com/coq/coq/issues/3686#issuecomment-337525245","issue_url":"https://api.github.com/repos/coq/coq/issues/3686","id":337525245,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNTI0NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-13T19:36:45Z","updated_at":"2017-10-18T09:34:50Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n[sub_pre_cat] should work fine.  If this gives you a universe inconsistency with [Set Universe Polymorphism] on, that is a separate bug.  But the entire file works fine for me in b8efac9f2cadbc0f700408fcb6f8187ef6527fd9.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525249","html_url":"https://github.com/coq/coq/issues/3686#issuecomment-337525249","issue_url":"https://api.github.com/repos/coq/coq/issues/3686","id":337525249,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNTI0OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-25T14:45:53Z","updated_at":"2017-10-18T09:34:50Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nI do get a universe inconsistency with 6900909e90dfa65d1c42bfcd67135e91317a8b2c. Maybe Matthieu can have a look at the problem?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525250","html_url":"https://github.com/coq/coq/issues/3686#issuecomment-337525250","issue_url":"https://api.github.com/repos/coq/coq/issues/3686","id":337525250,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNTI1MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-25T14:55:37Z","updated_at":"2017-10-18T09:34:50Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nSorry, I ran the test with the wrong version. Seems fixed in v8.5 branch (the example runs fine).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337525250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]