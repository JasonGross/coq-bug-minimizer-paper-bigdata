[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541425","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-337541425","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":337541425,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MTQyNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T18:58:06Z","updated_at":"2018-02-24T17:59:00Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\n```coq\r\nLemma min_def {x y} : min x y = x - (x - y).\r\nProof. apply Min.min_case_strong; omega. Qed.\r\nLemma max_def {x y} : max x y = x + (y - x).\r\nProof. apply Max.max_case_strong; omega. Qed.\r\n```\r\n\r\nI want [omega] to take advantage of these two identities to handle systems involving [min] and [max].\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541427","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-337541427","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":337541427,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MTQyNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T19:08:18Z","updated_at":"2017-10-18T10:22:19Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nHmmm, [omega] seems to be slow at such equations, though.  For example:\n\n\nLemma min_minus_l x y\n  : min (x - y) x = x - y.\nProof. Time apply Min.min_case_strong; omega. Qed. (* Finished transaction in 0. secs (0.06u,0.004s) *)\n\nLemma min_minus_l' x y\n  : min (x - y) x = x - y.\nProof. Time rewrite min_def; omega. Qed. (* Finished transaction in 1. secs (1.128u,0.004s) *)\n\nWhat's going on here?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/368109170","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-368109170","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":368109170,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODEwOTE3MA==","user":{"login":"letouzey","id":1541597,"node_id":"MDQ6VXNlcjE1NDE1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1541597?v=4","gravatar_id":"","url":"https://api.github.com/users/letouzey","html_url":"https://github.com/letouzey","followers_url":"https://api.github.com/users/letouzey/followers","following_url":"https://api.github.com/users/letouzey/following{/other_user}","gists_url":"https://api.github.com/users/letouzey/gists{/gist_id}","starred_url":"https://api.github.com/users/letouzey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/letouzey/subscriptions","organizations_url":"https://api.github.com/users/letouzey/orgs","repos_url":"https://api.github.com/users/letouzey/repos","events_url":"https://api.github.com/users/letouzey/events{/privacy}","received_events_url":"https://api.github.com/users/letouzey/received_events","type":"User","site_admin":false},"created_at":"2018-02-23T19:10:02Z","updated_at":"2018-02-23T19:10:02Z","author_association":"CONTRIBUTOR","body":"Concerning the primitive support of `min` and `max` by `omega` (either on `nat` or `Z`), I don't think that's going to happen (in particular I won't do it myself). That would be way too much tweaking of the code of this tactic which is quite ... \"historical\", with unclear effect on the compatibility.\r\n\r\nMoreover, `min` and `max` are already supported by the `omega with ...` family of enhanced versions of `omega` (more specifically : `omega with nat`, `omega with Z`, or the general `omega with *`).\r\nLet me remind that these tactics are actually `omega` launched after some preprocessing (see the `zify` family of tactics in `PreOmega.v`). For instance, all the proofs above could be finished by a mere `omega with *`.\r\n\r\nConcerning efficiency, I won't investigate the time difference you noticed. If you're concerned with efficiency, you simply **shouldn't** use `omega`. Ever. Instead, `romega` (or rather `romega with *`) is an 99%-compatible alternative which is **really** faster and lighter. In particular `romega with *` is also able to prove all the above lemmas in just no time. You could also try `lia`.\r\n\r\nUnless there are strong objections, I plan to close this issue due to a mix of WONTFIX and ALTERNATIVE_EXISTS...","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/368109170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/368247654","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-368247654","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":368247654,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODI0NzY1NA==","user":{"login":"Zimmi48","id":1108325,"node_id":"MDQ6VXNlcjExMDgzMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1108325?v=4","gravatar_id":"","url":"https://api.github.com/users/Zimmi48","html_url":"https://github.com/Zimmi48","followers_url":"https://api.github.com/users/Zimmi48/followers","following_url":"https://api.github.com/users/Zimmi48/following{/other_user}","gists_url":"https://api.github.com/users/Zimmi48/gists{/gist_id}","starred_url":"https://api.github.com/users/Zimmi48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zimmi48/subscriptions","organizations_url":"https://api.github.com/users/Zimmi48/orgs","repos_url":"https://api.github.com/users/Zimmi48/repos","events_url":"https://api.github.com/users/Zimmi48/events{/privacy}","received_events_url":"https://api.github.com/users/Zimmi48/received_events","type":"User","site_admin":false},"created_at":"2018-02-24T18:11:03Z","updated_at":"2018-02-24T18:11:40Z","author_association":"MEMBER","body":"BTW @letouzey there was a recent discussion on Gitter on `omega` / `romega` / `lia` triggered by someone coming and asking why `omega` was so slow. People then advised using `romega` or `lia` but overall what one should conclude from this is that the problem is not that alternatives don't exist (they do) but that they are not sufficiently put forward. `omega` has a full (albeit small) chapter dedicated to it in the reference manual and not once it is advised there to prefer the modern `romega` or `lia`. But what's even worse is that `romega` is not even documented! See #4805.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/368247654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/368255869","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-368255869","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":368255869,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODI1NTg2OQ==","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2018-02-24T20:05:24Z","updated_at":"2018-02-24T20:05:24Z","author_association":"MEMBER","body":"`omega with nat` does not work, though `omega with *` does.\r\n```coq\r\nRequire Import Coq.omega.Omega.\r\nGoal forall x : nat, min x x = x.\r\n  intros.\r\n  Fail omega.\r\n  Fail omega with nat.\r\n  Fail omega with Z.\r\n  omega with *. (* success *)\r\n```\r\nAlso, `omega with` seems undocumented; I've made https://github.com/coq/coq/issues/6829 .","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/368255869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/369196915","html_url":"https://github.com/coq/coq/issues/4657#issuecomment-369196915","issue_url":"https://api.github.com/repos/coq/coq/issues/4657","id":369196915,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTE5NjkxNQ==","user":{"login":"letouzey","id":1541597,"node_id":"MDQ6VXNlcjE1NDE1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1541597?v=4","gravatar_id":"","url":"https://api.github.com/users/letouzey","html_url":"https://github.com/letouzey","followers_url":"https://api.github.com/users/letouzey/followers","following_url":"https://api.github.com/users/letouzey/following{/other_user}","gists_url":"https://api.github.com/users/letouzey/gists{/gist_id}","starred_url":"https://api.github.com/users/letouzey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/letouzey/subscriptions","organizations_url":"https://api.github.com/users/letouzey/orgs","repos_url":"https://api.github.com/users/letouzey/repos","events_url":"https://api.github.com/users/letouzey/events{/privacy}","received_events_url":"https://api.github.com/users/letouzey/received_events","type":"User","site_admin":false},"created_at":"2018-02-28T10:31:25Z","updated_at":"2018-02-28T10:31:25Z","author_association":"CONTRIBUTOR","body":"@JasonGross : my bad, indeed `omega with nat` is not enough to solve your example on `nat`. It just triggers the use of `zify_nat`, that converts the problem to the corresponding problem on `Z`, but does nothing special for `min`, only converts it to `Z.min`. Then we're back to the initial issue : `omega` alone doesn't handle `Z.min`. So we need here at least `omega with nat Z`, since the `with ... Z` precisely brings some special handling of functions `Z.max`, `Z.min`, `Z.abs`, `Z.sgn`. And note that `omega with *` is `omega with nat positive N Z`.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/369196915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]