[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530722","html_url":"https://github.com/coq/coq/issues/4007#issuecomment-337530722","issue_url":"https://api.github.com/repos/coq/coq/issues/4007","id":337530722,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDcyMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-07T00:45:12Z","updated_at":"2017-10-18T09:50:30Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n$ cat foo.v\nSection foo.\n  Theorem A : False.\n  Proof.\n  Defined.\n\n\n\nEnd foo.\n\n$ coqc foo\nFile \"./foo.v\", line 4, characters 2-10:\nError: Attempt to save an incomplete proof\n$ coqc -quick foo\nFile \"./foo.v\", line 8, characters 0-8:\nError: Attempt to save an incomplete proof\n\nThey seem to be tied to the [End section] line.  (This is 9e6b28c04ad98369a012faf3bd4d630cf123a473)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530724","html_url":"https://github.com/coq/coq/issues/4007#issuecomment-337530724","issue_url":"https://api.github.com/repos/coq/coq/issues/4007","id":337530724,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDcyNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-10-25T07:29:56Z","updated_at":"2017-10-18T09:50:30Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nEnrico, I forgot what the diagnosis was here. Is it a location error or an STM issue?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530725","html_url":"https://github.com/coq/coq/issues/4007#issuecomment-337530725","issue_url":"https://api.github.com/repos/coq/coq/issues/4007","id":337530725,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzMDcyNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-10T15:50:49Z","updated_at":"2017-10-18T09:50:30Z","author_association":"CONTRIBUTOR","body":"Comment author: @ejgallego\n\nIt is an issue of the STM not reporting the location properly. In fact, in trunk, the error in `-quick` will display no location.\n\nIn Vo mode, coqtop will immediately force checking of the `Define` command, which will trig an error, and as coqtop knows the exact location the error was caused, it will relay it.\n\nHowever, in -quick mode, coqtop successfully process the whole file without an error, but is the last call to `Stm.finish ()` which will produce the error; and in this case Stm.reach is not able to properly identify the sentence of origin .\n\nSolving this will require some mildly deep changes to the STM, thus 8.8 material.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337530725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/875761862","html_url":"https://github.com/coq/coq/issues/4007#issuecomment-875761862","issue_url":"https://api.github.com/repos/coq/coq/issues/4007","id":875761862,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc2MTg2Mg==","user":{"login":"Alizter","id":8614547,"node_id":"MDQ6VXNlcjg2MTQ1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8614547?v=4","gravatar_id":"","url":"https://api.github.com/users/Alizter","html_url":"https://github.com/Alizter","followers_url":"https://api.github.com/users/Alizter/followers","following_url":"https://api.github.com/users/Alizter/following{/other_user}","gists_url":"https://api.github.com/users/Alizter/gists{/gist_id}","starred_url":"https://api.github.com/users/Alizter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alizter/subscriptions","organizations_url":"https://api.github.com/users/Alizter/orgs","repos_url":"https://api.github.com/users/Alizter/repos","events_url":"https://api.github.com/users/Alizter/events{/privacy}","received_events_url":"https://api.github.com/users/Alizter/received_events","type":"User","site_admin":false},"created_at":"2021-07-07T16:46:54Z","updated_at":"2021-07-07T16:46:54Z","author_association":"CONTRIBUTOR","body":"Still seems to be a problem in 8.15+alpha\r\n```coq\r\n$ coqc issue_4007.v \r\nFile \"./issue_4007.v\", line 4, characters 0-8:\r\nError:  (in proof A): Attempt to save an incomplete proof\r\n\r\n\r\n$ coqc -vio issue_4007.v \r\nFile \"./issue_4007.v\", line 6, characters 0-8:\r\nError:  (in proof A): Attempt to save an incomplete proof\r\n\r\n\r\n$ cat issue_4007.v\r\nSection foo.\r\nTheorem A : False.\r\nProof.\r\nDefined.\r\n\r\nEnd foo.\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/875761862/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]