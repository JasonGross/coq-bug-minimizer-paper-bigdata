[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543014","html_url":"https://github.com/coq/coq/issues/4777#issuecomment-337543014","issue_url":"https://api.github.com/repos/coq/coq/issues/4777","id":337543014,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzAxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T21:31:53Z","updated_at":"2017-10-18T10:27:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(** Coq is slow, interactively, even if there is nothing big being displayed, if there are big hidden things *)\n(** Use `coqtop -time -emacs < file.v` to see the slowness in Coq 8.5; in 8.4, the [Time] directive picks up the slowness in ProofGeneral *)\n\nDefinition dhidden {T} {x : T} := x.\nDefinition nhidden {T} (x : T) := x.\nNotation Nhidden := (nhidden _).\n\nAxiom iter2 : bool -> bool -> bool.\nFixpoint do2 (n : nat) (A : bool) :=\n  match n with\n    | 0 => A\n    | S n' => do2 n' (iter2 A A)\n  end.\nAxiom x : bool.\n\nGoal True.\n  Time idtac. (* 0.0s *)\n  let x := constr:(do2 19 x) in\n  let x := (eval vm_compute in x) in\n  pose (@ dhidden _ x).\n  Unset Silent.\n  Time idtac. (* 3.7 s in 8.4; still slow (about 1.5 s) in 8.5, but not displayed with [Time] *)\n  Time idtac.\n  Time idtac.\n  Set Silent. Time idtac. Set Silent. (* 0.084 s in 8.4, which is still slow, but not insanely slow *)\n  Set Silent. Time idtac. Set Silent.\n  Set Silent. Time idtac. Set Silent.\nAbort.\n\n\nGoal True.\n  Time idtac. (* 0.0s *)\n  let x := constr:(do2 19 x) in\n  let x := (eval vm_compute in x) in\n  pose (@ nhidden _ x).\n  Unset Silent.\n  Time idtac. (* 1.0 s in 8.4; still slow (about 0.5 s) in 8.5, but not displayed with [Time] *)\n  Time idtac.\n  Time idtac.\n  Set Silent. Time idtac. Set Silent. (* 0.084 s in 8.4, which is still slow, but not insanely slow *)\n  Set Silent. Time idtac. Set Silent.\n  Set Silent. Time idtac. Set Silent.\nAbort.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543015","html_url":"https://github.com/coq/coq/issues/4777#issuecomment-337543015","issue_url":"https://api.github.com/repos/coq/coq/issues/4777","id":337543015,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzAxNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-07T21:04:33Z","updated_at":"2017-10-18T10:27:34Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nShould be fixed by 87f9a31. Can you confirm?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543017","html_url":"https://github.com/coq/coq/issues/4777#issuecomment-337543017","issue_url":"https://api.github.com/repos/coq/coq/issues/4777","id":337543017,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MzAxNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-08T02:07:12Z","updated_at":"2017-10-18T10:27:34Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nIt's much better!  The file now takes 2.771s, down from 7.576s, and the individual [idtac]s now take 0.12--0.6 seconds, down from 1.2--1.5 seconds.  (Still a far cry from the 0.0012 seconds of [idtac]s on [Set Silent], unfortunately.)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337543017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]