[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542353","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542353","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542353,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM1Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T16:40:36Z","updated_at":"2017-10-18T10:25:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPlease revert 27689bac62f85c039517cbd003f8ea74cb9b4aa7, or add a flag that reverts it and add that flag to the Compat/Coq84.v file.  Here is a script that passes in Coq 8.4 and in Coq 8.5pl1, but not in Coq 8.5.dev.\n\nGlobal Set Regular Subst Tactic.\nGoal forall (P : Set) (l : P) (P0 : Set) (w w0 : P0) (T : Type) (a : P * T) (o : P -> option P0),\n    (forall (l1 l2 : P) (w1 : P0), o l1 = Some w1 -> o l2 = Some w1 -> l1 = l2) ->\n    o l = Some w -> o (fst a) = Some w0 -> {w = w0} + {w <> w0} -> False.\nProof.\n  clear; intros ???????? inj H0 H1 H2.\n  destruct H2; intuition subst.\n  eapply inj in H1; [ | eauto ].\n  progress subst.\nAbort.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542354","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542354","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542354,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM1NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T21:19:24Z","updated_at":"2020-11-27T16:43:07Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\r\n\r\nHi Jason,\r\n\r\nMaybe I was not clear in my comment 9 to #4222: The \"Regular\" mode is new and moreover unset by default in 8.5. In particular, #4222 was caused by a bug in my partial reimplementation of subst which affected the non-regular mode.\r\n\r\nSo, by default, there is no need for a Set Regular Subst Tactic in Coq84.v (but, if 8.6 keeps the flag set as trunk does now, the forthcoming Coq85.v in 8.6 will have to _unset_ the flag).\r\n\r\nSo, as a consequence of 27689bac6 being thought as a fix of the Regular mode, and I believe it is legitimate to think so, this script fails because it used an unperfect implementation of the regular mode in 8.5 and 8.5pl1.\r\n\r\nIs this ok for you? Can I set the bug as invalid?\r\n\r\nOn the other side Coq84.v will have to be changed.\r\n\r\nHugo\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542355","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542355","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542355,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM1NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T22:13:50Z","updated_at":"2017-10-18T10:25:21Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAh, yes, I think I misinterpreted your comment.  If it's not required for compatibility, then it should be removed from Coq84.v (before pl2 is released), and unset in Coq85.v in trunk.\n\nI don't think the bug is invalid (it's true as described), but I now think the correct fix is to remove `Set Regular Subst Tactic` from the Coq84.v file, rather than to revert 27689bac62f85c039517cbd003f8ea74cb9b4aa7.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542357","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542357","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542357,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM1Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-14T18:20:21Z","updated_at":"2017-10-18T10:25:22Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nI fixed the Coq84.v file, thus closing.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542359","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542359","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542359,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM1OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-14T19:42:29Z","updated_at":"2017-10-18T10:25:22Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThanks!\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542361","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542361","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542361,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM2MQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-06T19:04:39Z","updated_at":"2020-11-27T16:43:26Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nIn Coq trunk, at least, this code still fails with -compat 8.4, so I'm reopening.\r\n\r\n```coq\r\n(* -*- coq-prog-args: (\"-emacs\" \"-compat\" \"8.4\") -*- *)\r\nGoal forall (P : Set) (l : P) (P0 : Set) (w w0 : P0) (T : Type) (a : P * T) (o : P -> option P0),\r\n    (forall (l1 l2 : P) (w1 : P0), o l1 = Some w1 -> o l2 = Some w1 -> l1 = l2) ->\r\n    o l = Some w -> o (fst a) = Some w0 -> {w = w0} + {w <> w0} -> False.\r\nProof.\r\n  clear; intros ???????? inj H0 H1 H2.\r\n  destruct H2; intuition subst.\r\n  eapply inj in H1; [ | eauto ].\r\n  progress subst. (* should succeed *)\r\nAbort.\r\n```","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542362","html_url":"https://github.com/coq/coq/issues/4727#issuecomment-337542362","issue_url":"https://api.github.com/repos/coq/coq/issues/4727","id":337542362,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MjM2Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-06-06T20:29:33Z","updated_at":"2017-10-18T10:25:22Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nThe inclusion of Coq85.v in Coq84.v fixes it.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337542362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]