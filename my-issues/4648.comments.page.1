[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541319","html_url":"https://github.com/coq/coq/issues/4648#issuecomment-337541319","issue_url":"https://api.github.com/repos/coq/coq/issues/4648","id":337541319,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MTMxOQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-03-25T19:49:44Z","updated_at":"2017-10-18T10:21:55Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nGlobal Set Primitive Projections.\nInductive W (A : Type) (B : forall _ : A, Type) : Type :=\n  sup { w_label : A ; w_arg : forall _ : B w_label, W A B }.\n(* Error: The recursive definition\n\"fun w : W A B =>\n f (let (w_label, _) := w in w_label)\n   (let (w_label, w_arg) as w0 return (B (w_label A B w0) -> W A B) := w in\n    w_arg)\n   (fun y : B (let (w_label, _) := w in w_label) =>\n    F\n      ((let (w_label, w_arg) as w0 return (B (w_label A B w0) -> W A B) :=\n          w in\n        w_arg) y))\" has type\n\"forall w : W A B,\n P\n   (sup A B (let (w_label, _) := w in w_label)\n      (let (w_label, w_arg) as w0 return (B (w_label A B w0) -> W A B) :=\n         w in\n       w_arg))\" while it should be \"forall w : W B P, f w\".\n*)\n\n\nEither the error message should be \"Primitive projections are not supported for recursive records\" or there should be a warning \"This recursive record will not be primitive\" or similar.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541321","html_url":"https://github.com/coq/coq/issues/4648#issuecomment-337541321","issue_url":"https://api.github.com/repos/coq/coq/issues/4648","id":337541321,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MTMyMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T11:01:11Z","updated_at":"2017-10-18T10:21:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nI have a fix (pr [BZ#175](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%23175%22)) which now warns about non-dependent induction principles being generated. I'll ensure that the rest of the Scheme functions properly handle (co)inductives with primitive projections too, so leaving it open until that is done.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541322","html_url":"https://github.com/coq/coq/issues/4648#issuecomment-337541322","issue_url":"https://api.github.com/repos/coq/coq/issues/4648","id":337541322,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU0MTMyMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T15:14:34Z","updated_at":"2017-10-18T10:21:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nDone in 175, closing.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337541322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]