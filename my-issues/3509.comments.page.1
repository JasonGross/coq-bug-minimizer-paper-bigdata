[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522364","html_url":"https://github.com/coq/coq/issues/3509#issuecomment-337522364","issue_url":"https://api.github.com/repos/coq/coq/issues/3509","id":337522364,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjM2NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-12T19:31:58Z","updated_at":"2017-10-18T09:26:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* File reduced by coq-bug-finder from original input, then from 5752 lines to 3828 lines, then from 2707 lines to 193 lines, then from 202 lines to 20 lines *)\nLemma match_bool_fn b A B xT xF\n: match b as b return forall x : A, B b x with\n    | true => xT\n    | false => xF\n  end\n  = fun x : A => match b as b return B b x with\n                   | true => xT x\n                   | false => xF x\n                 end.\nadmit.\nDefined.\nLemma match_bool_comm_1 (b : bool) A B (F : forall x : A, B x) t f\n: (if b as b return B (if b then t else f) then F t else F f)\n  = F (if b then t else f).\nadmit.\nDefined.\nHint Rewrite match_bool_fn : matchdb.\nHint Rewrite match_bool_comm_1 : matchdb. (* Toplevel input, characters 0-41:\nAnomaly: File \"tactics/term_dnet.ml\", line 197, characters 8-14: Assertion failed.\nPlease report. *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522367","html_url":"https://github.com/coq/coq/issues/3509#issuecomment-337522367","issue_url":"https://api.github.com/repos/coq/coq/issues/3509","id":337522367,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjM2Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-07-21T08:15:31Z","updated_at":"2017-10-18T09:26:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nThis is a regression with respect to 8.4. Here is a reduced testcase.\n\nInductive T := Foo : T.\nAxiom (b : T) (R : forall x : T, Prop) (f : forall x : T, R x).\nAxiom a1 : match b with Foo => f end = f.\nAxiom a2 : match b with Foo => f b end = f b.\nHint Rewrite a1 : bar.\nHint Rewrite a2 : bar.\n\nWith respect to bug [BZ#3509](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233509%22), the hints are added one after the other instead of both at once.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522368","html_url":"https://github.com/coq/coq/issues/3509#issuecomment-337522368","issue_url":"https://api.github.com/repos/coq/coq/issues/3509","id":337522368,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjM2OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-07-28T11:34:50Z","updated_at":"2017-10-18T09:26:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\n\n> This is a regression with respect to 8.4. Here is a reduced testcase.\n> \n> Inductive T := Foo : T.\n> Axiom (b : T) (R : forall x : T, Prop) (f : forall x : T, R x).\n> Axiom a1 : match b with Foo => f end = f.\n> Axiom a2 : match b with Foo => f b end = f b.\n> Hint Rewrite a1 : bar.\n> Hint Rewrite a2 : bar.\n> \n> With respect to bug [BZ#3509](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233509%22), the hints are added one after the other instead\n> of both at once.\n\nRight, I am the culprit:\n\ndc438047cc7d20d4f2df6ab703689814a7552623 is the first bad commit\ncommit dc438047cc7d20d4f2df6ab703689814a7552623\nAuthor: Pierre-Marie PÃ©drot <pierre-marie.pedrot@ inria.fr>\nDate:   Fri Feb 28 15:18:45 2014 +0100\n\n    Removing a Pervasives.compare in Term_dnet.\n\nNot sure why it breaks the code though.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]