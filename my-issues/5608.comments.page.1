[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555211","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555211","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555211,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIxMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T02:53:02Z","updated_at":"2017-10-18T11:06:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* -*- mode: coq; coq-prog-args: (\"-emacs\" \"-R\" \"src\" \"Crypto\" \"-R\" \"Bedrock\" \n\"Bedrock\" \"-R\" \"coqprime/Coqprime\" \"Coqprime\" \"-top\" \n\"IntegrationTestLadderstep130Display\") -*- *)\n(* File reduced by coq-bug-finder from original input, then from 126 lines to \n15 lines, then from 653 lines to 15 lines, then from 195 lines to 37 lines, \nthen from 223 lines to 89 lines, then from 237 lines to 89 lines, then from 105 \nlines to 90 lines *)\n(* coqc version 8.6 (June 2017) compiled on Jun 15 2017 12:8:43 with OCaml \n4.02.3\n   coqtop version jgross-Leopard-WS:/home/jgross/Downloads/coq/coq-v8.6,(HEAD \ndetached from 7e992fa) (ce1e1dba837ad6e2c79ff7e531b5e3adea3cd327) *)\nReserved Notation \"'slet' x .. y := A 'in' b\"\n         (at level 200, x binder, y binder, b at level 200, format \"'slet'  x \n.. y  :=  A  'in' '//' b\").\nReserved Notation \"T x [1] = { A } ; 'return' ( b0 , b1 , .. , b2 )\" (at level \n200, format \"T  x [1]  =  { A } ; '//' 'return'  ( b0 ,  b1 ,  .. ,  b2 )\").\n\nDelimit Scope ctype_scope with ctype.\nLocal Open Scope ctype_scope.\nDelimit Scope expr_scope with expr.\nInductive base_type := TZ | TWord (logsz : nat).\nInductive flat_type := Tbase (T : base_type) | Prod (A B : flat_type).\nContext {var : base_type -> Type}.\nFixpoint interp_flat_type (interp_base_type : base_type -> Type) (t : \nflat_type) :=\n  match t with\n  | Tbase t => interp_base_type t\n  | Prod x y => prod (interp_flat_type interp_base_type x) (interp_flat_type \ninterp_base_type y)\n  end.\nInductive exprf : flat_type -> Type :=\n| Var {t} (v : var t) : exprf (Tbase t)\n| LetIn {tx} (ex : exprf tx) {tC} (eC : interp_flat_type var tx -> exprf tC) : \nexprf tC\n| Pair {tx} (ex : exprf tx) {ty} (ey : exprf ty) : exprf (Prod tx ty).\nGlobal Arguments Var {_} _.\nGlobal Arguments LetIn {_} _ {_} _.\nGlobal Arguments Pair {_} _ {_} _.\nNotation \"T x [1] = { A } ; 'return' ( b0 , b1 , .. , b2 )\" := (LetIn (tx:=T) A \n(fun x => Pair .. (Pair b0%expr b1%expr) .. b2%expr)) : expr_scope.\nDefinition foo :=\n  (fun x3 =>\n     (LetIn (Var x3) (fun x18 : var TZ\n                      => (Pair (Var x18) (Var x18))))).\nPrint foo. (* Anomaly: No printing rule found for _ _ [1] = { _ } ; return ( _ \n, _ , .. , _ ). Please report at http://coq.inria.fr/bugs/. *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555215","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555215","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555215,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIxNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-20T14:34:47Z","updated_at":"2017-10-18T11:06:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nI can't reproduce, the first line raises an error \"Error: The format does not match the notation.\" Are you using some kind of non-printable space or something?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555216","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555216","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555216,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIxNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-20T15:50:26Z","updated_at":"2017-10-18T11:06:40Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nYou are using 8.6.  Try the tip of the v8.6 branch, or trunk.  (The error message you're getting is bug [BZ#5469](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%235469%22), I believe, and Hugo fixed that in v8.6.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555218","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555218","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555218,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIxOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-07-23T15:40:16Z","updated_at":"2017-10-18T11:06:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nStill the same error on the first line on trunk (c0fdb912).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555221","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555221","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555221,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIyMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-07-24T09:06:26Z","updated_at":"2017-10-18T11:06:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nThis is certainly due to the \"{ }\" hack used to compensate the need for backtracking in parsing things such as { x | x=0 } + { True } in the presence of also a notation for { A } + { B }.\n\nFor the record, here is something equivalent but stand-alone which would not work without a special treatment:\n\nNotation \"{# x | P #}\" := (sig (fun x => P)) (at level 0, x at level 99).\nNotation \"{# A #} + {# B #}\" := (sumor A B) (at level 50, left associativity).\nNotation \"A + {# B #}\" := (sumor A B) (at level 50, left associativity).\nCheck {# x | x = 0 #} + {# True #}. (* fails *)\n\nMy idea is that we should test whether the backtracking feature of camlp5 allow to support these kind of rules, and if it does, to remove the hack, and if not, to keep the hack and address the bug.\n\nSee also commit 0541d70 explaining the hack and comment 2 from Guillaume at the discussion at https://coq.inria.fr/bugs/show_bug.cgi?id=4970.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555222","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555222","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555222,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIyMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-07-24T19:41:28Z","updated_at":"2017-10-18T11:06:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nFinally, see PR#916.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555223","html_url":"https://github.com/coq/coq/issues/5608#issuecomment-337555223","issue_url":"https://api.github.com/repos/coq/coq/issues/5608","id":337555223,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NTIyMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-09-26T09:37:23Z","updated_at":"2017-10-18T11:06:41Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nFixed committed on 29 Aug 2017, f442efeb (master) and 40bc6a1 (v8.7).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337555223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]