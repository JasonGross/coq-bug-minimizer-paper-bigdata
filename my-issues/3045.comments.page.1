[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514626","html_url":"https://github.com/coq/coq/issues/3045#issuecomment-337514626","issue_url":"https://api.github.com/repos/coq/coq/issues/3045","id":337514626,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYyNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-05-19T22:20:24Z","updated_at":"2020-11-29T11:52:28Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nI get `Anomaly: Signature and its instance do not match. Please report.` with the following code in coq 8.4, and HoTT/coq (which is closer to trunk).  The debug log is from HoTT/coq.\r\n```coq\r\nSet Asymmetric Patterns.\r\nGeneralizable All Variables.\r\nSet Implicit Arguments.\r\nSet Universe Polymorphism.\r\n\r\nRecord SpecializedCategory (obj : Type) :=\r\n  {\r\n    Object :> _ := obj;\r\n    Morphism : obj -> obj -> Type;\r\n\r\n    Compose : forall s d d', Morphism d d' -> Morphism s d -> Morphism s d'\r\n  }.\r\n\r\nArguments Compose {obj} [C s d d'] m1 m2 : rename.\r\n\r\nInductive ReifiedMorphism : forall objC (C : SpecializedCategory objC), C -> C -> Type :=\r\n| ReifiedComposedMorphism : forall objC C s d d', ReifiedMorphism C d d' -> ReifiedMorphism C s d -> @ ReifiedMorphism objC C s d'.\r\n\r\nFixpoint ReifiedMorphismDenote objC C s d (m : @ ReifiedMorphism objC C s d) : Morphism C s d :=\r\n  match m in @ ReifiedMorphism objC C s d return Morphism C s d with\r\n    | ReifiedComposedMorphism _ _ _ _ _ m1 m2 => Compose (@ ReifiedMorphismDenote _ _ _ _ m1)\r\n                                                         (@ ReifiedMorphismDenote _ _ _ _ m2)\r\n  end.\r\n\r\nFixpoint ReifiedMorphismSimplifyWithProof objC C s d (m : @ ReifiedMorphism objC C s d)\r\n: { m' : ReifiedMorphism C s d | ReifiedMorphismDenote m = ReifiedMorphismDenote m' }.\r\nrefine match m with\r\n         | ReifiedComposedMorphism _ _ s0 d0 d0' m1 m2 => _\r\n       end; clear m.\r\ndestruct (@ ReifiedMorphismSimplifyWithProof _ _ _ _ m1) as [ [] ? ].\r\n\r\n(* In HoTT/coq:\r\nToplevel input, characters 15-83:\r\nAnomaly: Signature and its instance do not match. Please report.\r\nframe @  file \"toplevel/vernac.ml\", line 343, characters 6-16\r\nraise @  file \"toplevel/vernac.ml\", line 335, characters 18-25\r\nframe @  file \"toplevel/vernac.ml\", line 327, characters 14-104\r\nraise @  file \"library/states.ml\", line 40, characters 45-46\r\nframe @  file \"library/states.ml\", line 38, characters 4-7\r\nraise @  file \"toplevel/vernacentries.ml\", line 1829, characters 12-13\r\nframe @  file \"toplevel/vernacentries.ml\", line 1818, characters 4-12\r\nraise @  file \"proofs/proof.ml\", line 326, characters 23-30\r\nframe @  file \"proofs/proof.ml\", line 323, characters 6-10\r\nframe @  file \"toplevel/vernacentries.ml\", line 812, characters 4-65\r\nraise @  unknown\r\nframe @  file \"proofs/pfedit.ml\", line 129, characters 4-58\r\nraise @  file \"proofs/proof.ml\", line 423, characters 10-17\r\nframe @  file \"proofs/proof.ml\", line 418, characters 30-56\r\nframe @  file \"proofs/proofview.ml\", line 200, characters 13-49\r\nframe @  file \"proofs/monads.ml\", line 135, characters 22-27\r\nraise @  unknown\r\nraise @  unknown\r\nframe @  file \"proofs/proofview.ml\", line 459, characters 25-60\r\nframe @  file \"proofs/goal.ml\", line 453, characters 24-29\r\nframe @  file \"proofs/proofview.ml\", line 450, characters 23-60\r\nraise @  unknown\r\nframe @  file \"tactics/tacinterp.ml\", line 72, characters 6-11\r\nraise @  unknown\r\nframe @  file \"tactics/tacinterp.ml\", line 72, characters 6-11\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 46-77\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 46-77\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nraise @  unknown\r\nframe @  file \"tactics/tactics.ml\", line 1968, characters 6-56\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 46-77\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 46-77\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/refiner.ml\", line 107, characters 13-78\r\nframe @  file \"proofs/refiner.ml\", line 85, characters 6-134\r\nframe @  file \"lib/cList.ml\", line 290, characters 19-24\r\nframe @  file \"proofs/refiner.ml\", line 43, characters 16-35\r\nframe @  file \"proofs/clenvtac.ml\", line 80, characters 26-66\r\nframe @  file \"proofs/clenv.ml\", line 283, characters 12-58\r\nraise @  unknown\r\nframe @  file \"pretyping/unification.ml\", line 1279, characters 15-56\r\nframe @  file \"pretyping/unification.ml\", line 1213, characters 13-72\r\nframe @  file \"pretyping/unification.ml\", line 90, characters 4-86\r\nraise @  unknown\r\nraise @  unknown\r\nframe @  file \"pretyping/evarconv.ml\", line 755, characters 16-48\r\nframe @  file \"pretyping/typing.ml\", line 290, characters 10-32\r\nframe @  file \"pretyping/typing.ml\", line 228, characters 16-37\r\nframe @  file \"pretyping/typing.ml\", line 58, characters 5-46\r\nframe @  file \"pretyping/evarconv.ml\", line 960, characters 8-46\r\nframe @  file \"pretyping/evarconv.ml\", line 137, characters 12-18\r\nframe @  file \"pretyping/evarconv.ml\", line 159, characters 8-17\r\nframe @  file \"pretyping/evarconv.ml\", line 226, characters 12-63\r\nframe @  file \"pretyping/evarconv.ml\", line 171, characters 15-26\r\nframe @  file \"pretyping/evarconv.ml\", line 172, characters 33-41\r\nraise @  unknown\r\nframe @  file \"pretyping/evarsolve.ml\", line 1404, characters 10-69\r\nraise @  unknown\r\nframe @  file \"pretyping/evarsolve.ml\", line 1329, characters 15-58\r\nframe @  file \"pretyping/evarsolve.ml\", line 1050, characters 8-61\r\nframe @  file \"pretyping/evarconv.ml\", line 137, characters 12-18\r\nframe @  file \"pretyping/evarconv.ml\", line 159, characters 8-17\r\nframe @  file \"pretyping/evarconv.ml\", line 226, characters 12-63\r\nframe @  file \"pretyping/evarconv.ml\", line 172, characters 33-41\r\nraise @  unknown\r\nframe @  file \"pretyping/evarsolve.ml\", line 1405, characters 4-37\r\nframe @  file \"list.ml\", line 86, characters 24-34\r\nframe @  file \"pretyping/evarutil.ml\", line 187, characters 36-65\r\nframe @  file \"pretyping/evd.ml\", line 560, characters 28-63\r\nframe @  file \"pretyping/evd.ml\", line 118, characters 13-41\r\nframe @  file \"pretyping/evd.ml\", line 111, characters 45-64\r\nframe @  file \"pretyping/evd.ml\", line 111, characters 45-64\r\nraise @  file \"lib/errors.ml\", line 27, characters 18-39\r\n*)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514628","html_url":"https://github.com/coq/coq/issues/3045#issuecomment-337514628","issue_url":"https://api.github.com/repos/coq/coq/issues/3045","id":337514628,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYyOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-12-17T17:58:26Z","updated_at":"2017-10-18T09:04:16Z","author_association":"CONTRIBUTOR","body":"Comment author: Ian Johnson &lt;<ianj@ccs.neu.edu>&gt;\n\nCreated attachment 427\nExhibits the anomaly\n\nI'm using 8.4pl2 and get the some anomaly message in my own development. Pared down to only the necessary bits.\n\n> Attached file: [anomaly.v](https://coq.inria.fr/bugfiles/attachment.cgi?id=427) (text/x-verilog, 9705 bytes)\n> Description:   Exhibits the anomaly\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514630","html_url":"https://github.com/coq/coq/issues/3045#issuecomment-337514630","issue_url":"https://api.github.com/repos/coq/coq/issues/3045","id":337514630,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYzMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-03T17:02:59Z","updated_at":"2017-10-18T09:04:16Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nIan Johnson's bug is a replicate of [BZ#3003](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233003%22) which is solve since V8.4pl3. Jason Gross' bug is a specific bug.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514632","html_url":"https://github.com/coq/coq/issues/3045#issuecomment-337514632","issue_url":"https://api.github.com/repos/coq/coq/issues/3045","id":337514632,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYzMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-08T17:58:58Z","updated_at":"2020-11-29T11:53:06Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\r\n\r\nAnomaly fixed in trunk and 8.4. \r\n\r\nBesides, the one-block `destruct` is failing, which is a pity, because\r\n\r\n`destruct (@ ReifiedMorphismSimplifyWithProof _ _ _ _ m1) as [ x ? ]. destruct x.`\r\n\r\nworks. So this is future work for destruct...\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]