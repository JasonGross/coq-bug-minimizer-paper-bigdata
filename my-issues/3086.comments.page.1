[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515227","html_url":"https://github.com/coq/coq/issues/3086#issuecomment-337515227","issue_url":"https://api.github.com/repos/coq/coq/issues/3086","id":337515227,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNTIyNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-07-10T03:46:24Z","updated_at":"2017-10-18T09:06:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n[Class > Foo] should behave like [Record > Foo]\n\nThis code compiles when it should not:\n\nClass > Foo := { Bar :> nat }.\nCoercion Build_Foo : nat >-> Foo.\n\nThis code behaves correctly:\n\nRecord > Foo := { Bar :> nat }.\nCoercion Build_Foo : nat >-> Foo.\n(* Error: in try_add_new_coercion_core: Build_Foo is already a coercion. *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515228","html_url":"https://github.com/coq/coq/issues/3086#issuecomment-337515228","issue_url":"https://api.github.com/repos/coq/coq/issues/3086","id":337515228,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNTIyOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-07-10T04:19:49Z","updated_at":"2017-10-18T09:06:03Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nCreated attachment 414\npatch which hopefully implements coercions for [Class]es, and a test-suite bug\n\nHere's a patch, I hope.  I'm confused by the \"(List.map (fun _ -> false) fields)\", but replacing it with \"coers\" gives me\n\nFile \"toplevel/record.ml\", line 329, characters 35-40:\nError: This expression has type bool option list\n       but an expression was expected of type bool list\n\nWhy is this?  What's the \"option\" part?\n\n\nI was unable to test the patch, because attempting to compile coq trunk resulted in the error:\nCHECK revision\nOCAMLOPT  plugins/cc/g_congruence.ml\n/tmp/camlasmb100bf.s: Assembler messages:\n/tmp/camlasmb100bf.s:647: Error: file number less than one\n/tmp/camlasmb100bf.s:661: Error: file number less than one\n/tmp/camlasmb100bf.s:675: Error: file number less than one\n/tmp/camlasmb100bf.s:688: Error: file number less than one\n/tmp/camlasmb100bf.s:701: Error: file number less than one\n/tmp/camlasmb100bf.s:1086: Error: file number less than one\n/tmp/camlasmb100bf.s:1117: Error: file number less than one\n/tmp/camlasmb100bf.s:1153: Error: file number less than one\n/tmp/camlasmb100bf.s:1194: Error: file number less than one\nFile \"plugins/cc/g_congruence.ml4\", line 1:\nError: Assembler error, input left in file /tmp/camlasmb100bf.s\nmake[1]: *** [plugins/cc/g_congruence.cmx] Error 2\n\n> Attached file: [class_coercion.patch](https://coq.inria.fr/bugfiles/attachment.cgi?id=414) (text/plain, 1057 bytes)\n> Description:   patch which hopefully implements coercions for [Class]es, and a test-suite bug\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515230","html_url":"https://github.com/coq/coq/issues/3086#issuecomment-337515230","issue_url":"https://api.github.com/repos/coq/coq/issues/3086","id":337515230,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNTIzMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-07-10T04:20:26Z","updated_at":"2017-10-18T09:06:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nAlso, field coercions don't seem to work properly for classes, either.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515231","html_url":"https://github.com/coq/coq/issues/3086#issuecomment-337515231","issue_url":"https://api.github.com/repos/coq/coq/issues/3086","id":337515231,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNTIzMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-02-24T19:49:23Z","updated_at":"2017-10-18T09:06:04Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n[Class > Foo] causes the final field to be an instance, not coercion.  Similarly, [:>] means \"coercion\" for records, but \"instance\" for classes.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337515231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]