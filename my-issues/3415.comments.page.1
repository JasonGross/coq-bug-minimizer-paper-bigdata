[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520802","html_url":"https://github.com/coq/coq/issues/3415#issuecomment-337520802","issue_url":"https://api.github.com/repos/coq/coq/issues/3415","id":337520802,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDgwMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-07-09T12:37:25Z","updated_at":"2020-04-05T15:14:26Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nQuoting from coqdev:\r\n\r\nHi,\r\nAs part of my scripts to minimize bugs, I've found that I have to replace constants with their absolute references (because I've yet to find a good way to mimic the precise behavior of Coq with respect to the directory tree within a file).  I noticed that record builder notation, such as `{| foo := x; bar := y |}`, is treated as a single invocation of the constructor (shows up as constr), and the location will overlap with some subsequent definitions, but `foo` and `bar` don't show up at all.  For example, if 1382-1458 is `center := (contr x)^ @  contr y;\\n  contr := path2_contr ((contr x)^ @  contr y)`, then the glob file has\r\n```\r\nR1382:1458 HoTT.Overture <> BuildContr constr\r\nR1425:1435 HoTT.Contractible <> path2_contr def\r\nR1448:1450 HoTT.Overture <> :path_scope:x_'@ '_x not\r\nR1438:1438 HoTT.Overture <> :path_scope:x_'^' not\r\nR1446:1447 HoTT.Overture <> :path_scope:x_'^' not\r\nR1439:1443 HoTT.Overture <> contr meth\r\nR1451:1455 HoTT.Overture <> contr meth\r\nR1402:1404 HoTT.Overture <> :path_scope:x_'@ '_x not\r\nR1392:1392 HoTT.Overture <> :path_scope:x_'^' not\r\nR1400:1401 HoTT.Overture <> :path_scope:x_'^' not\r\nR1393:1397 HoTT.Overture <> contr meth\r\nR1405:1409 HoTT.Overture <> contr meth\r\n```\r\nWhat's the reason glob files are built like this?\r\n\r\nThanks,\r\nJason\r\n\r\n\r\n\r\n\r\nHugo Herbelin said:\r\nHi Jason,\r\n\r\nI think it is acceptable that foo and bar do not show up as proper\r\nidentifiers, since it is acceptable that they point to the location of\r\nthe definition of the record, however, the output for record\r\nconstructors is indeed spanning too large in glob files, possibly\r\nresulting in wrong links for everything in the extend of the {| |}\r\nwhich is not linked elsewhere.\r\n\r\nCould you fill a bug report?\r\n\r\nIn a second time, we could indeed have coqdoc make foo and bar link to\r\nthe corresponding names in the file defining them rather than linking\r\nto the defining location of the constructor name of the record\r\n(`BuildContr` in your case).\r\n\r\nThanks for noticing it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/609445876","html_url":"https://github.com/coq/coq/issues/3415#issuecomment-609445876","issue_url":"https://api.github.com/repos/coq/coq/issues/3415","id":609445876,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTQ0NTg3Ng==","user":{"login":"herbelin","id":460771,"node_id":"MDQ6VXNlcjQ2MDc3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/460771?v=4","gravatar_id":"","url":"https://api.github.com/users/herbelin","html_url":"https://github.com/herbelin","followers_url":"https://api.github.com/users/herbelin/followers","following_url":"https://api.github.com/users/herbelin/following{/other_user}","gists_url":"https://api.github.com/users/herbelin/gists{/gist_id}","starred_url":"https://api.github.com/users/herbelin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/herbelin/subscriptions","organizations_url":"https://api.github.com/users/herbelin/orgs","repos_url":"https://api.github.com/users/herbelin/repos","events_url":"https://api.github.com/users/herbelin/events{/privacy}","received_events_url":"https://api.github.com/users/herbelin/received_events","type":"User","site_admin":false},"created_at":"2020-04-05T16:44:59Z","updated_at":"2020-04-05T16:44:59Z","author_association":"MEMBER","body":"Fixed in #12027.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/609445876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]