[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520382","html_url":"https://github.com/coq/coq/issues/3382#issuecomment-337520382","issue_url":"https://api.github.com/repos/coq/coq/issues/3382","id":337520382,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDM4Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-17T10:52:45Z","updated_at":"2017-10-18T09:20:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPerhaps we want to include this as a separate test case.  The issue seems to be some sort of interaction between typeclasses with no instances, which may be given different arguments depending on which way you run inference, combined with a let...in... in a type?\n\n(* File reduced by coq-bug-finder from 9039 lines to 7786 lines, then from 7245 lines to 476 lines, then from 417 lines to 249 lines, then from 171 lines to 127 lines, then from 139 lines to 114 lines, then from 93 lines to 77 lines *)\n\nSet Implicit Arguments.\nDefinition admit {T} : T.\nAdmitted.\nDelimit Scope object_scope with object.\nDelimit Scope morphism_scope with morphism.\nDelimit Scope category_scope with category.\nDelimit Scope functor_scope with functor.\nReserved Infix \"o\" (at level 40, left associativity).\nRecord PreCategory :=\n  { Object :> Type;\n    Morphism : Object -> Object -> Type;\n    Compose : forall s d d', Morphism d d' -> Morphism s d -> Morphism s d' where \"f 'o' g\" := (Compose f g) }.\nBind Scope category_scope with PreCategory.\nInfix \"o\" := (@ Compose _ _ _ _) : morphism_scope.\nLocal Open Scope morphism_scope.\nRecord Functor (C D : PreCategory) :=\n  { ObjectOf :> C -> D;\n    MorphismOf : forall s d, C.(Morphism) s d -> D.(Morphism) (ObjectOf s) (ObjectOf d);\n    FCompositionOf : forall s d d' (m1 : C.(Morphism) s d) (m2: C.(Morphism) d d'),\n                       MorphismOf _ _ (m2 o m1) = (MorphismOf _ _ m2) o (MorphismOf _ _ m1) }.\nBind Scope functor_scope with Functor.\nArguments MorphismOf [C%category] [D%category] F%functor [s%object d%object] m%morphism : rename, simpl nomatch.\nDefinition ComposeFunctors C D E\n           (G : Functor D E) (F : Functor C D) : Functor C E\n  := Build_Functor C E (fun c => G (F c)) admit admit.\nInfix \"o\" := ComposeFunctors : functor_scope.\nRecord NaturalTransformation C D (F G : Functor C D) :=\n  { ComponentsOf :> forall c, D.(Morphism) (F c) (G c);\n    Commutes : forall s d (m : C.(Morphism) s d),\n                 ComponentsOf d o F.(MorphismOf) m = G.(MorphismOf) m o ComponentsOf s }.\nDefinition NTComposeT C D (F F' F'' : Functor C D)\n           (T' : NaturalTransformation F' F'')\n           (T : NaturalTransformation F F')\n           (CO := fun c => T' c o T c)\n: NaturalTransformation F F''.\n  exact (Build_NaturalTransformation F F''\n                                     (fun c => T' c o T c)\n                                     (admit : forall s d (m : Morphism C s d), CO d o MorphismOf F m = MorphismOf F'' m o CO s)).\nDefined.\nDefinition NTWhiskerR C D E (F F' : Functor D E) (T : NaturalTransformation F F')\n           (G : Functor C D)\n  := Build_NaturalTransformation (F o G) (F' o G) (fun c => T (G c)) admit.\nAxiom NTWhiskerR_CompositionOf\n: forall C D\n         (F G H : Functor C D)\n         (T : NaturalTransformation G H)\n         (T' : NaturalTransformation F G) B (I : Functor B C),\n    NTComposeT (NTWhiskerR T I) (NTWhiskerR T' I) = NTWhiskerR (NTComposeT T T') I.\nDefinition FunctorCategory C D : PreCategory\n  := @ Build_PreCategory (Functor C D)\n                        (NaturalTransformation (C := C) (D := D))\n                        admit.\nNotation \"[ C , D ]\" := (FunctorCategory C D) : category_scope.\nClass silly {T} := term : T.\nTimeout 1 Definition NTWhiskerR_Functorial (C D E : PreCategory) (G : [C, D]%category)\n: [[D, E], [C, E]]%category\n  := Build_Functor\n       [C, D] [C, E]\n       (fun F => _ : silly)\n       (fun _ _ T => _ : silly)\n       (fun _ _ _ _ _ => NTWhiskerR_CompositionOf _ _ _).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520383","html_url":"https://github.com/coq/coq/issues/3382#issuecomment-337520383","issue_url":"https://api.github.com/repos/coq/coq/issues/3382","id":337520383,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDM4Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-02-25T14:33:41Z","updated_at":"2017-10-18T09:20:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @maximedenes\n\nThis last definition now gives a type error. Is it what was expected?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]