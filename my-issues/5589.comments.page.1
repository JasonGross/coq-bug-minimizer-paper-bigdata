[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554904","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554904","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554904,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkwNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T19:05:48Z","updated_at":"2017-10-18T11:05:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n$ cat foo.v\nTheorem a : True.\nProof I.\nCheck a.\nTheorem b : True.\nTime Proof I.\nCheck b.\n$ coqc foo\na\n     : True\nFile \"./foo.v\", line 5, characters 0-13:\nError: Attempt to save an incomplete proof (in proof b)\n\nThis means that I can't run coqc -time on the standard library (which is the \nactual thing I'm trying to do).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554905","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554905","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkwNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T19:08:27Z","updated_at":"2017-10-18T11:05:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @ejgallego\n\nThat should be easy to fix, however I heard some discussion about deprecating the `Proof term` form altogether, ThÃ©o?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554907","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554907","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554907,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkwNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T19:28:46Z","updated_at":"2017-10-18T11:05:42Z","author_association":"CONTRIBUTOR","body":"Comment author: @ejgallego\n\ndiff --git a/stm/stm.ml b/stm/stm.ml\nindex a79bf5426..11aca1627 100644\n--- a/stm/stm.ml\n+++ b/stm/stm.ml\n@ @  -2046,7 +2046,8 @ @  let collect_proof keep cur hd brkind id =\n    | `ASync(_,pua,_,name,_) -> `Sync (name,pua,why) in\n  let check_policy rc = if async_policy () then rc else make_sync `Policy rc in\n  match cur, (VCS.visit id).step, brkind with\n- | (parent, { expr = VernacExactProof _ }), `Fork _, _ ->\n+ | (parent, { expr = VernacExactProof _ }), `Fork _, _\n+ | (parent, { expr = VernacTime (_, VernacExactProof _) }), `Fork _, _ ->\n      `Sync (no_name,None,`Immediate)\n  | _, _, { VCS.kind = `Edit _ }  -> check_policy (collect (Some cur) [] id)\n  | _ ->\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554908","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554908","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554908,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkwOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T19:32:10Z","updated_at":"2017-10-18T11:05:43Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nIf you want to deprecate it, that's fine, but then you should remove all of its uses from the standard library.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554910","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554910","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554910,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkxMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T20:11:41Z","updated_at":"2017-10-18T11:05:43Z","author_association":"CONTRIBUTOR","body":"Comment author: @Zimmi48\n\nI talked about deprecating it indeed but only if we provide a reasonable alternative. My suggestion was to have a \"Lemma ident [: type] := term.\" form which would be the symmetric of \"Definition ident [: type] := term.\" with the difference that the former is opaque while the latter is transparent.\n\nSo if it can, this bug should still be fixed in the meantime (or this form be removed from the standard library but I count many uses).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554911","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554911","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554911,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkxMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T22:58:01Z","updated_at":"2017-10-18T11:05:43Z","author_association":"CONTRIBUTOR","body":"Comment author: @ejgallego\n\nInteresting, I didn't know they use was so widespread.\n\nIMHO from the STM / state handling point of view removing the command won't make much difference, other than removing yet another special case in the code, as now we could handle this case in the same codepath than `Definition`.\n\nHowever, I wouldn't expect the gains on code clarity to be as high as to push for the deprecation of this.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554914","html_url":"https://github.com/coq/coq/issues/5589#issuecomment-337554914","issue_url":"https://api.github.com/repos/coq/coq/issues/5589","id":337554914,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU1NDkxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T23:01:23Z","updated_at":"2017-10-18T11:05:43Z","author_association":"CONTRIBUTOR","body":"Comment author: @ejgallego\n\nOh I forgot https://github.com/coq/coq/pull/748\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337554914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]