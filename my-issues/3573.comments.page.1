[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337523387","html_url":"https://github.com/coq/coq/issues/3573#issuecomment-337523387","issue_url":"https://api.github.com/repos/coq/coq/issues/3573","id":337523387,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMzM4Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-03T21:57:14Z","updated_at":"2017-10-18T09:29:34Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nOn Windows, using the script https://coq.inria.fr/bugs/attachment.cgi?id=501 from bug [BZ#3275](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%233275%22), with a fresh clone of Coq trunk 8287733d5df1bd673a38e92f23c47e95d1bb7a91:\n\n$ ./configure -local\n...\n$ make -j2 coqide\n...\n$ make -j2 coqide VERBOSE=1\nmake --warn-undefined-variable --no-builtin-rules -f Makefile.build BUILDGRAMMAR=1 grammar/grammar.cma grammar/q_constr.cmo\nmake[1]: Entering directory '/cygdrive/d/Downloads/coq'\nmake[1]: 'grammar/grammar.cma' is up to date.\nmake[1]: 'grammar/q_constr.cmo' is up to date.\nmake[1]: Leaving directory '/cygdrive/d/Downloads/coq'\nmake --warn-undefined-variable --no-builtin-rules -f Makefile.build coqide\nmake[1]: Entering directory '/cygdrive/d/Downloads/coq'\n\"ocamlc\" -rectypes  -I config -I lib -I kernel -I kernel/byterun -I library -I proofs -I tactics -I pretyping -I interp -I stm -I toplevel -I parsing -I printing -I grammar -I intf -I ide -I ide/utils -I \"+site-lib/lablgtk2\" -thread   -o bin/coqide.byte.exe unix.cma lablgtk.cma \\\n        lablgtksourceview2.cma str.cma  lib/clib.cma lib/xml_lexer.cmo lib/xml_parser.cmo lib/xml_printer.cmo lib/errors.cmo lib/spawn.cmo ide/ide.cma ide/coqide_main.ml\n\"ocamlopt\" -rectypes    -I config -I lib -I kernel -I kernel/byterun -I library -I proofs -I tactics -I pretyping -I interp -I stm -I toplevel -I parsing -I printing -I grammar -I intf -I ide -I ide/utils -I \"+site-lib/lablgtk2\" -thread     -c ide/wg_ProofView.ml\nFile \"ide/coqide_main.ml\", line 1:\nError: Error while linking ide/coqide_main.cmo:\nThe external function `win32_interrupt' is not available\nMakefile.build:332: recipe for target 'bin/coqide.byte.exe' failed\nmake[1]: *** [bin/coqide.byte.exe] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nmake[1]: Leaving directory '/cygdrive/d/Downloads/coq'\nMakefile:158: recipe for target 'submake' failed\nmake: *** [submake] Error 2\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337523387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337523389","html_url":"https://github.com/coq/coq/issues/3573#issuecomment-337523389","issue_url":"https://api.github.com/repos/coq/coq/issues/3573","id":337523389,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMzM4OQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-09-03T22:30:55Z","updated_at":"2017-10-18T09:29:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nHere is a workaround:\n\nIn Makefile.build, change\n\n$(COQIDEBYTE): $(LINKIDE)\n\t$(SHOW)'OCAMLC -o $@ '\n\t$(HIDE)$(OCAMLC) $(COQIDEFLAGS) $(BYTEFLAGS) -o $@  unix.cma lablgtk.cma \\\n\t        lablgtksourceview2.cma str.cma $(IDEFLAGS) $^\n\nto\n\n$(COQIDEBYTE): $(LINKIDE)\n\t$(SHOW)'OCAMLC -o $@ '\n\t$(HIDE)$(OCAMLC) $(COQIDEFLAGS) $(BYTEFLAGS) -o $@  unix.cma lablgtk.cma \\\n\t        lablgtksourceview2.cma str.cma ide/ide_win32_stubs.c -custom $(IDEFLAGS) $^\n\n\nI suspect this is not compatible with linux, and this might also be the wrong place to introduce it, but I'll leave it to someone more familiar with the build system to figure out where to insert this.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337523389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]