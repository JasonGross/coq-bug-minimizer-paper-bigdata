[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520642","html_url":"https://github.com/coq/coq/issues/3402#issuecomment-337520642","issue_url":"https://api.github.com/repos/coq/coq/issues/3402","id":337520642,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDY0Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-28T17:47:33Z","updated_at":"2017-10-18T09:21:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nSet Primitive Projections.\nRecord prod A B := pair { fst : A ; snd : B }.\nGoal forall A B (p : prod A B), p = let (x, y) := p in pair A B x y.\nProof.\n  intros A B p.\n  Fail exact eq_refl.\n  change p with (pair A B (fst p) (snd p)).\n  simpl.\n  exact eq_refl.\nDefined.\n(* Toplevel input, characters 15-23:\nError:\nThe term \"fun (A B : Type) (p : prod A B) => eq_refl\" has type\n \"forall (A B : Type) (p : prod A B),\n  {| fst := fst p; snd := snd p |} = {| fst := fst p; snd := snd p |}\"\nwhile it is expected to have type\n \"forall (A B : Type) (p : prod A B),\n  p = (let (x, y) := p in {| fst := x; snd := y |})\". *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520644","html_url":"https://github.com/coq/coq/issues/3402#issuecomment-337520644","issue_url":"https://api.github.com/repos/coq/coq/issues/3402","id":337520644,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDY0NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-30T09:52:49Z","updated_at":"2017-10-18T09:21:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nWe don't have the eta-rule p = match p with (x, y) => pair x y, as (it seems) this would require some typing information we don't have currently. You're not supposed to destruct a primitive record like this. I think it should be forbidden, or the let (x, y) := p should be elaborated to a use of projections.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520646","html_url":"https://github.com/coq/coq/issues/3402#issuecomment-337520646","issue_url":"https://api.github.com/repos/coq/coq/issues/3402","id":337520646,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDY0Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-30T16:02:19Z","updated_at":"2017-10-18T09:21:32Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nDoes it require typing information, or can you just say \"when the match has a single branch and that branch is a constructor for a primitive record, then you can look up the projections from that\"?  In any case, I'm fine with match/let on a primitive projection being elaborated to a use of projections (though I'd prefer to move in the direction of \"primitive projections are something the user doesn't need to think about\" rather than in the direction of \"primitive records are super special\").\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520648","html_url":"https://github.com/coq/coq/issues/3402#issuecomment-337520648","issue_url":"https://api.github.com/repos/coq/coq/issues/3402","id":337520648,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDY0OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-28T22:09:53Z","updated_at":"2017-10-18T09:21:33Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nDone in trunk.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]