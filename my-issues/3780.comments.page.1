[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526882","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526882","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526882,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg4Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T19:20:57Z","updated_at":"2018-10-09T11:03:56Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n```\r\n$ echo 'Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined. Backtrack 4 0 0 .' | coqtop -emacs\r\nWelcome to Coq cagnode15:/afs/csail.mit.edu/u/j/jgross/coq-trunk,(no branch) (53bfe9cf58a3c40e6eb7120d25c1633a9cea3126)\r\n\r\n<prompt>Coq < 1 || 0 < </prompt>1 subgoals, subgoal 1 (ID 1)\r\n\r\n  ============================\r\n   forall A B : Set, A = B -> A = B\r\n\r\n(dependent evars:)\r\n\r\n\r\n<prompt>Unnamed_thm < 2 |branch| 0 < </prompt>1 subgoals, subgoal 1 (ID 1)\r\n\r\n  ============================\r\n   forall A B : Set, A = B -> A = B\r\n\r\n(dependent evars:)\r\n\r\n\r\n<prompt>Unnamed_thm < 3 |branch| 0 < </prompt>1 subgoals, subgoal 1 (ID 4)\r\n\r\n  A, B : Set\r\n  p : A = B\r\n  ============================\r\n   A = B\r\n\r\n(dependent evars:)\r\n\r\n\r\n<prompt>Unnamed_thm < 4 |branch| 0 < </prompt>No more subgoals.\r\n(dependent evars:)\r\n\r\n\r\n<prompt>Unnamed_thm < 5 |branch| 0 < </prompt>Toplevel input, characters 92-100:\r\n> Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined.\r\n>                                                                                             ^^^^^^^^\r\nError:\r\nThe term \"fun (A B : Set) (_ : A = B) => Set\" has type\r\n \"forall A B : Set, A = B -> Type\" while it is expected to have type\r\n \"forall A B : Set, A = B -> A = B\".\r\n\r\n<prompt>Unnamed_thm < 2 |branch| 0 < </prompt>Toplevel input, characters 101-118:\r\n> Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined. Backtrack 4 0 0 .\r\n>                                                                                                      ^^^^^^^^^^^^^^^^^\r\nAnomaly: error with no safe_id attached:\r\nUncaught exception Stm.Vcs_aux.Expired.. Please report.\r\n\r\n<prompt>Unnamed_thm < 2 |branch| 0 < </prompt>\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526883","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526883","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526883,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg4Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:06:28Z","updated_at":"2017-10-18T09:39:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nDid PG generate the Backtrack command?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526887","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526887","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526887,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg4Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:07:10Z","updated_at":"2017-10-18T09:39:35Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nYes.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526890","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526890","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526890,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg5MA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:11:48Z","updated_at":"2017-10-18T09:39:36Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPG assumes that if [Defined] fails, you have only autobacktracked to the beginning of the line.  So it assumes it's valid to backtrack to the beginning of the previous line, i.e., the state number of the [Defined] line, minus one.  (The actual numbers in my example are slightly different, because PG issues a few commands automatically at the beginning; the real code PG issues is:\n\n$ echo 'Set Undo 500 . Set Printing Depth 50 . Set Undo 500 . Set Silent. Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined. Backtrack 8 0 0 .' | coqtop -emacs\nWelcome to Coq cagnode15:/afs/csail.mit.edu/u/j/jgross/coq-trunk,(no branch) (53bfe9cf58a3c40e6eb7120d25c1633a9cea3126)\n\n<prompt>Coq < 1 || 0 < </prompt>\n\n<prompt>Coq < 1 || 0 < </prompt>\n\n<prompt>Coq < 1 || 0 < </prompt>\n\n<prompt>Coq < 1 || 0 < </prompt>\n<prompt>Coq < 1 || 0 < </prompt>\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>\n<prompt>Unnamed_thm < 7 |branch| 0 < </prompt>\n<prompt>Unnamed_thm < 8 |branch| 0 < </prompt>\n<prompt>Unnamed_thm < 9 |branch| 0 < </prompt>Toplevel input, characters 158-166:\n> Set Undo 500 . Set Printing Depth 50 . Set Undo 500 . Set Silent. Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined.\n>                                                                                                                                                               ^^^^^^^^\nError:\nThe term \"fun (A B : Set) (_ : A = B) => Set\" has type\n \"forall A B : Set, A = B -> Type\" while it is expected to have type\n \"forall A B : Set, A = B -> A = B\".\n\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>Toplevel input, characters 167-184:\n> Set Undo 500 . Set Printing Depth 50 . Set Undo 500 . Set Silent. Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B. Proof. intros. exact_no_check Set. Defined. Backtrack 8 0 0 .\n>                                                                                                                                                                        ^^^^^^^^^^^^^^^^^\nAnomaly: error with no safe_id attached:\nUncaught exception Stm.Vcs_aux.Expired.. Please report.\n\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>\n\n)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526893","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526893","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526893,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg5Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:12:01Z","updated_at":"2017-10-18T09:39:36Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nFor reference, the log from *coq* in PG is:\n\nWarning: Obsolete option \"-emacs-U\", use -emacs instead.\nWelcome to Coq cagnode15:/afs/csail.mit.edu/u/j/jgross/coq-trunk,(no branch) (53bfe9cf58a3c40e6eb7120d25c1633a9cea3126)\n\n<prompt>Coq < 1 || 0 < </prompt>Set Undo 500 .\n\n\n<prompt>Coq < 1 || 0 < </prompt>Set Printing Depth 50 .\n\n\n<prompt>Coq < 1 || 0 < </prompt>Set Undo 500 .\n\n\n<prompt>Coq < 1 || 0 < </prompt>Set Silent.\n\n<prompt>Coq < 1 || 0 < </prompt>Goal forall (A B : Set) (p : @ eq Type A B), @ eq Set A B.\n\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>Proof.\n\n<prompt>Unnamed_thm < 7 |branch| 0 < </prompt>intros.\n\n<prompt>Unnamed_thm < 8 |branch| 0 < </prompt>exact_no_check Set.\n\n<prompt>Unnamed_thm < 9 |branch| 0 < </prompt>Unset Silent.\nNo more subgoals.\n(dependent evars:)\n\n\n<prompt>Unnamed_thm < 9 |branch| 0 < </prompt>Defined.\nToplevel input, characters 15-23:\n> Defined.\n> ^^^^^^^^\nError:\nThe term \"fun (A B : Set) (_ : A = B) => Set\" has type\n \"forall A B : Set, A = B -> Type\" while it is expected to have type\n \"forall A B : Set, A = B -> A = B\".\n\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>Backtrack 8 0 0 .\nToplevel input, characters 0-17:\n> Backtrack 8 0 0 .\n> ^^^^^^^^^^^^^^^^^\nAnomaly: error with no safe_id attached:\nUncaught exception Stm.Vcs_aux.Expired.. Please report.\n\n<prompt>Unnamed_thm < 6 |branch| 0 < </prompt>\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526895","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526895","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526895,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg5NQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:47:34Z","updated_at":"2017-10-18T09:39:36Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nI see.  I'll try to fix it on thursday.\n\nDoes the bug exists even if you Qed the proof?\nI believed I had fixed the issue once an for all, but I must have missed a detail.\n\nBest,\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526896","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526896","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526896,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg5Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-28T20:49:13Z","updated_at":"2017-10-18T09:39:36Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThanks!\n\nThere is no bug with [Qed], only [Defined].\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526897","html_url":"https://github.com/coq/coq/issues/3780#issuecomment-337526897","issue_url":"https://api.github.com/repos/coq/coq/issues/3780","id":337526897,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNjg5Nw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-10-30T12:36:56Z","updated_at":"2017-10-18T09:39:36Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nFixed, the commit will land soon.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337526897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]