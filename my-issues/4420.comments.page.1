[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537602","html_url":"https://github.com/coq/coq/issues/4420#issuecomment-337537602","issue_url":"https://api.github.com/repos/coq/coq/issues/4420","id":337537602,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNzYwMg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-11-09T22:17:40Z","updated_at":"2017-10-18T10:10:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nSection foo.\n  Context (Char : Type).\n  Axiom foo : Type -> Type.\n  Goal foo Char = foo Char.\n    change foo with (fun x => foo x).\n    cbv beta.\n    reflexivity.\n  Defined. (* Toplevel input, characters 0-8:\nError: Illegal application:\nThe term \"fun x : Type => foo x\" of type \"Type -> Type\"\ncannot be applied to the term\n \"Char\" : \"Type\"\nThis term has type \"Type@ {Top.1}\" which should be coercible to\n \"Type@ {Top.9}\". *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537605","html_url":"https://github.com/coq/coq/issues/4420#issuecomment-337537605","issue_url":"https://api.github.com/repos/coq/coq/issues/4420","id":337537605,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNzYwNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T14:39:24Z","updated_at":"2017-10-18T10:10:46Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nHere is a version that runs in the empty context:\n\nInductive foo (A : Type) : Prop := I. (*Top.1*)\nLemma bar : foo Type. (*Top.3*)\nProof.\nchange foo with (fun x : Type => foo x). (*Top.4*)\ncbv beta.\napply I. (* I Type@ {Top.3} : (fun x : Type@ {Top.4} => foo x) Type@ {Top.3} *)\nDefined.\n\nAs far as I can tell, when doing \"change\", Coq forgets to add the constraint \"Top.3 < Top.4\", so the kernel rightfully complains at \"Defined\" time.\n\nI have not been able to check whether 8.4 was adding this constraint or not, so I cannot tell whether it is a regression of \"change\" or an improvement of the kernel (that is, preventing unsoundness).\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537607","html_url":"https://github.com/coq/coq/issues/4420#issuecomment-337537607","issue_url":"https://api.github.com/repos/coq/coq/issues/4420","id":337537607,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNzYwNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T19:16:53Z","updated_at":"2017-10-18T10:10:46Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nIt is indeed a regression, change was doing the right checks but forgetting about the additional constraints needed to typecheck the new goal. In the last example, this means equating Top.1 and Top.4 so that the types of foo and (fun x : Type@ {Top.4} => foo x) become convertible.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537609","html_url":"https://github.com/coq/coq/issues/4420#issuecomment-337537609","issue_url":"https://api.github.com/repos/coq/coq/issues/4420","id":337537609,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUzNzYwOQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T20:17:56Z","updated_at":"2017-10-18T10:10:46Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\n*** Bug [BZ#4497](https://github.com/coq/coq/issues?q=is%3Aissue%20%22Original%20bug%20ID%3A%20BZ%234497%22) has been marked as a duplicate of this bug. ***\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337537609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]