[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518382","html_url":"https://github.com/coq/coq/issues/3267#issuecomment-337518382","issue_url":"https://api.github.com/repos/coq/coq/issues/3267","id":337518382,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxODM4Mg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-03-26T16:56:38Z","updated_at":"2017-10-18T09:15:06Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nHere is a snippet of code where [eauto] fails to solve the goal:\n\nHint Extern 0 => progress subst.\nGoal forall T (x y : T) (P Q : _ -> Prop), x = y -> (P x -> Q x) -> P y -> Q y.\n  intros.\n  eauto.\n\n\nAnd here are three snippets of code where [eauto] succeeds.\n\nHint Extern 0 => progress subst.\nGoal forall T (x y : T) (P Q : _ -> Prop), y = x -> (P x -> Q x) -> P y -> Q y.\n  intros.\n  eauto.\n\n\nHint Extern 0 => progress subst; eauto.\nGoal forall T (x y : T) (P Q : _ -> Prop), x = y -> (P x -> Q x) -> P y -> Q y.\n  intros.\n  eauto.\n\nHint Extern 0 => progress subst; repeat match goal with H : _ |- _ => revert H end.\nGoal forall T (x y : T) (P Q : _ -> Prop), x = y -> (P x -> Q x) -> P y -> Q y.\n  intros.\n  eauto.\n\n\n\nI think [eauto] should succeed in all of these cases.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518383","html_url":"https://github.com/coq/coq/issues/3267#issuecomment-337518383","issue_url":"https://api.github.com/repos/coq/coq/issues/3267","id":337518383,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxODM4Mw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-26T11:31:57Z","updated_at":"2017-10-18T09:15:06Z","author_association":"CONTRIBUTOR","body":"Comment author: @mattam82\n\nIndeed, eauto was not careful enough to check if the hypotheses changed due to a call to an extern hint. Fixed in trunk.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518384","html_url":"https://github.com/coq/coq/issues/3267#issuecomment-337518384","issue_url":"https://api.github.com/repos/coq/coq/issues/3267","id":337518384,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxODM4NA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-10-29T15:38:57Z","updated_at":"2017-10-18T09:15:06Z","author_association":"CONTRIBUTOR","body":"Comment author: @herbelin\n\nHi, I found another instance of the bug:\n\nParameter A B : Prop.\nAxiom a:B.\n\nHint Extern 1 => match goal with H:_ -> id _ |- _ => try (unfold id in H) end.\nHint Resolve a.\nGoal (B -> id A) -> A.\nintros.\neauto.\n\nworks in 8.5 (= trunk at the time of Matthieu's message) thanks to the fix, but this is still failing:\n\nParameter A B : Prop.\nAxiom a:B.\n\nHint Extern 1 => match goal with H:_ -> id _ |- _ => try (unfold id in H) end.\nGoal (B -> id A) -> A.\nintros.\neauto using a.\n\nThe way I found it is funny. The fix relies on physical equality and in particular on the fact that nf_evar preserves sharing, while I was working on a change which was precisely breaking sharing. I committed a simple fix obtained by adding the \"lems\" to the searching \"state\" (Matthieu, I hope this fix is ok for you), but I suspect that there should exist a way to implement updating the initial local db in a more robust way.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337518384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]