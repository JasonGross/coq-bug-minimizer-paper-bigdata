[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522376","html_url":"https://github.com/coq/coq/issues/3510#issuecomment-337522376","issue_url":"https://api.github.com/repos/coq/coq/issues/3510","id":337522376,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjM3Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-08-12T19:32:58Z","updated_at":"2017-10-18T09:26:47Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n(* File reduced by coq-bug-finder from original input, then from 5752 lines to 3828 lines, then from 2707 lines to 193 lines, then from 214 lines to 36 lines *)\nLemma match_option_fn T (b : option T) A B s n\n: match b as b return forall x : A, B b x with\n    | Some k => s k\n    | None => n\n  end\n  = fun x : A => match b as b return B b x with\n                   | Some k => s k x\n                   | None => n x\n                 end.\nadmit.\nDefined.\nLemma match_option_comm_2 T (p : option T) A B R (f : forall (x : A) (y : B x), R x y) (s1 : T -> A) (s2 : forall x : T, B (s1 x)) n1 n2\n: match p as p return R match p with\n                          | Some k => s1 k\n                          | None => n1\n                        end\n                        match p as p return B match p with Some k => s1 k | None => n1 end with\n                          | Some k => s2 k\n                          | None => n2\n                        end with\n    | Some k => f (s1 k) (s2 k)\n    | None => f n1 n2\n  end\n  = f match p return A with\n        | Some k => s1 k\n        | None => n1\n      end\n      match p as p return B match p with Some k => s1 k | None => n1 end with\n        | Some k => s2 k\n        | None => n2\n      end.\nadmit.\nDefined.\nHint Rewrite match_option_fn match_option_comm_2 : matchdb. (* Toplevel input, characters 15-74:\nAnomaly: Uncaught exception Invalid_argument(\"map2_t:compare\", _).\nPlease report. *)\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522378","html_url":"https://github.com/coq/coq/issues/3510#issuecomment-337522378","issue_url":"https://api.github.com/repos/coq/coq/issues/3510","id":337522378,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMjM3OA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2015-07-21T08:11:49Z","updated_at":"2017-10-18T09:26:47Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nThis is a regression with respect to 8.4. Here is a reduced testcase:\n\nInductive T := Foo : T.\nAxiom (b : T) (R : forall x : T, Prop) (f : forall x : T, R x).\nAxiom a1 : match b with Foo => f end = f.\nAxiom a2 : match b with Foo => f b end = f b.\nHint Rewrite a1 a2 : bar.\n\nframe @  file \"tactics/dnet.ml\", line 97, characters 22-59\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337522378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]