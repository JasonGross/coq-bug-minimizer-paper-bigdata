[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520007","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520007","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520007,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAwNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T11:46:56Z","updated_at":"2017-10-18T09:19:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\n$ git log -1 && git clean -xfd && ./configure -prefix \"$(readlink -f ~/.local64/coq/coq-trunk)\" -no-native\n-compiler && make -j16\ncommit 289b2b9a1c3d3ebc3c1975663d16c04e88b6329b\nAuthor: Enrico Tassi <Enrico.Tassi@ inria.fr>\nDate:   Mon Jun 2 10:52:31 2014 +0200\n\n    Enforce a correct exception handling in declaration_hooks\n\n    This should finally get rid of the following class of bugs:\n    Qed fails, STM undoes to the beginning of the proof because the\n    exception is not annotated with the correct state, PG gets out of\n    sync because errors always refer to the last command in PGIP.\nYou have GNU Make 3.81. Good!\nYou have OCaml 4.01.0. Good!\nYou have Camlp5 6.11. Good!\nYou have native-code compilation. Good!\nLablGtk2 found (via ocamlfind), with native threads:\n=> native CoqIde will be built.\n\n  Architecture                : Linux\n  Coq VM bytecode link flags  : -dllib -lcoqrun -dllpath /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/lib/coq\n  Other bytecode link flags   :\n  OS dependent libraries      : -cclib -lunix\n  OCaml/Camlp4 version        : 4.01.0\n  OCaml/Camlp4 binaries in    : /afs/csail.mit.edu/u/j/jgross/.local64/bin\n  Camlp4 library in           : +camlp5\n  Native dynamic link support : true\n  Lablgtk2 library in         : +site-lib/lablgtk2\n  CoqIde                      : opt\n  Documentation               : All\n  Web browser                 : firefox -remote \"OpenURL(%s,new-tab)\" || firefox %s &\n  Coq web site                : http://coq.inria.fr/\n\n  Native compiler for conversion and normalization disabled\n\n  Paths for true installation:\n  - the Coq binaries will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/bin\n  - the Coq library will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/lib/coq\n  - the Coqide configuration files will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/etc/xdg/coq\n  - the Coqide data files will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/share/coq\n  - the Coq man pages will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/share/man\n  - the Coq documentation will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/share/doc/coq\n  - the Coq Emacs mode will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/share/emacs/site-lisp\n  - the Coqdoc LaTeX files will be copied in /afs/csail.mit.edu/u/j/jgross/.local64/coq/coq-trunk/share/emacs/site-lisp\n\nIf anything is wrong above, please restart './configure'.\n\n*Warning* To compile the system for a new architecture\n          don't forget to do a 'make clean' before './configure'.\nmake --warn-undefined-variable --no-builtin-rules -f Makefile.build BUILDGRAMMAR=1 grammar/grammar.cma grammar/q_constr.cmo\nmake[1]: Entering directory `/afs/csail.mit.edu/u/j/jgross/coq-trunk'\n...\nFile \"checker/declarations.ml\", line 1:\nError: The files checker/cic.cmi and checker/term.cmi\n       make inconsistent assumptions over interface Term\nmake[1]: *** [checker/declarations.cmo] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nOCAMLC    checker/modops.mli\nOCAMLC    checker/inductive.mli\nFile \"checker/environ.ml\", line 1:\nError: The files checker/cic.cmi and checker/term.cmi\n       make inconsistent assumptions over interface Term\nmake[1]: *** [checker/environ.cmo] Error 2\nFile \"checker/reduction.mli\", line 1:\nError: The files checker/cic.cmi and checker/term.cmi\n       make inconsistent assumptions over interface Term\nmake[1]: *** [checker/reduction.cmi] Error 2\nFile \"checker/term.ml\", line 1:\nError: The files checker/cic.cmi and checker/term.cmi\n       make inconsistent assumptions over interface Term\nmake[1]: *** [checker/term.cmo] Error 2\ntheories/Classes\ntheories/FSets\ntheories/Init\ntheories/Lists\ntheories/Logic\ntheories/MSets\ntheories/NArith\ntheories/Numbers\ntheories/Numbers/Cyclic\ntheories/Numbers/Cyclic/Abstract\n...\ntheories/Numbers/Cyclic/Int31\ntheories/Numbers/Cyclic/ZModulo\ntheories/Numbers/Integer\ntheories/Numbers/Integer/Abstract\ntheories/Numbers/Integer/BigZ\ntheories/Numbers/Integer/Binary\ntheories/Numbers/Integer/NatPairs\ntheories/Numbers/Integer/SpecViaZ\ntheories/Numbers/NatInt\ntheories/Numbers/Natural\ntheories/Numbers/Natural/Abstract\ntheories/Numbers/Natural/BigN\ntheories/Numbers/Natural/Binary\ntheories/Numbers/Natural/Peano\ntheories/Numbers/Natural/SpecViaZ\ntheories/Numbers/Rational\ntheories/Numbers/Rational/BigQ\ntheories/Numbers/Rational/SpecViaQ\ntheories/PArith\ntheories/Program\ntheories/QArith\ntheories/Reals\ntheories/Relations\ntheories/Setoids\ntheories/Sets\ntheories/Sorting\ntheories/Strings\ntheories/Structures\ntheories/Unicode\ntheories/Vectors\ntheories/Wellfounded\ntheories/ZArith\nDone\nmake[1]: Leaving directory `/afs/csail.mit.edu/u/j/jgross/coq-trunk'\nmake: *** [submake] Error 2\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520010","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520010","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520010,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxMA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T11:49:24Z","updated_at":"2017-10-18T09:19:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nIt happened to me too, then a git clean -dfx fixed it.\n\nIt is clearly a small bug in the Makefile, but I could not find it.\n\nAre you experiencing the bug on a clean source tree?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520011","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520011","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520011,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxMQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T11:50:33Z","updated_at":"2017-10-18T09:19:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nOps, I did not read your report fully.  You do have a clean source tree.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520013","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520013","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520013,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T12:23:24Z","updated_at":"2017-10-18T09:19:44Z","author_association":"CONTRIBUTOR","body":"Comment author: @gares\n\nHum, it works here.  Can you try with -j1 instead?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520014","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520014","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520014,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T18:03:26Z","updated_at":"2017-10-18T09:19:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nThat does not help.  If I run\n\n$ git log -1 && git clean -xfd && ./configure -prefix \"$(readlink -f ~/.local64/coq/coq-trunk)\" -no-native-compiler && make -j1\n\nI once again get\n\ncommit 289b2b9a1c3d3ebc3c1975663d16c04e88b6329b\nAuthor: Enrico Tassi <Enrico.Tassi@ inria.fr>\nDate:   Mon Jun 2 10:52:31 2014 +0200\n\n    Enforce a correct exception handling in declaration_hooks\n\n    This should finally get rid of the following class of bugs:\n    Qed fails, STM undoes to the beginning of the proof because the\n    exception is not annotated with the correct state, PG gets out of\n    sync because errors always refer to the last command in PGIP.\n...\nOCAMLC -a -o parsing/highparsing.cma\nOCAMLC    tactics/extraargs.ml\nOCAMLC    tactics/class_tactics.ml\nOCAMLC    tactics/rewrite.ml\nOCAMLC    tactics/eqdecide.ml\nOCAMLC -a -o tactics/hightactics.cma\nCOQMKTOP -o bin/coqtop.byte\nFile \"lib/lib.cma(Errors)\", line 1:\nWarning 31: files lib/lib.cma(Errors) and /afs/csail.mit.edu/u/j/jgross/.local64/lib/ocaml/compiler-libs/ocamlbytecomp.cma(Errors) both define a module named Errors\nFile \"parsing/parsing.cma(Lexer)\", line 1:\nWarning 31: files parsing/parsing.cma(Lexer) and /afs/csail.mit.edu/u/j/jgross/.local64/lib/ocaml/compiler-libs/ocamlcommon.cma(Lexer) both define a module named Lexer\nOCAMLC    checker/cic.mli\nOCAMLC    checker/term.mli\nOCAMLC    checker/term.ml\nFile \"checker/term.ml\", line 1:\nError: The files checker/cic.cmi and checker/term.cmi\n       make inconsistent assumptions over interface Term\nmake[1]: *** [checker/term.cmo] Error 2\nmake[1]: Leaving directory `/afs/csail.mit.edu/u/j/jgross/coq-trunk'\nmake: *** [submake] Error 2\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520016","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520016","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520016,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T20:36:13Z","updated_at":"2017-10-18T09:19:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @ppedrot\n\nShould be fixed in trunk.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520018","html_url":"https://github.com/coq/coq/issues/3365#issuecomment-337520018","issue_url":"https://api.github.com/repos/coq/coq/issues/3365","id":337520018,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyMDAxOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-06-08T20:37:18Z","updated_at":"2017-10-18T09:19:45Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nIndeed, thanks!\n\nAny chance you can fix\n\nmake[1]: Entering directory `/afs/csail.mit.edu/u/j/jgross/coq-trunk'\nMD5SUM cic.mli\nCHECK revision\nError: outdated checker/values.ml\nmake[1]: *** [md5chk] Error 1\n\n\nWhile you're at it?\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337520018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]