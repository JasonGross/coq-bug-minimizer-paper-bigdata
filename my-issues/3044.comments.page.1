[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514613","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514613","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514613,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxMw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-05-19T21:04:19Z","updated_at":"2017-10-18T09:04:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPlease add the following to the theories/Init/Specif.v, so that [sigT2] and [sig2] will have projections in the standard library.\n\n---------------- to be added below [End Subset_projections.] --------------\n(** [sig2] of a predicate can be projected to a [sig].\n\n    This allows [proj1_sig] and [proj2_sig] to work with [sig2].\n\n    The [let] statements occur in the body of the [exist] so that\n    [proj1_sig] of a coerced [X : sig2 P Q] will unify with [let (a,\n    _, _) := X in a] *)\n\nDefinition sig_of_sig2 (A : Type) (P Q : A -> Prop) (X : sig2 P Q) : sig P\n  := exist P\n           (let (a, _, _) := X in a)\n           (let (x, p, _) as s return (P (let (a, _, _) := s in a)) := X in p).\n\nCoercion sig_of_sig2 : sig2 >-> sig.\n\n(** Projections of [sig2]\n\n    An element [y] of a subset [{x:A | (P x) & (Q x)}] is the triple\n    of an [a] of type [A], a of a proof [h] that [a] satisfies [P],\n    and a proof [h'] that [a] satisfies [Q].  Then [(proj1_sig y)] is\n    the witness [a], [(proj2_sig y)] is the proof of [(P a)], and\n    [(proj3_sig y)] is the proof of [(Q a)]. *)\n\nSection Subset_projections2.\n\n  Variable A : Type.\n  Variables P Q : A -> Prop.\n\n  Definition proj3_sig (e : sig2 P Q) :=\n    let (a, b, c) return Q (proj1_sig e) := e in c.\n\nEnd Subset_projections2.\n------------------------ snip -------------------------------------\n\n\n\n\n---------------- to be added below [End Projections.] --------------\n(** [sigT2] of a predicate can be projected to a [sigT].\n\n    This allows [projT1] and [projT2] to work with [sigT2].\n\n    The [let] statements occur in the body of the [existT] so that\n    [projT1] of a coerced [X : sigT2 P Q] will unify with [let (a,\n    _, _) := X in a] *)\n\nDefinition sigT_of_sigT2 (A : Type) (P Q : A -> Type) (X : sigT2 P Q) : sigT P\n  := existT P\n            (let (a, _, _) := X in a)\n            (let (x, p, _) as s return (P (let (a, _, _) := s in a)) := X in p).\n\nCoercion sigT_of_sigT2 : sigT2 >-> sigT.\n\n(** Projections of [sigT2]\n\n    An element [x] of a sigma-type [{y:A & P y & Q y}] is a dependent\n    pair made of an [a] of type [A], an [h] of type [P a], and an [h']\n    of type [Q a].  Then, [(projT1 x)] is the first projection,\n    [(projT2 x)] is the second projection, and [(projT3 x)] is the\n    third projection, the types of which depends on the [projT1]. *)\n\nSection Projections2.\n\n  Variable A : Type.\n  Variables P Q : A -> Type.\n\n  Definition projT3 (e : sigT2 P Q) :=\n    let (a, b, c) return Q (projT1 e) := e in c.\n\nEnd Projections2.\n------------------------ snip -------------------------------------\n\n\n-------- to be added below [Coercion sig_of_sigT : sigT >-> sig.] ------\n(** [sigT2] of a predicate is equivalent to [sig2] *)\n\nDefinition sig2_of_sigT2 (A : Type) (P Q : A -> Prop) (X : sigT2 P Q) : sig2 P Q\n  := exist2 P Q (projT1 X) (projT2 X) (projT3 X).\n\nDefinition sigT2_of_sig2 (A : Type) (P Q : A -> Prop) (X : sig2 P Q) : sigT2 P Q\n  := existT2 P Q (proj1_sig X) (proj2_sig X) (proj3_sig X).\n\nCoercion sigT2_of_sig2 : sig2 >-> sigT2.\nCoercion sig2_of_sigT2 : sigT2 >-> sig2.\n-------------------------- snip ----------------------------------------\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514614","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514614","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514614,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxNA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-06-27T17:27:08Z","updated_at":"2017-10-18T09:04:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nCreated attachment 411\na patch implementing projT3 and proj3_sig\n\nHere's a patch, in case that makes it more likely for this to be merged.  Unfortunately, there will be a slight conflict with https://coq.inria.fr/bugs/show_bug.cgi?id=3043, because the git diff overlaps slightly; I'll post a patch for both of these momentarily.\n\n> Attached file: [sig2_sigT2.diff](https://coq.inria.fr/bugfiles/attachment.cgi?id=411) (text/plain, 4065 bytes)\n> Description:   a patch implementing projT3 and proj3_sig\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514615","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514615","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514615,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxNQ==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-06-27T17:30:59Z","updated_at":"2017-10-18T09:04:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nCreated attachment 412\npatch implementing projT3 and proj3_sig, as well as the patch for 3043\n\nOh, nevermind, git apply doesn't give me any conflicts.  But here's the combined patch anyway, in case svn doesn't like both patches, and because I already made it.\n\n> Attached file: [sig_sig2_sigT_sigT2.diff](https://coq.inria.fr/bugfiles/attachment.cgi?id=412) (text/plain, 3741 bytes)\n> Description:   patch implementing projT3 and proj3_sig, as well as the patch for 3043\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514616","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514616","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514616,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxNg==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-06-27T17:34:24Z","updated_at":"2017-10-18T09:04:13Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nNote that both patches also have test cases which (assuming I did everything right) pass make check.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514617","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514617","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514617,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxNw==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2013-11-24T04:34:23Z","updated_at":"2017-10-18T09:04:14Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\n\nPull request at https://github.com/coq/coq/pull/4\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514618","html_url":"https://github.com/coq/coq/issues/3044#issuecomment-337514618","issue_url":"https://api.github.com/repos/coq/coq/issues/3044","id":337514618,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUxNDYxOA==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T13:14:31Z","updated_at":"2017-10-18T09:04:14Z","author_association":"CONTRIBUTOR","body":"Comment author: @silene\n\nAt the latest developer meeting, there was a general agreement that there shall be no coercions at all in the prelude and that the current ones are a mistake. So we will not be adding any new one.\n\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337514618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]