[{"url":"https://api.github.com/repos/coq/coq/issues/comments/1031257363","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1031257363","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1031257363,"node_id":"IC_kwDOABUDh849d70T","user":{"login":"gares","id":1013846,"node_id":"MDQ6VXNlcjEwMTM4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1013846?v=4","gravatar_id":"","url":"https://api.github.com/users/gares","html_url":"https://github.com/gares","followers_url":"https://api.github.com/users/gares/followers","following_url":"https://api.github.com/users/gares/following{/other_user}","gists_url":"https://api.github.com/users/gares/gists{/gist_id}","starred_url":"https://api.github.com/users/gares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gares/subscriptions","organizations_url":"https://api.github.com/users/gares/orgs","repos_url":"https://api.github.com/users/gares/repos","events_url":"https://api.github.com/users/gares/events{/privacy}","received_events_url":"https://api.github.com/users/gares/received_events","type":"User","site_admin":false},"created_at":"2022-02-07T09:36:06Z","updated_at":"2022-02-07T09:36:06Z","author_association":"MEMBER","body":"This seems a duplicate of https://github.com/coq/coq/issues/15452","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1031257363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032458289","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032458289","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032458289,"node_id":"IC_kwDOABUDh849ihAx","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T10:35:22Z","updated_at":"2022-02-08T10:35:22Z","author_association":"MEMBER","body":"I think this is different, for some reason the `--libdir=/usr/lib/ocaml` that is needed in Debian is not passed to Dune, it uses `$prefix/lib` instead which is the default.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032458289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032471491","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032471491","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032471491,"node_id":"IC_kwDOABUDh849ikPD","user":{"login":"gares","id":1013846,"node_id":"MDQ6VXNlcjEwMTM4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1013846?v=4","gravatar_id":"","url":"https://api.github.com/users/gares","html_url":"https://github.com/gares","followers_url":"https://api.github.com/users/gares/followers","following_url":"https://api.github.com/users/gares/following{/other_user}","gists_url":"https://api.github.com/users/gares/gists{/gist_id}","starred_url":"https://api.github.com/users/gares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gares/subscriptions","organizations_url":"https://api.github.com/users/gares/orgs","repos_url":"https://api.github.com/users/gares/repos","events_url":"https://api.github.com/users/gares/events{/privacy}","received_events_url":"https://api.github.com/users/gares/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T10:50:18Z","updated_at":"2022-02-08T10:50:18Z","author_association":"MEMBER","body":"So it is a bug in \"configure.ml\"?","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032471491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032476125","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032476125","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032476125,"node_id":"IC_kwDOABUDh849ilXd","user":{"login":"silene","id":1674458,"node_id":"MDQ6VXNlcjE2NzQ0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/1674458?v=4","gravatar_id":"","url":"https://api.github.com/users/silene","html_url":"https://github.com/silene","followers_url":"https://api.github.com/users/silene/followers","following_url":"https://api.github.com/users/silene/following{/other_user}","gists_url":"https://api.github.com/users/silene/gists{/gist_id}","starred_url":"https://api.github.com/users/silene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silene/subscriptions","organizations_url":"https://api.github.com/users/silene/orgs","repos_url":"https://api.github.com/users/silene/repos","events_url":"https://api.github.com/users/silene/events{/privacy}","received_events_url":"https://api.github.com/users/silene/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T10:55:27Z","updated_at":"2022-02-08T10:55:27Z","author_association":"CONTRIBUTOR","body":"For the record, here is what I wrote in Zulip:\r\n\r\n> I think the main issue is as follows. Dune says \"If `--prefix` is specified the default is `$prefix/lib`, otherwise it is the output of `ocamlfind printconf destdir`.\" Since Coq uses `--prefix`, Dune installs the files in a location that Findlib never heard about.\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032476125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032482275","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032482275","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032482275,"node_id":"IC_kwDOABUDh849im3j","user":{"login":"silene","id":1674458,"node_id":"MDQ6VXNlcjE2NzQ0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/1674458?v=4","gravatar_id":"","url":"https://api.github.com/users/silene","html_url":"https://github.com/silene","followers_url":"https://api.github.com/users/silene/followers","following_url":"https://api.github.com/users/silene/following{/other_user}","gists_url":"https://api.github.com/users/silene/gists{/gist_id}","starred_url":"https://api.github.com/users/silene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silene/subscriptions","organizations_url":"https://api.github.com/users/silene/orgs","repos_url":"https://api.github.com/users/silene/repos","events_url":"https://api.github.com/users/silene/events{/privacy}","received_events_url":"https://api.github.com/users/silene/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T11:02:46Z","updated_at":"2022-02-08T11:02:46Z","author_association":"CONTRIBUTOR","body":"> So it is a bug in `configure.ml`?\r\n\r\nI would rather say that it is a bug in `Makefile.install`. But there is presumably a missing feature in `configure.ml` that prevents from fixing the bug adequately, I guess.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032482275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032630003","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032630003","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032630003,"node_id":"IC_kwDOABUDh849jK7z","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T13:49:39Z","updated_at":"2022-02-08T13:49:39Z","author_association":"MEMBER","body":"I think we had this sorted in configure/Makefile.install but is very possible that I messed up.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032630003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032630380","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1032630380","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1032630380,"node_id":"IC_kwDOABUDh849jLBs","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2022-02-08T13:50:05Z","updated_at":"2022-02-08T13:50:05Z","author_association":"MEMBER","body":"> For the record, here is what I wrote in Zulip:\r\n> \r\n> > I think the main issue is as follows. Dune says \"If `--prefix` is specified the default is `$prefix/lib`, otherwise it is the output of `ocamlfind printconf destdir`.\" Since Coq uses `--prefix`, Dune installs the files in a location that Findlib never heard about.\r\n\r\nYup, dune allows to override this tho with `--libdir`","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1032630380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1034152759","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1034152759","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1034152759,"node_id":"IC_kwDOABUDh849o-s3","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2022-02-09T20:14:10Z","updated_at":"2022-02-09T20:14:10Z","author_association":"MEMBER","body":"> I think this is different, for some reason the `--libdir=/usr/lib/ocaml` that is needed in Debian is not passed to Dune, it uses `$prefix/lib` instead which is the default.\r\n\r\nEven if I pass `-libdir` to `./configure` explicitly, `make install` ignores it and installs the META files to, e.g., `usr/lib/coq-core/META` ([see this log](https://launchpadlibrarian.net/585237203/buildlog_ubuntu-xenial-i386.coq_8.master~git~202202091915+23046-0~daily357-9039b7cec0~ubuntu16.04.1_BUILDING.txt.gz))","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1034152759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1127420002","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1127420002","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1127420002,"node_id":"IC_kwDOABUDh85DMxBi","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2022-05-16T09:08:37Z","updated_at":"2022-05-16T09:08:37Z","author_association":"MEMBER","body":"@JasonGross is this still relevant?","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1127420002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128158608","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1128158608","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1128158608,"node_id":"IC_kwDOABUDh85DPlWQ","user":{"login":"JasonGross","id":396076,"node_id":"MDQ6VXNlcjM5NjA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/396076?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonGross","html_url":"https://github.com/JasonGross","followers_url":"https://api.github.com/users/JasonGross/followers","following_url":"https://api.github.com/users/JasonGross/following{/other_user}","gists_url":"https://api.github.com/users/JasonGross/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonGross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonGross/subscriptions","organizations_url":"https://api.github.com/users/JasonGross/orgs","repos_url":"https://api.github.com/users/JasonGross/repos","events_url":"https://api.github.com/users/JasonGross/events{/privacy}","received_events_url":"https://api.github.com/users/JasonGross/received_events","type":"User","site_admin":false},"created_at":"2022-05-16T21:32:11Z","updated_at":"2022-05-16T21:32:11Z","author_association":"MEMBER","body":"I think it's not?  I'm not sure, though; I found a workaround a while back, I think, and haven't touched the code since","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128158608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128458554","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1128458554","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1128458554,"node_id":"IC_kwDOABUDh85DQuk6","user":{"login":"ppedrot","id":1202327,"node_id":"MDQ6VXNlcjEyMDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1202327?v=4","gravatar_id":"","url":"https://api.github.com/users/ppedrot","html_url":"https://github.com/ppedrot","followers_url":"https://api.github.com/users/ppedrot/followers","following_url":"https://api.github.com/users/ppedrot/following{/other_user}","gists_url":"https://api.github.com/users/ppedrot/gists{/gist_id}","starred_url":"https://api.github.com/users/ppedrot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppedrot/subscriptions","organizations_url":"https://api.github.com/users/ppedrot/orgs","repos_url":"https://api.github.com/users/ppedrot/repos","events_url":"https://api.github.com/users/ppedrot/events{/privacy}","received_events_url":"https://api.github.com/users/ppedrot/received_events","type":"User","site_admin":false},"created_at":"2022-05-17T06:19:04Z","updated_at":"2022-05-17T06:19:04Z","author_association":"MEMBER","body":"Unsetting the blocker tag in any case.","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128458554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128563851","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1128563851","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1128563851,"node_id":"IC_kwDOABUDh85DRISL","user":{"login":"gares","id":1013846,"node_id":"MDQ6VXNlcjEwMTM4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1013846?v=4","gravatar_id":"","url":"https://api.github.com/users/gares","html_url":"https://github.com/gares","followers_url":"https://api.github.com/users/gares/followers","following_url":"https://api.github.com/users/gares/following{/other_user}","gists_url":"https://api.github.com/users/gares/gists{/gist_id}","starred_url":"https://api.github.com/users/gares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gares/subscriptions","organizations_url":"https://api.github.com/users/gares/orgs","repos_url":"https://api.github.com/users/gares/repos","events_url":"https://api.github.com/users/gares/events{/privacy}","received_events_url":"https://api.github.com/users/gares/received_events","type":"User","site_admin":false},"created_at":"2022-05-17T08:19:03Z","updated_at":"2022-05-17T08:19:03Z","author_association":"MEMBER","body":"I suspect this is broken in the non-standard layout we are discussing in #15663 .","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128563851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128939362","html_url":"https://github.com/coq/coq/issues/15635#issuecomment-1128939362","issue_url":"https://api.github.com/repos/coq/coq/issues/15635","id":1128939362,"node_id":"IC_kwDOABUDh85DSj9i","user":{"login":"ejgallego","id":7192257,"node_id":"MDQ6VXNlcjcxOTIyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7192257?v=4","gravatar_id":"","url":"https://api.github.com/users/ejgallego","html_url":"https://github.com/ejgallego","followers_url":"https://api.github.com/users/ejgallego/followers","following_url":"https://api.github.com/users/ejgallego/following{/other_user}","gists_url":"https://api.github.com/users/ejgallego/gists{/gist_id}","starred_url":"https://api.github.com/users/ejgallego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejgallego/subscriptions","organizations_url":"https://api.github.com/users/ejgallego/orgs","repos_url":"https://api.github.com/users/ejgallego/repos","events_url":"https://api.github.com/users/ejgallego/events{/privacy}","received_events_url":"https://api.github.com/users/ejgallego/received_events","type":"User","site_admin":false},"created_at":"2022-05-17T14:25:42Z","updated_at":"2022-05-17T14:25:42Z","author_association":"MEMBER","body":"Should be solved by #15560 ","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/1128939362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]