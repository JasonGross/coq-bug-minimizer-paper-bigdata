[{"url":"https://api.github.com/repos/coq/coq/issues/comments/337527076","html_url":"https://github.com/coq/coq/issues/3793#issuecomment-337527076","issue_url":"https://api.github.com/repos/coq/coq/issues/3793","id":337527076,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzUyNzA3Ng==","user":{"login":"coqbot","id":13040781,"node_id":"MDQ6VXNlcjEzMDQwNzgx","avatar_url":"https://avatars.githubusercontent.com/u/13040781?v=4","gravatar_id":"","url":"https://api.github.com/users/coqbot","html_url":"https://github.com/coqbot","followers_url":"https://api.github.com/users/coqbot/followers","following_url":"https://api.github.com/users/coqbot/following{/other_user}","gists_url":"https://api.github.com/users/coqbot/gists{/gist_id}","starred_url":"https://api.github.com/users/coqbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coqbot/subscriptions","organizations_url":"https://api.github.com/users/coqbot/orgs","repos_url":"https://api.github.com/users/coqbot/repos","events_url":"https://api.github.com/users/coqbot/events{/privacy}","received_events_url":"https://api.github.com/users/coqbot/received_events","type":"User","site_admin":false},"created_at":"2014-11-05T20:19:33Z","updated_at":"2018-03-30T23:31:52Z","author_association":"CONTRIBUTOR","body":"Comment author: @JasonGross\r\n\r\nIt would be nice for the [Check] below that currently fails to succeed.\r\n```\r\n\r\nDefinition x := Type -> Type.\r\nDefinition y : x := fun x => x.\r\nDefinition y' := fun x : Type => x.\r\nAbout y. (* y : x\r\n\r\ny is transparent\r\nExpands to: Constant Top.y\r\n*)\r\nFail Check (y (Set * Set)). (* The command has indeed failed with message:\r\n=> Error: The term \"Set\" has type \"Type\" while it is expected to have type\r\n    \"nat\". *)\r\nCheck y' (Set * Set).\r\nArguments y _%type_scope.\r\nCheck y (Set * Set).\r\n```\r\n\r\n\r\nAlternatively, if it's too expensive to repeatedly find the hnf when looking at the type, it should be possible to declare an constant as appropriately transparent, so that it will be unfolded in the type before looking for argument status.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/coq/coq/issues/comments/337527076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]