{"id":547769251,"status":"success","stage":"stage-4","name":"library:ci-corn","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.495Z","started_at":"2020-05-12T02:42:40.552Z","finished_at":"2020-05-12T03:01:25.767Z","duration":1125.2152,"queued_duration":0.245082,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769251","artifacts":[{"file_type":"trace","size":557941,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547769250,"status":"success","stage":"stage-4","name":"library:ci-fiat_crypto","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.478Z","started_at":"2020-05-12T02:43:28.002Z","finished_at":"2020-05-12T05:17:55.323Z","duration":9267.320794,"queued_duration":0.441286,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769250","artifacts":[{"file_type":"trace","size":2285829,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769249,"status":"skipped","stage":"stage-3","name":"plugin:ci-metacoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.460Z","started_at":null,"finished_at":null,"duration":null,"queued_duration":null,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769249","artifacts":[],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547769248,"status":"failed","stage":"stage-3","name":"library:ci-vst","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.445Z","started_at":"2020-05-12T02:36:38.950Z","finished_at":"2020-05-12T02:46:29.321Z","duration":590.371421,"queued_duration":0.588555,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547769248","artifacts":[{"file_type":"trace","size":482396,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769247,"status":"success","stage":"stage-3","name":"library:ci-math_classes","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.432Z","started_at":"2020-05-12T02:34:32.705Z","finished_at":"2020-05-12T02:42:40.169Z","duration":487.463987,"queued_duration":0.907327,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769247","artifacts":[{"file_type":"trace","size":184189,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769246,"status":"success","stage":"stage-3","name":"library:ci-coqprime","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.411Z","started_at":"2020-05-12T02:34:32.551Z","finished_at":"2020-05-12T02:39:36.106Z","duration":303.555377,"queued_duration":0.802348,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769246","artifacts":[{"file_type":"trace","size":109206,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769245,"status":"success","stage":"stage-3","name":"library:ci-color","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.396Z","started_at":"2020-05-12T02:34:32.391Z","finished_at":"2020-05-12T02:53:43.922Z","duration":1151.530953,"queued_duration":0.69896,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769245","artifacts":[{"file_type":"trace","size":600118,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769244,"status":"success","stage":"stage-2","name":"plugin:ci-rewriter","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.378Z","started_at":"2020-05-12T02:29:26.320Z","finished_at":"2020-05-12T02:43:27.340Z","duration":841.019617,"queued_duration":1.116076,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769244","artifacts":[{"file_type":"trace","size":222977,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769243,"status":"success","stage":"stage-2","name":"plugin:ci-relation_algebra","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.362Z","started_at":"2020-05-12T02:19:45.757Z","finished_at":"2020-05-12T02:24:44.216Z","duration":298.459756,"queued_duration":1.545926,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769243","artifacts":[{"file_type":"trace","size":83066,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547769242,"status":"success","stage":"stage-2","name":"plugin:ci-reduction_effects","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.347Z","started_at":"2020-05-12T02:19:45.715Z","finished_at":"2020-05-12T02:22:47.827Z","duration":182.11227,"queued_duration":1.555677,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769242","artifacts":[{"file_type":"trace","size":33156,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769241,"status":"success","stage":"stage-2","name":"plugin:ci-quickchick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.333Z","started_at":"2020-05-12T02:29:26.281Z","finished_at":"2020-05-12T02:36:08.806Z","duration":402.524713,"queued_duration":1.131396,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769241","artifacts":[{"file_type":"trace","size":291034,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769240,"status":"success","stage":"stage-2","name":"plugin:ci-perennial","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.317Z","started_at":"2020-05-12T02:29:26.237Z","finished_at":"2020-05-12T03:31:54.258Z","duration":3748.020674,"queued_duration":1.138675,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769240","artifacts":[{"file_type":"trace","size":40838,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769239,"status":"success","stage":"stage-2","name":"plugin:ci-paramcoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.304Z","started_at":"2020-05-12T02:19:45.678Z","finished_at":"2020-05-12T02:23:19.050Z","duration":213.372196,"queued_duration":1.569101,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769239","artifacts":[{"file_type":"trace","size":84709,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769237,"status":"success","stage":"stage-2","name":"plugin:ci-mtac2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.290Z","started_at":"2020-05-12T02:19:45.640Z","finished_at":"2020-05-12T02:24:32.339Z","duration":286.69873,"queued_duration":1.584967,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769237","artifacts":[{"file_type":"trace","size":159341,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769235,"status":"success","stage":"stage-2","name":"plugin:ci-fiat_parsers","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.277Z","started_at":"2020-05-12T02:19:45.601Z","finished_at":"2020-05-12T02:38:40.761Z","duration":1135.160361,"queued_duration":1.599841,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769235","artifacts":[{"file_type":"trace","size":824083,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769234,"status":"failed","stage":"stage-2","name":"plugin:ci-equations","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.262Z","started_at":"2020-05-12T02:19:45.536Z","finished_at":"2020-05-12T02:20:47.309Z","duration":61.773426,"queued_duration":1.596356,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547769234","artifacts":[{"file_type":"trace","size":85133,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547769233,"status":"success","stage":"stage-2","name":"plugin:ci-elpi","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.249Z","started_at":"2020-05-12T02:19:45.469Z","finished_at":"2020-05-12T02:26:11.817Z","duration":386.347615,"queued_duration":1.584214,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769233","artifacts":[{"file_type":"trace","size":346776,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769232,"status":"success","stage":"stage-2","name":"plugin:ci-coqhammer","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.234Z","started_at":"2020-05-12T02:19:45.425Z","finished_at":"2020-05-12T02:23:03.640Z","duration":198.214451,"queued_duration":1.599903,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769232","artifacts":[{"file_type":"trace","size":46581,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769231,"status":"success","stage":"stage-2","name":"plugin:ci-coq_dpdgraph","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.216Z","started_at":"2020-05-12T02:19:45.384Z","finished_at":"2020-05-12T02:21:58.604Z","duration":133.220074,"queued_duration":1.611141,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769231","artifacts":[{"file_type":"trace","size":69679,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547769230,"status":"success","stage":"stage-2","name":"plugin:ci-bignums","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.198Z","started_at":"2020-05-12T02:29:26.084Z","finished_at":"2020-05-12T02:34:31.550Z","duration":305.46654,"queued_duration":1.040414,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769230","artifacts":[{"file_type":"trace","size":65747,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769229,"status":"success","stage":"stage-2","name":"plugin:ci-aac_tactics","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.176Z","started_at":"2020-05-12T02:19:45.227Z","finished_at":"2020-05-12T02:23:03.987Z","duration":198.759281,"queued_duration":1.510247,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769229","artifacts":[{"file_type":"trace","size":54011,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769228,"status":"success","stage":"stage-2","name":"library:ci-verdi_raft","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.162Z","started_at":"2020-05-12T02:29:26.047Z","finished_at":"2020-05-12T02:59:04.791Z","duration":1778.74381,"queued_duration":1.053784,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769228","artifacts":[{"file_type":"trace","size":316012,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769227,"status":"success","stage":"stage-2","name":"library:ci-unimath","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.150Z","started_at":"2020-05-12T02:29:25.866Z","finished_at":"2020-05-12T03:38:21.857Z","duration":4135.990504,"queued_duration":0.926076,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769227","artifacts":[{"file_type":"trace","size":225170,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769226,"status":"success","stage":"stage-2","name":"library:ci-tlc","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.137Z","started_at":"2020-05-12T02:19:45.191Z","finished_at":"2020-05-12T02:24:33.764Z","duration":288.573282,"queued_duration":1.527167,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769226","artifacts":[{"file_type":"trace","size":155421,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769225,"status":"success","stage":"stage-2","name":"library:ci-stdlib2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.123Z","started_at":"2020-05-12T02:29:25.810Z","finished_at":"2020-05-12T02:32:57.963Z","duration":212.15333,"queued_duration":0.92485,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769225","artifacts":[{"file_type":"trace","size":37945,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769224,"status":"failed","stage":"stage-2","name":"library:ci-sf","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.110Z","started_at":"2020-05-12T02:19:45.151Z","finished_at":"2020-05-12T02:22:49.657Z","duration":184.505593,"queued_duration":1.53688,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547769224","artifacts":[{"file_type":"trace","size":26030,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769223,"status":"success","stage":"stage-2","name":"library:ci-mathcomp","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.097Z","started_at":"2020-05-12T02:29:25.759Z","finished_at":"2020-05-12T03:49:37.415Z","duration":4811.655872,"queued_duration":0.929938,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769223","artifacts":[{"file_type":"trace","size":420102,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769221,"status":"success","stage":"stage-2","name":"library:ci-lambda_rust","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.084Z","started_at":"2020-05-12T02:29:25.715Z","finished_at":"2020-05-12T03:27:02.826Z","duration":3457.110763,"queued_duration":0.944384,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769221","artifacts":[{"file_type":"trace","size":331044,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769220,"status":"success","stage":"stage-2","name":"library:ci-hott","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.069Z","started_at":"2020-05-12T02:19:45.092Z","finished_at":"2020-05-12T02:30:21.800Z","duration":636.708018,"queued_duration":1.527552,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769220","artifacts":[{"file_type":"trace","size":131984,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769219,"status":"success","stage":"stage-2","name":"library:ci-geocoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.055Z","started_at":"2020-05-12T02:29:25.595Z","finished_at":"2020-05-12T03:07:03.267Z","duration":2257.672703,"queued_duration":0.875724,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769219","artifacts":[{"file_type":"trace","size":502378,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769218,"status":"success","stage":"stage-2","name":"library:ci-flocq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.040Z","started_at":"2020-05-12T02:29:25.511Z","finished_at":"2020-05-12T02:36:38.218Z","duration":432.707216,"queued_duration":0.849582,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769218","artifacts":[{"file_type":"trace","size":125275,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769217,"status":"success","stage":"stage-2","name":"library:ci-fcsl_pcm","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.025Z","started_at":"2020-05-12T02:19:45.006Z","finished_at":"2020-05-12T02:24:26.848Z","duration":281.841708,"queued_duration":1.493253,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769217","artifacts":[{"file_type":"trace","size":148639,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769216,"status":"success","stage":"stage-2","name":"library:ci-cross_crypto","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:19.010Z","started_at":"2020-05-12T02:19:44.954Z","finished_at":"2020-05-12T02:53:32.569Z","duration":2027.615721,"queued_duration":1.497918,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769216","artifacts":[{"file_type":"trace","size":177260,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769215,"status":"success","stage":"stage-2","name":"library:ci-coquelicot","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.995Z","started_at":"2020-05-12T02:19:44.786Z","finished_at":"2020-05-12T02:25:34.052Z","duration":349.265805,"queued_duration":1.379773,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769215","artifacts":[{"file_type":"trace","size":186505,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769214,"status":"success","stage":"stage-2","name":"library:ci-coq_tools","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.980Z","started_at":"2020-05-12T02:19:44.722Z","finished_at":"2020-05-12T02:26:50.216Z","duration":425.494436,"queued_duration":1.365096,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769214","artifacts":[{"file_type":"trace","size":45130,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769213,"status":"success","stage":"stage-2","name":"library:ci-compcert","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.965Z","started_at":"2020-05-12T02:29:25.271Z","finished_at":"2020-05-12T02:51:22.618Z","duration":1317.347574,"queued_duration":0.663492,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769213","artifacts":[{"file_type":"trace","size":4194361,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769212,"status":"success","stage":"stage-2","name":"library:ci-bedrock2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.944Z","started_at":"2020-05-12T02:29:25.099Z","finished_at":"2020-05-12T03:56:47.614Z","duration":5242.515067,"queued_duration":0.549839,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769212","artifacts":[{"file_type":"trace","size":486488,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769211,"status":"success","stage":"stage-2","name":"library:ci-bbv","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.930Z","started_at":"2020-05-12T02:19:44.678Z","finished_at":"2020-05-12T02:23:34.906Z","duration":230.227984,"queued_duration":1.368586,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769211","artifacts":[{"file_type":"trace","size":118003,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769210,"status":"success","stage":"stage-2","name":"library:ci-argosy","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.915Z","started_at":"2020-05-12T02:19:44.623Z","finished_at":"2020-05-12T02:24:03.005Z","duration":258.382368,"queued_duration":1.372804,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769210","artifacts":[{"file_type":"trace","size":142735,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769209,"status":"success","stage":"stage-2","name":"validate:quick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.901Z","started_at":"2020-05-12T02:17:12.373Z","finished_at":"2020-05-12T02:20:23.199Z","duration":190.826493,"queued_duration":0.650565,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769209","artifacts":[{"file_type":"trace","size":88846,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-11T02:20:19.909Z","tag_list":[]}
{"id":547769208,"status":"success","stage":"stage-2","name":"validate:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.887Z","started_at":"2020-05-12T02:29:24.867Z","finished_at":"2020-05-12T02:34:14.085Z","duration":289.217772,"queued_duration":0.377169,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769208","artifacts":[{"file_type":"trace","size":72082,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:34:12.253Z","tag_list":[]}
{"id":547769207,"status":"success","stage":"stage-2","name":"validate:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.873Z","started_at":"2020-05-12T02:14:59.528Z","finished_at":"2020-05-12T02:19:49.679Z","duration":290.151784,"queued_duration":0.261169,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769207","artifacts":[{"file_type":"trace","size":70036,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:19:48.430Z","tag_list":[]}
{"id":547769206,"status":"success","stage":"stage-2","name":"validate:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.859Z","started_at":"2020-05-12T02:19:44.556Z","finished_at":"2020-05-12T02:24:28.591Z","duration":284.034681,"queued_duration":1.35341,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769206","artifacts":[{"file_type":"trace","size":71659,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:24:27.401Z","tag_list":[]}
{"id":547769205,"status":"success","stage":"stage-2","name":"test-suite:base+async","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-12T01:58:18.845Z","started_at":"2020-05-12T02:19:44.493Z","finished_at":"2020-05-12T02:51:42.757Z","duration":1918.26366,"queued_duration":1.342062,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769205","artifacts":[{"file_type":"trace","size":98728,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769204,"status":"success","stage":"stage-2","name":"test-suite:edge:dune:dev","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.831Z","started_at":"2020-05-12T02:17:29.244Z","finished_at":"2020-05-12T02:40:15.028Z","duration":1365.784008,"queued_duration":0.772214,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769204","artifacts":[{"file_type":"trace","size":98773,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769203,"status":"success","stage":"stage-2","name":"test-suite:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.817Z","started_at":"2020-05-12T02:29:24.816Z","finished_at":"2020-05-12T02:53:03.213Z","duration":1418.396417,"queued_duration":0.379513,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769203","artifacts":[{"file_type":"trace","size":98954,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769202,"status":"success","stage":"stage-2","name":"test-suite:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.802Z","started_at":"2020-05-12T02:14:59.483Z","finished_at":"2020-05-12T02:34:33.583Z","duration":1174.099496,"queued_duration":0.270614,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769202","artifacts":[{"file_type":"trace","size":97035,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769201,"status":"success","stage":"stage-2","name":"test-suite:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.784Z","started_at":"2020-05-12T02:19:44.439Z","finished_at":"2020-05-12T02:38:58.902Z","duration":1154.46283,"queued_duration":1.33667,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769201","artifacts":[{"file_type":"trace","size":98595,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769200,"status":"success","stage":"stage-2","name":"doc:ml-api:odoc","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.769Z","started_at":"2020-05-12T02:17:28.987Z","finished_at":"2020-05-12T02:22:18.847Z","duration":289.85944,"queued_duration":0.574827,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769200","artifacts":[{"file_type":"trace","size":79380,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:22:17.359Z","tag_list":[]}
{"id":547769199,"status":"success","stage":"stage-2","name":"doc:stdlib:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.747Z","started_at":"2020-05-12T02:17:28.946Z","finished_at":"2020-05-12T02:21:39.910Z","duration":250.964491,"queued_duration":0.603419,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769199","artifacts":[{"file_type":"trace","size":80922,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:21:38.248Z","tag_list":[]}
{"id":547769198,"status":"success","stage":"stage-2","name":"doc:refman-pdf:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.734Z","started_at":"2020-05-12T02:17:28.746Z","finished_at":"2020-05-12T02:25:27.620Z","duration":478.873883,"queued_duration":0.464303,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769198","artifacts":[{"file_type":"trace","size":26762,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:25:25.868Z","tag_list":[]}
{"id":547769197,"status":"success","stage":"stage-2","name":"doc:refman:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.721Z","started_at":"2020-05-12T02:17:28.622Z","finished_at":"2020-05-12T02:24:05.294Z","duration":396.671414,"queued_duration":0.407253,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769197","artifacts":[{"file_type":"trace","size":24989,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-11T02:24:03.846Z","tag_list":[]}
{"id":547769196,"status":"success","stage":"stage-2","name":"doc:refman","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.706Z","started_at":"2020-05-12T02:19:43.372Z","finished_at":"2020-05-12T02:25:07.482Z","duration":324.110049,"queued_duration":0.314124,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769196","artifacts":[{"file_type":"trace","size":1587690,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-11T02:25:05.995Z","tag_list":[]}
{"id":547769195,"status":"success","stage":"stage-1","name":"plugin:plugin-tutorial","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.678Z","started_at":"2020-05-12T01:58:21.260Z","finished_at":"2020-05-12T02:02:42.586Z","duration":261.325817,"queued_duration":1.366386,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769195","artifacts":[{"file_type":"trace","size":60758,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769194,"status":"success","stage":"stage-1","name":"test-suite:edge+4.11+trunk+dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-12T01:58:18.665Z","started_at":"2020-05-12T01:58:21.221Z","finished_at":"2020-05-12T02:42:09.246Z","duration":2628.024417,"queued_duration":1.345996,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769194","artifacts":[{"file_type":"trace","size":101146,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-26T02:42:07.378Z","tag_list":[]}
{"id":547769193,"status":"success","stage":"stage-1","name":"pkg:nix","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.654Z","started_at":"2020-05-12T01:58:21.177Z","finished_at":"2020-05-12T02:42:24.140Z","duration":2642.962457,"queued_duration":1.322266,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769193","artifacts":[{"file_type":"trace","size":585022,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769192,"status":"success","stage":"stage-1","name":"pkg:opam","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.642Z","started_at":"2020-05-12T01:58:21.139Z","finished_at":"2020-05-12T02:24:05.359Z","duration":1544.219786,"queued_duration":1.305315,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769192","artifacts":[{"file_type":"trace","size":22787,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769191,"status":"success","stage":"stage-1","name":"lint","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.629Z","started_at":"2020-05-12T01:58:21.101Z","finished_at":"2020-05-12T02:04:02.825Z","duration":341.72341,"queued_duration":1.291038,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769191","artifacts":[{"file_type":"trace","size":39802,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547769190,"status":"success","stage":"stage-1","name":"windows64","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.607Z","started_at":"2020-05-12T01:58:20.037Z","finished_at":"2020-05-12T02:58:00.110Z","duration":3580.072077,"queued_duration":0.248523,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769190","artifacts":[{"file_type":"trace","size":241536,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-19T02:57:58.975Z","tag_list":["windows-inria"]}
{"id":547769189,"status":"success","stage":"stage-1","name":"build:quick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-12T01:58:18.594Z","started_at":"2020-05-12T01:58:21.063Z","finished_at":"2020-05-12T02:17:11.592Z","duration":1130.529198,"queued_duration":1.297182,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769189","artifacts":[{"file_type":"trace","size":199003,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-19T02:17:09.811Z","tag_list":[]}
{"id":547769188,"status":"success","stage":"stage-1","name":"build:base+async","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-12T01:58:18.582Z","started_at":"2020-05-12T01:58:20.909Z","finished_at":"2020-05-12T02:37:07.200Z","duration":2326.291304,"queued_duration":1.162125,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769188","artifacts":[{"file_type":"trace","size":282734,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-19T02:37:05.397Z","tag_list":[]}
{"id":547769187,"status":"success","stage":"stage-1","name":"build:edge+flambda:dune:dev","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.571Z","started_at":"2020-05-12T01:58:20.847Z","finished_at":"2020-05-12T02:17:28.057Z","duration":1147.209822,"queued_duration":1.12219,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769187","artifacts":[{"file_type":"trace","size":22053,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-19T02:17:26.372Z","tag_list":[]}
{"id":547769186,"status":"success","stage":"stage-1","name":"build:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.558Z","started_at":"2020-05-12T01:58:20.698Z","finished_at":"2020-05-12T02:29:24.302Z","duration":1863.604067,"queued_duration":0.98992,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769186","artifacts":[{"file_type":"trace","size":282245,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-19T02:29:22.506Z","tag_list":[]}
{"id":547769185,"status":"success","stage":"stage-1","name":"build:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.547Z","started_at":"2020-05-12T01:58:20.657Z","finished_at":"2020-05-12T02:14:59.076Z","duration":998.418662,"queued_duration":0.965697,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769185","artifacts":[{"file_type":"trace","size":275599,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-19T02:14:57.617Z","tag_list":[]}
{"id":547769184,"status":"success","stage":"stage-1","name":"build:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-12T01:58:18.534Z","started_at":"2020-05-12T01:58:20.258Z","finished_at":"2020-05-12T02:19:42.922Z","duration":1282.663679,"queued_duration":0.585363,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"1235655e6556d74c0d69f24d252d065cdf0aa28b","short_id":"1235655e","created_at":"2020-05-12T03:58:04.000+02:00","parent_ids":["df8d149eacb1b23c6b8bd46fcd36bdb7e5a39599"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-12T03:58:04.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/1235655e6556d74c0d69f24d252d065cdf0aa28b"},"pipeline":{"id":144983682,"iid":16031,"project_id":6138686,"sha":"1235655e6556d74c0d69f24d252d065cdf0aa28b","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-12T01:58:18.520Z","updated_at":"2020-05-12T05:17:55.443Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144983682"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547769184","artifacts":[{"file_type":"trace","size":320573,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-19T02:19:41.162Z","tag_list":[]}
