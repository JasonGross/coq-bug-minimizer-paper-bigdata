{"id":97471804,"status":"success","stage":"test","name":"ci-vst","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.488Z","started_at":"2018-09-13T18:35:28.565Z","finished_at":"2018-09-13T19:42:58.151Z","duration":4049.58662,"queued_duration":2.908151,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471804","artifacts":[{"file_type":"trace","size":219891,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471802,"status":"success","stage":"test","name":"ci-unimath","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.452Z","started_at":"2018-09-13T18:35:28.311Z","finished_at":"2018-09-13T19:04:12.979Z","duration":1724.66782,"queued_duration":2.61811,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471802","artifacts":[{"file_type":"trace","size":157085,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471801,"status":"success","stage":"test","name":"ci-sf","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.416Z","started_at":"2018-09-13T18:35:28.211Z","finished_at":"2018-09-13T18:39:44.615Z","duration":256.403435,"queued_duration":2.451141,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471801","artifacts":[{"file_type":"trace","size":267883,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471799,"status":"success","stage":"test","name":"ci-quickchick","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.377Z","started_at":"2018-09-13T18:35:28.159Z","finished_at":"2018-09-13T18:40:55.444Z","duration":327.284983,"queued_duration":2.348546,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471799","artifacts":[{"file_type":"trace","size":261485,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471798,"status":"success","stage":"test","name":"ci-pidetop","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.347Z","started_at":"2018-09-13T18:35:28.115Z","finished_at":"2018-09-13T18:38:13.639Z","duration":165.524802,"queued_duration":2.21547,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471798","artifacts":[{"file_type":"trace","size":27572,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471797,"status":"success","stage":"test","name":"ci-mtac2","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.281Z","started_at":"2018-09-13T18:35:28.075Z","finished_at":"2018-09-13T18:38:47.622Z","duration":199.547643,"queued_duration":2.138511,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471797","artifacts":[{"file_type":"trace","size":164006,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471796,"status":"success","stage":"test","name":"ci-math-comp","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.257Z","started_at":"2018-09-13T18:35:27.581Z","finished_at":"2018-09-13T19:26:21.115Z","duration":3053.533935,"queued_duration":1.582389,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471796","artifacts":[{"file_type":"trace","size":359796,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471795,"status":"success","stage":"test","name":"ci-ltac2","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.220Z","started_at":"2018-09-13T18:35:27.524Z","finished_at":"2018-09-13T18:38:15.446Z","duration":167.92152,"queued_duration":1.489308,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471795","artifacts":[{"file_type":"trace","size":38993,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471794,"status":"success","stage":"test","name":"ci-iris-lambda-rust","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.186Z","started_at":"2018-09-13T18:35:27.478Z","finished_at":"2018-09-13T19:42:15.535Z","duration":4008.056666,"queued_duration":1.408653,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471794","artifacts":[{"file_type":"trace","size":288829,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471793,"status":"success","stage":"test","name":"ci-hott","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.159Z","started_at":"2018-09-13T18:35:27.429Z","finished_at":"2018-09-13T18:49:01.558Z","duration":814.129266,"queued_duration":1.323941,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471793","artifacts":[{"file_type":"trace","size":94992,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471792,"status":"success","stage":"test","name":"ci-geocoq","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.135Z","started_at":"2018-09-13T18:35:27.365Z","finished_at":"2018-09-13T19:34:46.670Z","duration":3559.305043,"queued_duration":1.219244,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471792","artifacts":[{"file_type":"trace","size":335193,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471791,"status":"success","stage":"test","name":"ci-formal-topology","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.096Z","started_at":"2018-09-13T18:35:27.051Z","finished_at":"2018-09-13T19:14:27.533Z","duration":2340.48209,"queued_duration":0.853026,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471791","artifacts":[{"file_type":"trace","size":742662,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471790,"status":"success","stage":"test","name":"ci-flocq","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.071Z","started_at":"2018-09-13T18:35:26.577Z","finished_at":"2018-09-13T18:49:46.934Z","duration":860.356707,"queued_duration":0.310483,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471790","artifacts":[{"file_type":"trace","size":618813,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471789,"status":"success","stage":"test","name":"ci-fiat-parsers","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.042Z","started_at":"2018-09-13T18:35:26.881Z","finished_at":"2018-09-13T18:54:20.065Z","duration":1133.184382,"queued_duration":0.419439,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471789","artifacts":[{"file_type":"trace","size":238839,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471788,"status":"success","stage":"test","name":"ci-fiat-crypto-legacy","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:17.017Z","started_at":"2018-09-13T18:35:26.820Z","finished_at":"2018-09-13T20:36:59.562Z","duration":7292.741755,"queued_duration":0.298451,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471788","artifacts":[{"file_type":"trace","size":652416,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471787,"status":"success","stage":"test","name":"ci-fiat-crypto","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.992Z","started_at":"2018-09-13T18:35:26.899Z","finished_at":"2018-09-13T19:19:24.219Z","duration":2637.319374,"queued_duration":0.299309,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471787","artifacts":[{"file_type":"trace","size":870920,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471786,"status":"success","stage":"test","name":"ci-fcsl-pcm","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.966Z","started_at":"2018-09-13T18:35:27.221Z","finished_at":"2018-09-13T18:39:39.041Z","duration":251.819319,"queued_duration":0.235679,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471786","artifacts":[{"file_type":"trace","size":129820,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471785,"status":"success","stage":"test","name":"ci-equations","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.939Z","started_at":"2018-09-13T18:35:27.936Z","finished_at":"2018-09-13T18:42:16.293Z","duration":408.357343,"queued_duration":0.572057,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471785","artifacts":[{"file_type":"trace","size":64581,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471784,"status":"success","stage":"test","name":"ci-elpi","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.917Z","started_at":"2018-09-13T18:35:28.015Z","finished_at":"2018-09-13T18:39:42.087Z","duration":254.072095,"queued_duration":0.29324,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471784","artifacts":[{"file_type":"trace","size":465031,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471783,"status":"success","stage":"test","name":"ci-cross-crypto","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.893Z","started_at":"2018-09-13T18:35:28.196Z","finished_at":"2018-09-13T19:16:52.541Z","duration":2484.344748,"queued_duration":0.158872,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471783","artifacts":[{"file_type":"trace","size":41536,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471782,"status":"success","stage":"test","name":"ci-coquelicot","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.871Z","started_at":"2018-09-13T18:35:28.437Z","finished_at":"2018-09-13T18:40:58.680Z","duration":330.242625,"queued_duration":0.247407,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471782","artifacts":[{"file_type":"trace","size":131891,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471781,"status":"success","stage":"test","name":"ci-coq-dpdgraph","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.849Z","started_at":"2018-09-13T18:35:28.383Z","finished_at":"2018-09-13T18:38:28.955Z","duration":180.571234,"queued_duration":0.12289,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471781","artifacts":[{"file_type":"trace","size":38402,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471780,"status":"success","stage":"test","name":"ci-compcert","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.825Z","started_at":"2018-09-13T18:35:28.461Z","finished_at":"2018-09-13T19:04:45.090Z","duration":1756.629413,"queued_duration":0.129792,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471780","artifacts":[{"file_type":"trace","size":2036735,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471779,"status":"success","stage":"test","name":"ci-color","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.802Z","started_at":"2018-09-13T18:35:28.455Z","finished_at":"2018-09-13T18:57:23.289Z","duration":1314.83449,"queued_duration":0.088743,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471779","artifacts":[{"file_type":"trace","size":222820,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471778,"status":"success","stage":"test","name":"ci-bignums","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.780Z","started_at":"2018-09-13T18:35:29.872Z","finished_at":"2018-09-13T18:39:34.219Z","duration":244.346671,"queued_duration":1.470974,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471778","artifacts":[{"file_type":"trace","size":52847,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471777,"status":"success","stage":"test","name":"ci-bedrock2","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.757Z","started_at":"2018-09-13T18:35:29.826Z","finished_at":"2018-09-13T18:55:12.557Z","duration":1182.730431,"queued_duration":1.391999,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471777","artifacts":[{"file_type":"trace","size":98272,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471776,"status":"success","stage":"test","name":"validate:edge+flambda","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.737Z","started_at":"2018-09-13T18:35:29.771Z","finished_at":"2018-09-13T18:43:02.432Z","duration":452.661415,"queued_duration":1.305705,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471776","artifacts":[{"file_type":"trace","size":20848,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471775,"status":"success","stage":"test","name":"validate:edge","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.716Z","started_at":"2018-09-13T18:35:28.625Z","finished_at":"2018-09-13T18:43:35.794Z","duration":487.168857,"queued_duration":0.120889,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471775","artifacts":[{"file_type":"trace","size":19835,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471774,"status":"success","stage":"test","name":"validate:base+32bit","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.692Z","started_at":"2018-09-13T18:35:29.107Z","finished_at":"2018-09-13T18:43:13.364Z","duration":464.257033,"queued_duration":0.569224,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471774","artifacts":[{"file_type":"trace","size":19815,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471773,"status":"success","stage":"test","name":"validate:base","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.671Z","started_at":"2018-09-13T18:35:28.959Z","finished_at":"2018-09-13T18:43:54.581Z","duration":505.622168,"queued_duration":0.385774,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471773","artifacts":[{"file_type":"trace","size":20746,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471772,"status":"success","stage":"test","name":"test-suite:edge+flambda","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.647Z","started_at":"2018-09-13T18:35:28.779Z","finished_at":"2018-09-13T18:47:46.069Z","duration":737.290443,"queued_duration":0.149007,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471772","artifacts":[{"file_type":"trace","size":65543,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471771,"status":"success","stage":"test","name":"test-suite:edge","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.625Z","started_at":"2018-09-13T18:35:28.886Z","finished_at":"2018-09-13T18:46:12.831Z","duration":643.944703,"queued_duration":0.167166,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471771","artifacts":[{"file_type":"trace","size":64467,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471770,"status":"success","stage":"test","name":"test-suite:base+32bit","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.601Z","started_at":"2018-09-13T18:35:29.587Z","finished_at":"2018-09-13T18:44:44.018Z","duration":554.430732,"queued_duration":0.795604,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471770","artifacts":[{"file_type":"trace","size":64510,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471769,"status":"success","stage":"test","name":"test-suite:base","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.579Z","started_at":"2018-09-13T18:35:28.996Z","finished_at":"2018-09-13T18:46:05.355Z","duration":636.359431,"queued_duration":0.153037,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471769","artifacts":[{"file_type":"trace","size":65504,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471768,"status":"success","stage":"test","name":"doc:ml-api","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.556Z","started_at":"2018-09-13T18:35:29.461Z","finished_at":"2018-09-13T18:39:18.245Z","duration":228.783848,"queued_duration":0.556352,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471768","artifacts":[{"file_type":"trace","size":85812,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471767,"status":"success","stage":"test","name":"doc:refman","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.535Z","started_at":"2018-09-13T18:35:29.415Z","finished_at":"2018-09-13T18:40:15.331Z","duration":285.916129,"queued_duration":0.446244,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471767","artifacts":[{"file_type":"trace","size":27012,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471766,"status":"success","stage":"test","name":"pkg:nix","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.515Z","started_at":"2018-09-13T18:35:29.306Z","finished_at":"2018-09-13T19:06:33.892Z","duration":1864.58572,"queued_duration":0.292641,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471766","artifacts":[{"file_type":"trace","size":477974,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":97471765,"status":"success","stage":"test","name":"pkg:dune-release","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.495Z","started_at":"2018-09-13T18:35:29.260Z","finished_at":"2018-09-13T18:49:56.204Z","duration":866.944422,"queued_duration":0.182107,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471765","artifacts":[{"file_type":"trace","size":18631,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:49:50.973Z","tag_list":[]}
{"id":97471764,"status":"success","stage":"test","name":"windows64","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.467Z","started_at":"2018-09-13T18:35:29.522Z","finished_at":"2018-09-13T19:51:59.278Z","duration":4589.755383,"queued_duration":0.343118,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471764","artifacts":[{"file_type":"trace","size":3903805,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2018-09-20T19:51:20.926Z","tag_list":["windows"]}
{"id":97471763,"status":"success","stage":"build","name":"build:egde:dune:dev","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.435Z","started_at":"2018-09-13T18:08:19.149Z","finished_at":"2018-09-13T18:24:09.229Z","duration":950.079965,"queued_duration":1.361405,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471763","artifacts":[{"file_type":"trace","size":18720,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:24:01.275Z","tag_list":[]}
{"id":97471762,"status":"success","stage":"build","name":"build:edge+flambda","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.411Z","started_at":"2018-09-13T18:08:19.002Z","finished_at":"2018-09-13T18:35:25.582Z","duration":1626.580213,"queued_duration":1.169225,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471762","artifacts":[{"file_type":"trace","size":233092,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:35:15.176Z","tag_list":[]}
{"id":97471761,"status":"success","stage":"build","name":"build:edge","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.386Z","started_at":"2018-09-13T18:08:18.931Z","finished_at":"2018-09-13T18:25:19.311Z","duration":1020.38048,"queued_duration":1.056193,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471761","artifacts":[{"file_type":"trace","size":231804,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:25:14.006Z","tag_list":[]}
{"id":97471760,"status":"success","stage":"build","name":"build:base+32bit","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.362Z","started_at":"2018-09-13T18:08:18.707Z","finished_at":"2018-09-13T18:22:27.442Z","duration":848.734687,"queued_duration":0.788446,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471760","artifacts":[{"file_type":"trace","size":227654,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:22:22.161Z","tag_list":[]}
{"id":97471759,"status":"success","stage":"build","name":"build:base","ref":"pr-8464","tag":false,"coverage":null,"allow_failure":false,"created_at":"2018-09-13T18:08:16.339Z","started_at":"2018-09-13T18:08:18.660Z","finished_at":"2018-09-13T18:23:50.940Z","duration":932.279916,"queued_duration":0.540452,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"3380f68216e5122816df3a2c91f2a7000b75741c","short_id":"3380f682","created_at":"2018-09-13T13:59:25.000-04:00","parent_ids":["38be62b56799933cdfc783d4e538963c3aa59fef"],"title":"Fix numeral notations","message":"Fix numeral notations\n\nThis fixes #8401\nSupersedes / closes #8407\n\nVernacular-command-registered numeral notations now live in the summary,\nand the interpretation function for them is hard-coded.\n\nPlugin-registered numeral notations are still unsynchronized, and only\nthe UIDs of these functions gets synchronized.  I am not 100% sure why\nthis is fine, but the test-suite file working suggests that it is fine.\nI think it is because worker delegation correctly handles\nnon-synchronized state which is declared at `Declare ML Module`-time.\n\nThis commit could be split into four distinct chunks:\n\n1. Move various things from from numeral.ml to notation.ml and\n   notation.mli; this is required to allow the vernac command to\n   continue living in numeral.ml while preparing to move all of the\n   numeral notation interpretation logic to notation.ml\n2. Switch to using exceptions rather than user errors.  This is required\n   because the machinery for printing constrs is not available in\n   notation.ml, so we move the error message printing to himsg.ml\n   instead.\n3. Move or copy most of the rest of the stuff from numeral.ml to\n   notation.ml.  Now that we use exceptions to print error messages, all\n   of the interpretation code for numeral notations can be moved to\n   notation.ml.\n4. Change the synchronization of numeral notations (and delete dead\n   code).  Since the interpretation can now be done in notation.ml, we\n   no longer need to register unique ids for numeral notation (un)interp\n   functions, and can instead synchronize the underlying constants with\n   the document state.  This is the change that actually fixes #8401.\n\nNote that (1) and (3) are entirely copy/paste/move changes (modulo\npossibly exposing in notation.mli functions copied/moved from numeral.ml\nto notation.ml), and (2) and (4) are relatively small changes.\n","author_name":"Jason Gross","author_email":"jgross@mit.edu","authored_date":"2018-09-11T16:08:03.000-04:00","committer_name":"Jason Gross","committer_email":"jgross@mit.edu","committed_date":"2018-09-13T13:59:25.000-04:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/3380f68216e5122816df3a2c91f2a7000b75741c"},"pipeline":{"id":30137031,"iid":3219,"project_id":6138686,"sha":"3380f68216e5122816df3a2c91f2a7000b75741c","ref":"pr-8464","status":"success","source":"push","created_at":"2018-09-13T18:08:16.326Z","updated_at":"2018-09-13T20:36:59.620Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/30137031"},"web_url":"https://gitlab.com/coq/coq/-/jobs/97471759","artifacts":[{"file_type":"trace","size":278876,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2018-09-20T18:23:43.175Z","tag_list":[]}
