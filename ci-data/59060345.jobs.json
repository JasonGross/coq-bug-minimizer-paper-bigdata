{"id":204688777,"status":"success","stage":"test","name":"plugin:ci-relation_algebra","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.841Z","started_at":"2019-04-30T05:34:41.960Z","finished_at":"2019-04-30T05:41:15.430Z","duration":393.470012,"queued_duration":2683.845649,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688777","artifacts":[{"file_type":"trace","size":89177,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688776,"status":"success","stage":"test","name":"plugin:ci-quickchick","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.823Z","started_at":"2019-04-30T05:34:31.372Z","finished_at":"2019-04-30T05:44:23.302Z","duration":591.930402,"queued_duration":2673.218648,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688776","artifacts":[{"file_type":"trace","size":358104,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688775,"status":"success","stage":"test","name":"plugin:plugin-tutorial","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.799Z","started_at":"2019-04-30T05:32:38.908Z","finished_at":"2019-04-30T05:34:30.972Z","duration":112.064078,"queued_duration":2560.72349,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688775","artifacts":[{"file_type":"trace","size":90905,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688774,"status":"success","stage":"test","name":"plugin:ci-paramcoq","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.779Z","started_at":"2019-04-30T05:32:15.135Z","finished_at":"2019-04-30T05:35:26.200Z","duration":191.064932,"queued_duration":2536.916851,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688774","artifacts":[{"file_type":"trace","size":86600,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":204688773,"status":"success","stage":"test","name":"plugin:ci-mtac2","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.760Z","started_at":"2019-04-30T05:31:39.885Z","finished_at":"2019-04-30T05:37:50.164Z","duration":370.279582,"queued_duration":2501.582638,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688773","artifacts":[{"file_type":"trace","size":172315,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688770,"status":"success","stage":"test","name":"plugin:ci-ltac2","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.729Z","started_at":"2019-04-30T05:30:55.134Z","finished_at":"2019-04-30T05:34:41.700Z","duration":226.566597,"queued_duration":2456.791381,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688770","artifacts":[{"file_type":"trace","size":76545,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688768,"status":"success","stage":"test","name":"plugin:ci-fiat_parsers","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.710Z","started_at":"2019-04-30T05:30:37.260Z","finished_at":"2019-04-30T05:49:56.818Z","duration":1159.558287,"queued_duration":2438.850768,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688768","artifacts":[{"file_type":"trace","size":271934,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688766,"status":"success","stage":"test","name":"plugin:ci-equations","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.690Z","started_at":"2019-04-30T05:30:13.658Z","finished_at":"2019-04-30T05:38:26.409Z","duration":492.750789,"queued_duration":2415.217654,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688766","artifacts":[{"file_type":"trace","size":142565,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688764,"status":"success","stage":"test","name":"plugin:ci-elpi","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.675Z","started_at":"2019-04-30T05:30:02.441Z","finished_at":"2019-04-30T05:35:23.468Z","duration":321.027464,"queued_duration":2403.969534,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688764","artifacts":[{"file_type":"trace","size":2148991,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688763,"status":"success","stage":"test","name":"plugin:ci-coqhammer","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.657Z","started_at":"2019-04-30T05:27:55.439Z","finished_at":"2019-04-30T05:30:54.877Z","duration":179.43828,"queued_duration":2276.927133,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688763","artifacts":[{"file_type":"trace","size":68222,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688762,"status":"success","stage":"test","name":"plugin:ci-coq_dpdgraph","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.641Z","started_at":"2019-04-30T05:26:47.025Z","finished_at":"2019-04-30T05:30:01.567Z","duration":194.54253,"queued_duration":2208.48316,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688762","artifacts":[{"file_type":"trace","size":76983,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688760,"status":"success","stage":"test","name":"plugin:ci-bignums","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.624Z","started_at":"2019-04-30T05:24:56.807Z","finished_at":"2019-04-30T05:30:13.411Z","duration":316.604137,"queued_duration":2098.231249,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688760","artifacts":[{"file_type":"trace","size":75621,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688759,"status":"success","stage":"test","name":"plugin:ci-aac_tactics","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.608Z","started_at":"2019-04-30T05:24:11.493Z","finished_at":"2019-04-30T05:27:55.180Z","duration":223.686587,"queued_duration":2052.832968,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688759","artifacts":[{"file_type":"trace","size":86543,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688758,"status":"success","stage":"test","name":"library:ci-vst","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.590Z","started_at":"2019-04-30T05:21:32.717Z","finished_at":"2019-04-30T06:14:37.316Z","duration":3184.59843,"queued_duration":1894.019393,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688758","artifacts":[{"file_type":"trace","size":233039,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688757,"status":"success","stage":"test","name":"library:ci-verdi-raft","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.567Z","started_at":"2019-04-30T05:21:30.616Z","finished_at":"2019-04-30T05:50:40.035Z","duration":1749.418948,"queued_duration":1891.81661,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688757","artifacts":[{"file_type":"trace","size":529703,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688756,"status":"success","stage":"test","name":"library:ci-unimath","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.549Z","started_at":"2019-04-30T05:20:01.919Z","finished_at":"2019-04-30T05:58:29.411Z","duration":2307.491269,"queued_duration":1803.004887,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688756","artifacts":[{"file_type":"trace","size":367935,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688755,"status":"success","stage":"test","name":"library:ci-stdlib2","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.531Z","started_at":"2019-04-30T05:19:21.077Z","finished_at":"2019-04-30T05:24:56.477Z","duration":335.400059,"queued_duration":1762.10823,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688755","artifacts":[{"file_type":"trace","size":75665,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688754,"status":"success","stage":"test","name":"library:ci-sf","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.513Z","started_at":"2019-04-30T05:12:30.539Z","finished_at":"2019-04-30T05:19:20.714Z","duration":410.175117,"queued_duration":1351.51209,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688754","artifacts":[{"file_type":"trace","size":693802,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688752,"status":"success","stage":"test","name":"library:ci-math-comp","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.494Z","started_at":"2019-04-30T05:12:28.031Z","finished_at":"2019-04-30T06:37:37.516Z","duration":5109.485197,"queued_duration":1348.944083,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688752","artifacts":[{"file_type":"trace","size":567248,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688751,"status":"success","stage":"test","name":"library:ci-iris-lambda-rust","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.476Z","started_at":"2019-04-30T05:10:55.064Z","finished_at":"2019-04-30T05:53:46.866Z","duration":2571.802469,"queued_duration":1255.91615,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688751","artifacts":[{"file_type":"trace","size":740702,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688750,"status":"success","stage":"test","name":"library:ci-hott","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.456Z","started_at":"2019-04-30T05:09:10.047Z","finished_at":"2019-04-30T05:21:32.250Z","duration":742.20339,"queued_duration":1150.852847,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688750","artifacts":[{"file_type":"trace","size":170088,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688749,"status":"success","stage":"test","name":"library:ci-geocoq","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.437Z","started_at":"2019-04-30T05:09:09.603Z","finished_at":"2019-04-30T05:50:16.554Z","duration":2466.951396,"queued_duration":1150.375844,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688749","artifacts":[{"file_type":"trace","size":510485,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688744,"status":"success","stage":"test","name":"library:ci-corn","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.371Z","started_at":"2019-04-30T05:05:19.244Z","finished_at":"2019-04-30T05:45:00.521Z","duration":2381.276636,"queued_duration":919.98451,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688744","artifacts":[{"file_type":"trace","size":452719,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":204688743,"status":"success","stage":"test","name":"library:ci-flocq","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.354Z","started_at":"2019-04-30T05:05:18.881Z","finished_at":"2019-04-30T05:22:15.967Z","duration":1017.085742,"queued_duration":919.571376,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688743","artifacts":[{"file_type":"trace","size":37455,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":204688742,"status":"success","stage":"test","name":"library:ci-fiat-crypto-legacy","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.335Z","started_at":"2019-04-30T05:05:03.691Z","finished_at":"2019-04-30T06:19:14.527Z","duration":4450.835457,"queued_duration":904.350166,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688742","artifacts":[{"file_type":"trace","size":711700,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688741,"status":"success","stage":"test","name":"library:ci-fiat-crypto","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.318Z","started_at":"2019-04-30T05:04:49.902Z","finished_at":"2019-04-30T05:52:56.067Z","duration":2886.165224,"queued_duration":890.529424,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688741","artifacts":[{"file_type":"trace","size":354752,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688740,"status":"success","stage":"test","name":"library:ci-fcsl-pcm","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.300Z","started_at":"2019-04-30T05:04:37.705Z","finished_at":"2019-04-30T05:09:09.251Z","duration":271.546729,"queued_duration":878.295887,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688740","artifacts":[{"file_type":"trace","size":182175,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688739,"status":"success","stage":"test","name":"library:ci-cross-crypto","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.283Z","started_at":"2019-04-30T04:49:59.484Z","finished_at":"2019-04-30T05:31:39.381Z","duration":2499.897285,"queued_duration":0.043905,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688739","artifacts":[{"file_type":"trace","size":75074,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688738,"status":"success","stage":"test","name":"library:ci-coquelicot","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.263Z","started_at":"2019-04-30T05:02:57.049Z","finished_at":"2019-04-30T05:09:09.051Z","duration":372.002421,"queued_duration":777.579794,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688738","artifacts":[{"file_type":"trace","size":207006,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688737,"status":"success","stage":"test","name":"library:ci-compcert","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.243Z","started_at":"2019-04-30T05:00:43.151Z","finished_at":"2019-04-30T05:30:36.955Z","duration":1793.804319,"queued_duration":643.640881,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688737","artifacts":[{"file_type":"trace","size":4194360,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688736,"status":"success","stage":"test","name":"library:ci-color","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.224Z","started_at":"2019-04-30T05:00:38.544Z","finished_at":"2019-04-30T05:26:46.581Z","duration":1568.037161,"queued_duration":639.004538,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688736","artifacts":[{"file_type":"trace","size":258259,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688735,"status":"success","stage":"test","name":"library:ci-bedrock2","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.205Z","started_at":"2019-04-30T04:59:53.800Z","finished_at":"2019-04-30T05:47:35.033Z","duration":2861.232539,"queued_duration":594.23085,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688735","artifacts":[{"file_type":"trace","size":230548,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688734,"status":"success","stage":"test","name":"library:ci-argosy","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.185Z","started_at":"2019-04-30T04:59:35.298Z","finished_at":"2019-04-30T05:04:49.285Z","duration":313.986117,"queued_duration":575.686691,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688734","artifacts":[{"file_type":"trace","size":58946,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688733,"status":"success","stage":"test","name":"validate:quick","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.168Z","started_at":"2019-04-30T04:56:47.464Z","finished_at":"2019-04-30T05:04:37.265Z","duration":469.800618,"queued_duration":407.777331,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688733","artifacts":[{"file_type":"trace","size":55413,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688732,"status":"success","stage":"test","name":"validate:edge+flambda","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.151Z","started_at":"2019-04-30T04:49:59.914Z","finished_at":"2019-04-30T05:02:56.631Z","duration":776.71698,"queued_duration":0.143906,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688732","artifacts":[{"file_type":"trace","size":53381,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688731,"status":"success","stage":"test","name":"validate:base+32bit","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.133Z","started_at":"2019-04-30T04:51:37.633Z","finished_at":"2019-04-30T05:00:37.785Z","duration":540.152074,"queued_duration":97.733113,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688731","artifacts":[{"file_type":"trace","size":56281,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688730,"status":"success","stage":"test","name":"validate:base","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.115Z","started_at":"2019-04-30T04:50:04.208Z","finished_at":"2019-04-30T05:00:42.546Z","duration":638.338567,"queued_duration":4.239304,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688730","artifacts":[{"file_type":"trace","size":61084,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688729,"status":"success","stage":"test","name":"test-suite:base+async","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":true,"created_at":"2019-04-30T04:29:22.098Z","started_at":"2019-04-30T04:50:03.883Z","finished_at":"2019-04-30T05:56:52.361Z","duration":4008.478177,"queued_duration":3.863594,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688729","artifacts":[{"file_type":"trace","size":428797,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688728,"status":"success","stage":"test","name":"test-suite:edge+trunk+dune","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":true,"created_at":"2019-04-30T04:29:22.080Z","started_at":"2019-04-30T04:50:03.558Z","finished_at":"2019-04-30T05:32:36.357Z","duration":2552.79805,"queued_duration":3.495245,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688728","artifacts":[{"file_type":"trace","size":187976,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T05:32:33.881Z","tag_list":[]}
{"id":204688727,"status":"success","stage":"test","name":"test-suite:edge+trunk+make","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":true,"created_at":"2019-04-30T04:29:22.060Z","started_at":"2019-04-30T04:50:03.228Z","finished_at":"2019-04-30T05:41:17.317Z","duration":3074.089095,"queued_duration":3.122014,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688727","artifacts":[{"file_type":"trace","size":255532,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T05:41:14.681Z","tag_list":[]}
{"id":204688725,"status":"success","stage":"test","name":"test-suite:egde:dune:dev","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.041Z","started_at":"2019-04-30T04:50:02.933Z","finished_at":"2019-04-30T05:24:11.106Z","duration":2048.173417,"queued_duration":2.75457,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688725","artifacts":[{"file_type":"trace","size":121835,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688723,"status":"success","stage":"test","name":"test-suite:edge+flambda","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.024Z","started_at":"2019-04-30T04:50:02.644Z","finished_at":"2019-04-30T05:21:30.055Z","duration":1887.410246,"queued_duration":2.431138,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688723","artifacts":[{"file_type":"trace","size":233435,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688722,"status":"success","stage":"test","name":"test-suite:base+32bit","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:22.003Z","started_at":"2019-04-30T04:50:02.220Z","finished_at":"2019-04-30T05:12:30.089Z","duration":1347.869534,"queued_duration":1.967017,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688722","artifacts":[{"file_type":"trace","size":122456,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688720,"status":"success","stage":"test","name":"test-suite:base","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.984Z","started_at":"2019-04-30T04:50:00.384Z","finished_at":"2019-04-30T05:10:54.585Z","duration":1254.200932,"queued_duration":0.05889,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688720","artifacts":[{"file_type":"trace","size":600305,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688719,"status":"success","stage":"test","name":"doc:ml-api:odoc","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.966Z","started_at":"2019-04-30T04:50:02.156Z","finished_at":"2019-04-30T04:56:46.915Z","duration":404.758769,"queued_duration":1.800254,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688719","artifacts":[{"file_type":"trace","size":244075,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-30T04:56:44.168Z","tag_list":[]}
{"id":204688718,"status":"success","stage":"test","name":"doc:stdlib:dune","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.948Z","started_at":"2019-04-30T04:50:01.812Z","finished_at":"2019-04-30T04:59:34.805Z","duration":572.992437,"queued_duration":1.415558,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688718","artifacts":[{"file_type":"trace","size":53693,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-30T04:59:32.339Z","tag_list":[]}
{"id":204688717,"status":"success","stage":"test","name":"doc:refman:dune","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.929Z","started_at":"2019-04-30T04:50:01.742Z","finished_at":"2019-04-30T05:05:03.289Z","duration":901.546313,"queued_duration":1.308775,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688717","artifacts":[{"file_type":"trace","size":192955,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-30T05:04:59.647Z","tag_list":[]}
{"id":204688716,"status":"success","stage":"test","name":"doc:refman","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.912Z","started_at":"2019-04-30T04:50:01.459Z","finished_at":"2019-04-30T04:59:53.185Z","duration":591.726117,"queued_duration":0.984948,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688716","artifacts":[{"file_type":"trace","size":1123970,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688715,"status":"success","stage":"test","name":"pkg:nix","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.896Z","started_at":"2019-04-30T04:50:01.328Z","finished_at":"2019-04-30T05:19:40.173Z","duration":1778.84573,"queued_duration":0.807109,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688715","artifacts":[{"file_type":"trace","size":549910,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688714,"status":"success","stage":"test","name":"pkg:opam","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.878Z","started_at":"2019-04-30T04:50:01.153Z","finished_at":"2019-04-30T05:12:26.299Z","duration":1345.146029,"queued_duration":0.603188,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688714","artifacts":[{"file_type":"trace","size":48882,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688713,"status":"success","stage":"test","name":"lint","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.862Z","started_at":"2019-04-30T04:50:00.895Z","finished_at":"2019-04-30T04:51:37.336Z","duration":96.441175,"queued_duration":0.316563,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688713","artifacts":[{"file_type":"trace","size":139376,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":204688712,"status":"success","stage":"test","name":"windows64","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.838Z","started_at":"2019-04-30T04:50:00.980Z","finished_at":"2019-04-30T05:38:35.860Z","duration":2914.879085,"queued_duration":0.37125,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688712","artifacts":[{"file_type":"trace","size":258011,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T05:38:32.596Z","tag_list":["windows"]}
{"id":204688711,"status":"success","stage":"test","name":"build:base+async","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":true,"created_at":"2019-04-30T04:29:21.821Z","started_at":"2019-04-30T04:50:00.699Z","finished_at":"2019-04-30T05:47:54.544Z","duration":3473.844847,"queued_duration":0.05848,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688711","artifacts":[{"file_type":"trace","size":575745,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T05:47:52.416Z","tag_list":[]}
{"id":204688710,"status":"success","stage":"build","name":"build:quick","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":true,"created_at":"2019-04-30T04:29:21.787Z","started_at":"2019-04-30T04:29:26.365Z","finished_at":"2019-04-30T04:43:02.314Z","duration":815.948918,"queued_duration":3.220225,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688710","artifacts":[{"file_type":"trace","size":199758,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T04:43:00.117Z","tag_list":[]}
{"id":204688709,"status":"success","stage":"build","name":"build:edge+flambda:dune:dev","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.770Z","started_at":"2019-04-30T04:29:26.029Z","finished_at":"2019-04-30T04:35:35.761Z","duration":369.731963,"queued_duration":2.853684,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688709","artifacts":[{"file_type":"trace","size":53558,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T04:35:33.632Z","tag_list":[]}
{"id":204688708,"status":"success","stage":"build","name":"build:edge+flambda","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.753Z","started_at":"2019-04-30T04:29:25.745Z","finished_at":"2019-04-30T04:49:57.980Z","duration":1232.23491,"queued_duration":2.537498,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688708","artifacts":[{"file_type":"trace","size":273645,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T04:49:55.519Z","tag_list":[]}
{"id":204688707,"status":"success","stage":"build","name":"build:base+32bit","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.734Z","started_at":"2019-04-30T04:29:25.324Z","finished_at":"2019-04-30T04:40:29.841Z","duration":664.517067,"queued_duration":2.082978,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688707","artifacts":[{"file_type":"trace","size":266381,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T04:40:27.714Z","tag_list":[]}
{"id":204688706,"status":"success","stage":"build","name":"build:base","ref":"pr-9995","tag":false,"coverage":null,"allow_failure":false,"created_at":"2019-04-30T04:29:21.714Z","started_at":"2019-04-30T04:29:24.859Z","finished_at":"2019-04-30T04:42:58.185Z","duration":813.326084,"queued_duration":1.584831,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"7875955f513f55c1fcef90becdaaa572baa3e5ae","short_id":"7875955f","created_at":"2019-04-30T06:28:26.000+02:00","parent_ids":["fcba5e87be13bc5a5374fe274476cd4d5c45f058"],"title":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface","message":"fix `simpl_rel` and notations, `{pred T}` alias, `nonPropType` interface\n\n** Changed definition of `simpl_rel` to `T -> `simpl_pred T`, so that\n`inE` will now expand `a \\in r b`, when `r := [rel x y | R]` to `R{b/x,\na/y}`, as the expanding coercion is now only inserted in the _last_\napplication.\nThe old definition made it possible to have a `simpl_rel >-> rel`\ncoercion that does not block expansion, but this can now be achieved\nmore economically with the `Arguments … /.` annotation.\n**  Deleted the `[rel of P]` notation which is no longer needed with\nthe new `simpl_rel` definition, and was broken anyway.\n** Added `relpre f R` definition of functional preimage of a notation.\n** `comp` and `idfun` are now proper definitions, using the `Arguments\n… /.` annotation to specify simplification on application.\n** Added `{pred T}` syntax for the alias of `pred T` in the `pred_sort`\ncoercion class; deleted the `pred_class` alias: one should either\nuse `pred_sort` in `Coercion` declarations, or `{pred T}` in type casts.\nUsed `{pred T}` as appropriate in localised predicate (`{in …, …}`) theory.\nExtended and corrected `pred` coercion internal documentation.\n** Simplified the `predType` structure by removing the redundant\nexplicit `mem_pred` subfield, and replacing it with an interlocked\nprojection; deleted `mkPredType`, now replaced by `PredType`.\n** Added (and extensively documented) a `nonPropType` interface\nmatching types that do _not_ have sort `Prop`, and used it to remove\nthe non-standard maximal implicits annotation on `Some_inj` introduced\nin #6911 by @anton-trumov; included `test-suite` entry for `nonPropType`.\n** Documented the design of the four structures used to control the\nmatching of `inE` and related predicate rewriting lemmas; added `test-suite`\nentry covering the `pred` rewriting control idioms.\n** Used `only printing` annotations to get rid of token concatenation\nhacks.\n** Fixed boolean and general `if b return t then …` notation so that\n`b` is bound in `t`. This is a minor source of incompatibility for\nmisuses of this syntax when `b` is _not_ bound in `t`, and `(if b then\n…) : t` should have been used instead.\n** Reserved all `ssreflect`, `ssrfun` and `ssrbool` notation at the top\nof the file, adding some printing boxes, and removing some spurious\n`[pred .. => ..]` reserved notation.\n** Fixed parsing precedence and format of `<hidden n>` notation, and\ndeclared and put it in an explicit `ssr_scope`.\n** Used module-and-functor idiom to ensure that the `simpl_pred T >-\npred T` _and_ `simpl_pred T >-> {pred T}` coercions are realised by the\n_same_ Gallina constant.\n** Updated `CREDITS`.\nThe policy implied by this PR: that `{pred T}` should systematically\nbe used as the generic collective predicate type, was implemented in MathComp\nmath-comp/math-comp#237. As a result  `simpl_pred >-> pred_sort` coercions\nbecame more frequent, as it turned out they were not, as incorrectly stated\nin `ssrbool` internal comments, impossible: while the `simplPredType`\ncanonical instance does solve all `simpl_pred T =~= pred_sort ?pT`\ninstances, it does _not_ solve `simpl_pred T =~= {pred T}`, and so the\ncoercion will be used in that case. However it appeared that having two\ndifferent coercion constants confused the SSReflect keyed matching\nheuristic, hence the fix introduced here. This has entailed some\nrearrangement of `ssrbool`: the large  `Predicates` section had to be\nbroken up as the module-functor idiom for aliasing coercions cannot be\nused inside a section.\n","author_name":"Georges Gonthier","author_email":"georges.gonthier@inria.fr","authored_date":"2019-04-24T23:02:08.000+02:00","committer_name":"Georges Gonthier","committer_email":"georges.gonthier@inria.fr","committed_date":"2019-04-30T06:28:26.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/7875955f513f55c1fcef90becdaaa572baa3e5ae"},"pipeline":{"id":59060345,"iid":8680,"project_id":6138686,"sha":"7875955f513f55c1fcef90becdaaa572baa3e5ae","ref":"pr-9995","status":"success","source":"push","created_at":"2019-04-30T04:29:21.702Z","updated_at":"2019-04-30T06:37:41.558Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/59060345"},"web_url":"https://gitlab.com/coq/coq/-/jobs/204688706","artifacts":[{"file_type":"trace","size":314780,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2019-05-07T04:42:55.829Z","tag_list":[]}
