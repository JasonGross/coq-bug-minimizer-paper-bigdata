{"id":547025107,"status":"success","stage":"stage-4","name":"library:ci-corn","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.548Z","started_at":"2020-05-11T15:40:14.867Z","finished_at":"2020-05-11T16:00:16.826Z","duration":1201.958817,"queued_duration":0.589426,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025107","artifacts":[{"file_type":"trace","size":471442,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025105,"status":"success","stage":"stage-4","name":"library:ci-fiat_crypto","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.524Z","started_at":"2020-05-11T15:44:54.629Z","finished_at":"2020-05-11T17:43:58.731Z","duration":7144.10127,"queued_duration":0.39297,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025105","artifacts":[{"file_type":"trace","size":2287501,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025104,"status":"skipped","stage":"stage-3","name":"plugin:ci-metacoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.501Z","started_at":null,"finished_at":null,"duration":null,"queued_duration":null,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025104","artifacts":[],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025103,"status":"success","stage":"stage-3","name":"library:ci-vst","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.482Z","started_at":"2020-05-11T15:37:33.819Z","finished_at":"2020-05-11T16:49:52.215Z","duration":4338.395972,"queued_duration":0.590772,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025103","artifacts":[{"file_type":"trace","size":501535,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025102,"status":"success","stage":"stage-3","name":"library:ci-math_classes","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.460Z","started_at":"2020-05-11T15:35:38.694Z","finished_at":"2020-05-11T15:40:13.762Z","duration":275.067612,"queued_duration":1.130056,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025102","artifacts":[{"file_type":"trace","size":208672,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025101,"status":"success","stage":"stage-3","name":"library:ci-coqprime","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.440Z","started_at":"2020-05-11T15:35:37.766Z","finished_at":"2020-05-11T15:38:04.681Z","duration":146.915376,"queued_duration":0.367214,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025101","artifacts":[{"file_type":"trace","size":110332,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025100,"status":"success","stage":"stage-3","name":"library:ci-color","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.417Z","started_at":"2020-05-11T15:35:37.353Z","finished_at":"2020-05-11T15:46:26.725Z","duration":649.372136,"queued_duration":0.328158,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025100","artifacts":[{"file_type":"trace","size":713702,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025099,"status":"success","stage":"stage-2","name":"plugin:ci-rewriter","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.391Z","started_at":"2020-05-11T15:30:19.318Z","finished_at":"2020-05-11T15:44:54.090Z","duration":874.772107,"queued_duration":3.700884,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025099","artifacts":[{"file_type":"trace","size":223313,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025098,"status":"success","stage":"stage-2","name":"plugin:ci-relation_algebra","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.362Z","started_at":"2020-05-11T15:10:02.814Z","finished_at":"2020-05-11T15:16:52.871Z","duration":410.05673,"queued_duration":2.075907,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025098","artifacts":[{"file_type":"trace","size":59151,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025097,"status":"success","stage":"stage-2","name":"plugin:ci-reduction_effects","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.323Z","started_at":"2020-05-11T15:10:02.745Z","finished_at":"2020-05-11T15:13:16.592Z","duration":193.847464,"queued_duration":2.072842,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025097","artifacts":[{"file_type":"trace","size":33362,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025095,"status":"success","stage":"stage-2","name":"plugin:ci-quickchick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.294Z","started_at":"2020-05-11T15:30:19.271Z","finished_at":"2020-05-11T15:37:39.970Z","duration":440.699296,"queued_duration":3.707664,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025095","artifacts":[{"file_type":"trace","size":291524,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025094,"status":"success","stage":"stage-2","name":"plugin:ci-perennial","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.260Z","started_at":"2020-05-11T15:30:19.104Z","finished_at":"2020-05-11T16:35:16.572Z","duration":3897.467953,"queued_duration":3.595367,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025094","artifacts":[{"file_type":"trace","size":41041,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025091,"status":"failed","stage":"stage-2","name":"plugin:ci-paramcoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.208Z","started_at":"2020-05-11T15:10:02.683Z","finished_at":"2020-05-11T15:13:10.029Z","duration":187.346091,"queued_duration":2.067011,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547025091","artifacts":[{"file_type":"trace","size":31570,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025087,"status":"failed","stage":"stage-2","name":"plugin:ci-mtac2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.170Z","started_at":"2020-05-11T15:10:02.635Z","finished_at":"2020-05-11T15:13:19.835Z","duration":197.199586,"queued_duration":2.115824,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547025087","artifacts":[{"file_type":"trace","size":103252,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025082,"status":"success","stage":"stage-2","name":"plugin:ci-fiat_parsers","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.133Z","started_at":"2020-05-11T15:10:02.581Z","finished_at":"2020-05-11T15:29:15.880Z","duration":1153.299525,"queued_duration":2.121877,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025082","artifacts":[{"file_type":"trace","size":824336,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025078,"status":"failed","stage":"stage-2","name":"plugin:ci-equations","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.110Z","started_at":"2020-05-11T15:10:02.504Z","finished_at":"2020-05-11T15:13:11.757Z","duration":189.25274,"queued_duration":2.09906,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547025078","artifacts":[{"file_type":"trace","size":53377,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025075,"status":"success","stage":"stage-2","name":"plugin:ci-elpi","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.081Z","started_at":"2020-05-11T15:10:02.437Z","finished_at":"2020-05-11T15:17:34.337Z","duration":451.899529,"queued_duration":2.089779,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025075","artifacts":[{"file_type":"trace","size":346983,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025070,"status":"success","stage":"stage-2","name":"plugin:ci-coqhammer","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.045Z","started_at":"2020-05-11T15:10:02.291Z","finished_at":"2020-05-11T15:11:40.291Z","duration":98.000924,"queued_duration":2.009901,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025070","artifacts":[{"file_type":"trace","size":77670,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025067,"status":"success","stage":"stage-2","name":"plugin:ci-coq_dpdgraph","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.030Z","started_at":"2020-05-11T15:10:02.070Z","finished_at":"2020-05-11T15:13:11.452Z","duration":189.38138,"queued_duration":1.840166,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025067","artifacts":[{"file_type":"trace","size":69990,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025064,"status":"success","stage":"stage-2","name":"plugin:ci-bignums","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:45.014Z","started_at":"2020-05-11T15:30:18.976Z","finished_at":"2020-05-11T15:35:36.114Z","duration":317.138401,"queued_duration":3.527477,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025064","artifacts":[{"file_type":"trace","size":65888,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025059,"status":"success","stage":"stage-2","name":"plugin:ci-aac_tactics","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.996Z","started_at":"2020-05-11T15:10:01.746Z","finished_at":"2020-05-11T15:11:42.430Z","duration":100.684388,"queued_duration":1.57382,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025059","artifacts":[{"file_type":"trace","size":84671,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025057,"status":"success","stage":"stage-2","name":"library:ci-verdi_raft","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.978Z","started_at":"2020-05-11T15:30:18.923Z","finished_at":"2020-05-11T16:00:02.083Z","duration":1783.159683,"queued_duration":3.538866,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025057","artifacts":[{"file_type":"trace","size":316220,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025055,"status":"success","stage":"stage-2","name":"library:ci-unimath","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.962Z","started_at":"2020-05-11T15:30:18.797Z","finished_at":"2020-05-11T16:45:57.064Z","duration":4538.267009,"queued_duration":3.474746,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025055","artifacts":[{"file_type":"trace","size":225393,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025053,"status":"success","stage":"stage-2","name":"library:ci-tlc","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.944Z","started_at":"2020-05-11T15:10:01.615Z","finished_at":"2020-05-11T15:14:33.355Z","duration":271.74041,"queued_duration":1.497277,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025053","artifacts":[{"file_type":"trace","size":232096,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025051,"status":"success","stage":"stage-2","name":"library:ci-stdlib2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.926Z","started_at":"2020-05-11T15:30:18.746Z","finished_at":"2020-05-11T15:33:49.672Z","duration":210.92677,"queued_duration":3.483125,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025051","artifacts":[{"file_type":"trace","size":38150,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025050,"status":"failed","stage":"stage-2","name":"library:ci-sf","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.909Z","started_at":"2020-05-11T15:10:01.327Z","finished_at":"2020-05-11T15:11:35.643Z","duration":94.315986,"queued_duration":1.269457,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547025050","artifacts":[{"file_type":"trace","size":56329,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025048,"status":"success","stage":"stage-2","name":"library:ci-mathcomp","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.895Z","started_at":"2020-05-11T15:30:18.699Z","finished_at":"2020-05-11T16:54:22.842Z","duration":5044.143328,"queued_duration":3.49872,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025048","artifacts":[{"file_type":"trace","size":420200,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025047,"status":"success","stage":"stage-2","name":"library:ci-lambda_rust","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.879Z","started_at":"2020-05-11T15:30:18.614Z","finished_at":"2020-05-11T16:19:58.154Z","duration":2979.540317,"queued_duration":3.474557,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025047","artifacts":[{"file_type":"trace","size":330887,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025045,"status":"success","stage":"stage-2","name":"library:ci-hott","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.862Z","started_at":"2020-05-11T15:10:01.223Z","finished_at":"2020-05-11T15:21:09.760Z","duration":668.537742,"queued_duration":1.226384,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025045","artifacts":[{"file_type":"trace","size":132190,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025044,"status":"success","stage":"stage-2","name":"library:ci-geocoq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.844Z","started_at":"2020-05-11T15:30:17.514Z","finished_at":"2020-05-11T16:13:55.423Z","duration":2617.908875,"queued_duration":2.436306,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025044","artifacts":[{"file_type":"trace","size":502366,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025043,"status":"success","stage":"stage-2","name":"library:ci-flocq","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.820Z","started_at":"2020-05-11T15:30:16.045Z","finished_at":"2020-05-11T15:37:32.878Z","duration":436.83352,"queued_duration":1.033478,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025043","artifacts":[{"file_type":"trace","size":125355,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025041,"status":"success","stage":"stage-2","name":"library:ci-fcsl_pcm","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.801Z","started_at":"2020-05-11T15:10:01.175Z","finished_at":"2020-05-11T15:14:43.341Z","duration":282.166645,"queued_duration":1.492681,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025041","artifacts":[{"file_type":"trace","size":148783,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025040,"status":"success","stage":"stage-2","name":"library:ci-cross_crypto","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.783Z","started_at":"2020-05-11T15:10:01.122Z","finished_at":"2020-05-11T15:44:02.103Z","duration":2040.981099,"queued_duration":1.500477,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025040","artifacts":[{"file_type":"trace","size":177466,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025039,"status":"success","stage":"stage-2","name":"library:ci-coquelicot","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.765Z","started_at":"2020-05-11T15:10:01.069Z","finished_at":"2020-05-11T15:15:56.866Z","duration":355.797114,"queued_duration":1.512719,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025039","artifacts":[{"file_type":"trace","size":186663,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025037,"status":"success","stage":"stage-2","name":"library:ci-coq_tools","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.747Z","started_at":"2020-05-11T15:10:00.902Z","finished_at":"2020-05-11T15:15:53.924Z","duration":353.022074,"queued_duration":1.397006,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025037","artifacts":[{"file_type":"trace","size":558687,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025036,"status":"success","stage":"stage-2","name":"library:ci-compcert","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.729Z","started_at":"2020-05-11T15:30:15.965Z","finished_at":"2020-05-11T15:52:04.045Z","duration":1308.080075,"queued_duration":1.017198,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025036","artifacts":[{"file_type":"trace","size":4194362,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025035,"status":"success","stage":"stage-2","name":"library:ci-bedrock2","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.713Z","started_at":"2020-05-11T15:30:15.836Z","finished_at":"2020-05-11T16:58:42.794Z","duration":5306.957143,"queued_duration":0.953934,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025035","artifacts":[{"file_type":"trace","size":486724,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025033,"status":"success","stage":"stage-2","name":"library:ci-bbv","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.694Z","started_at":"2020-05-11T15:10:00.854Z","finished_at":"2020-05-11T15:13:47.579Z","duration":226.724786,"queued_duration":1.406284,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025033","artifacts":[{"file_type":"trace","size":118206,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025032,"status":"success","stage":"stage-2","name":"library:ci-argosy","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.679Z","started_at":"2020-05-11T15:10:00.801Z","finished_at":"2020-05-11T15:14:25.583Z","duration":264.78156,"queued_duration":1.407316,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025032","artifacts":[{"file_type":"trace","size":143004,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025031,"status":"success","stage":"stage-2","name":"validate:quick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.665Z","started_at":"2020-05-11T15:19:28.166Z","finished_at":"2020-05-11T15:21:46.427Z","duration":138.260744,"queued_duration":0.633,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025031","artifacts":[{"file_type":"trace","size":170401,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-10T15:21:44.913Z","tag_list":[]}
{"id":547025029,"status":"success","stage":"stage-2","name":"validate:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.649Z","started_at":"2020-05-11T15:30:15.167Z","finished_at":"2020-05-11T15:35:17.783Z","duration":302.615172,"queued_duration":0.35843,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025029","artifacts":[{"file_type":"trace","size":72020,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-10T15:35:15.979Z","tag_list":[]}
{"id":547025028,"status":"success","stage":"stage-2","name":"validate:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.633Z","started_at":"2020-05-11T15:08:07.619Z","finished_at":"2020-05-11T15:13:43.204Z","duration":335.584138,"queued_duration":0.838783,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025028","artifacts":[{"file_type":"trace","size":87204,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-10T15:13:38.051Z","tag_list":[]}
{"id":547025026,"status":"success","stage":"stage-2","name":"validate:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.612Z","started_at":"2020-05-11T15:10:00.754Z","finished_at":"2020-05-11T15:15:06.244Z","duration":305.489983,"queued_duration":1.414445,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025026","artifacts":[{"file_type":"trace","size":38061,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-10T15:15:04.793Z","tag_list":[]}
{"id":547025024,"status":"failed","stage":"stage-2","name":"test-suite:base+async","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-11T14:59:44.598Z","started_at":"2020-05-11T15:10:00.662Z","finished_at":"2020-05-11T15:42:16.556Z","duration":1935.893859,"queued_duration":1.390423,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"failure_reason":"script_failure","web_url":"https://gitlab.com/coq/coq/-/jobs/547025024","artifacts":[{"file_type":"trace","size":99181,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025023,"status":"success","stage":"stage-2","name":"test-suite:edge:dune:dev","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.584Z","started_at":"2020-05-11T15:19:48.933Z","finished_at":"2020-05-11T15:41:44.962Z","duration":1316.028795,"queued_duration":0.882672,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025023","artifacts":[{"file_type":"trace","size":98708,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025022,"status":"success","stage":"stage-2","name":"test-suite:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.567Z","started_at":"2020-05-11T15:30:15.101Z","finished_at":"2020-05-11T15:57:29.980Z","duration":1634.879433,"queued_duration":0.364767,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025022","artifacts":[{"file_type":"trace","size":98891,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025021,"status":"success","stage":"stage-2","name":"test-suite:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.551Z","started_at":"2020-05-11T15:08:06.839Z","finished_at":"2020-05-11T15:18:05.277Z","duration":598.438642,"queued_duration":0.114546,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025021","artifacts":[{"file_type":"trace","size":236341,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025020,"status":"success","stage":"stage-2","name":"test-suite:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.533Z","started_at":"2020-05-11T15:10:00.532Z","finished_at":"2020-05-11T15:32:55.946Z","duration":1375.414697,"queued_duration":1.316213,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025020","artifacts":[{"file_type":"trace","size":98594,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025019,"status":"success","stage":"stage-2","name":"doc:ml-api:odoc","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.520Z","started_at":"2020-05-11T15:19:48.881Z","finished_at":"2020-05-11T15:24:20.306Z","duration":271.424846,"queued_duration":0.898213,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025019","artifacts":[{"file_type":"trace","size":79444,"filename":"job.log","file_format":null}],"runner":{"id":44949,"description":"shared-runners-manager-4.gitlab.com","ip_address":"13.37.237.197","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-10T15:24:18.236Z","tag_list":[]}
{"id":547025018,"status":"success","stage":"stage-2","name":"doc:stdlib:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.506Z","started_at":"2020-05-11T15:19:48.790Z","finished_at":"2020-05-11T15:21:59.208Z","duration":130.41772,"queued_duration":0.874559,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025018","artifacts":[{"file_type":"trace","size":111001,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-10T15:21:56.391Z","tag_list":[]}
{"id":547025017,"status":"success","stage":"stage-2","name":"doc:refman-pdf:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.490Z","started_at":"2020-05-11T15:19:48.725Z","finished_at":"2020-05-11T15:28:07.634Z","duration":498.909038,"queued_duration":0.876827,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025017","artifacts":[{"file_type":"trace","size":26762,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-10T15:28:05.949Z","tag_list":[]}
{"id":547025015,"status":"success","stage":"stage-2","name":"doc:refman:dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.470Z","started_at":"2020-05-11T15:19:48.503Z","finished_at":"2020-05-11T15:26:27.416Z","duration":398.913526,"queued_duration":0.713327,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025015","artifacts":[{"file_type":"trace","size":24927,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-07-10T15:26:25.809Z","tag_list":[]}
{"id":547025013,"status":"success","stage":"stage-2","name":"doc:refman","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.454Z","started_at":"2020-05-11T15:09:59.274Z","finished_at":"2020-05-11T15:15:35.809Z","duration":336.534759,"queued_duration":0.122188,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025013","artifacts":[{"file_type":"trace","size":1701227,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-07-10T15:15:34.053Z","tag_list":[]}
{"id":547025011,"status":"success","stage":"stage-1","name":"plugin:plugin-tutorial","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.413Z","started_at":"2020-05-11T14:59:48.128Z","finished_at":"2020-05-11T15:09:56.696Z","duration":608.567618,"queued_duration":1.916228,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025011","artifacts":[{"file_type":"trace","size":85281,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025009,"status":"success","stage":"stage-1","name":"test-suite:edge+4.11+trunk+dune","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-11T14:59:44.393Z","started_at":"2020-05-11T14:59:47.765Z","finished_at":"2020-05-11T15:33:21.722Z","duration":2013.956899,"queued_duration":1.575617,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025009","artifacts":[{"file_type":"trace","size":125190,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-25T15:33:19.484Z","tag_list":[]}
{"id":547025008,"status":"success","stage":"stage-1","name":"pkg:nix","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.374Z","started_at":"2020-05-11T14:59:47.399Z","finished_at":"2020-05-11T15:24:53.362Z","duration":1505.963003,"queued_duration":1.233536,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025008","artifacts":[{"file_type":"trace","size":609380,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":null,"tag_list":[]}
{"id":547025007,"status":"success","stage":"stage-1","name":"pkg:opam","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.355Z","started_at":"2020-05-11T14:59:46.860Z","finished_at":"2020-05-11T15:25:49.296Z","duration":1562.436136,"queued_duration":0.717433,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025007","artifacts":[{"file_type":"trace","size":22787,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025006,"status":"success","stage":"stage-1","name":"lint","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.340Z","started_at":"2020-05-11T14:59:46.813Z","finished_at":"2020-05-11T15:05:15.973Z","duration":329.159886,"queued_duration":0.700076,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025006","artifacts":[{"file_type":"trace","size":39869,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":null,"tag_list":[]}
{"id":547025005,"status":"success","stage":"stage-1","name":"windows64","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.313Z","started_at":"2020-05-11T14:59:46.422Z","finished_at":"2020-05-11T15:53:26.034Z","duration":3219.612083,"queued_duration":0.332173,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025005","artifacts":[{"file_type":"trace","size":241913,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-18T15:53:24.751Z","tag_list":["windows-inria"]}
{"id":547025004,"status":"success","stage":"stage-1","name":"build:quick","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-11T14:59:44.289Z","started_at":"2020-05-11T14:59:46.772Z","finished_at":"2020-05-11T15:19:27.387Z","duration":1180.615341,"queued_duration":0.70631,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025004","artifacts":[{"file_type":"trace","size":199066,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-18T15:19:25.297Z","tag_list":[]}
{"id":547025002,"status":"success","stage":"stage-1","name":"build:base+async","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":true,"created_at":"2020-05-11T14:59:44.263Z","started_at":"2020-05-11T14:59:46.725Z","finished_at":"2020-05-11T16:15:09.782Z","duration":4523.056057,"queued_duration":0.691819,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025002","artifacts":[{"file_type":"trace","size":281700,"filename":"job.log","file_format":null}],"runner":{"id":380987,"description":"shared-runners-manager-6.gitlab.com","ip_address":"34.74.239.13","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-18T16:15:07.908Z","tag_list":[]}
{"id":547025001,"status":"success","stage":"stage-1","name":"build:edge+flambda:dune:dev","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.236Z","started_at":"2020-05-11T14:59:46.677Z","finished_at":"2020-05-11T15:19:47.638Z","duration":1200.960982,"queued_duration":0.688969,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025001","artifacts":[{"file_type":"trace","size":22054,"filename":"job.log","file_format":null}],"runner":{"id":380986,"description":"shared-runners-manager-5.gitlab.com","ip_address":"34.74.209.140","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-18T15:19:46.213Z","tag_list":[]}
{"id":547025000,"status":"success","stage":"stage-1","name":"build:edge+flambda","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.201Z","started_at":"2020-05-11T14:59:46.458Z","finished_at":"2020-05-11T15:30:14.583Z","duration":1828.125298,"queued_duration":0.497137,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547025000","artifacts":[{"file_type":"trace","size":282246,"filename":"job.log","file_format":null}],"runner":{"id":44028,"description":"shared-runners-manager-3.gitlab.com","ip_address":"35.196.21.178","active":true,"paused":false,"is_shared":true,"runner_type":"instance_type","name":"gitlab-runner","online":false,"status":"stale"},"artifacts_expire_at":"2020-05-18T15:30:12.522Z","tag_list":[]}
{"id":547024999,"status":"success","stage":"stage-1","name":"build:base+32bit","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.172Z","started_at":"2020-05-11T14:59:46.302Z","finished_at":"2020-05-11T15:08:06.550Z","duration":500.247554,"queued_duration":0.373281,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547024999","artifacts":[{"file_type":"trace","size":276554,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-18T15:08:04.288Z","tag_list":[]}
{"id":547024998,"status":"success","stage":"stage-1","name":"build:base","ref":"pr-12301","tag":false,"coverage":null,"allow_failure":false,"created_at":"2020-05-11T14:59:44.144Z","started_at":"2020-05-11T14:59:46.245Z","finished_at":"2020-05-11T15:09:58.984Z","duration":612.739088,"queued_duration":0.34828,"user":{"id":2256237,"username":"coqbot","name":"coqbot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2256237/avatar.png","web_url":"https://gitlab.com/coqbot","created_at":"2018-04-28T07:53:57.210Z","bio":"Hello, I'm a bot.","location":"","public_email":"","skype":"","linkedin":"","twitter":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","short_id":"5e2c9d46","created_at":"2020-05-11T16:49:39.000+02:00","parent_ids":["8b8bb8ee27e922a4fff3b8cc08fdb88344efaa4d"],"title":"[declare] Grand unification of the proof save path.","message":"[declare] Grand unification of the proof save path.\n\nWe complete some arduous refactoring in order to bring all the\ninternals and code of constant / proof saving into the same module.\n\nIn particular, this PR moves the remaining parts of proof saving from\n`Lemmas` to `Declare`.\n\nThe reduction in exposed internals is considerable; in particular, we\nremove the export of the internals of `proof_entry` and `proof_object`\n[used in delayed proofs], which will allow us to start to address many\nissues with the current setup, such as #10363 .\n\nThere are still some TODOs, that will be addressed in subsequent PRs:\n\n- Remove `declare_constant` in favor of higher-level APIs\n- Then, remove access to `proof_entry` entirely\n- Refactor current very verbose handling of proof info.\n- Remove compat modules / API.\n- Rework handling of delayed proofs [this may be hard due to state and the STM]\n- Reify Hook API for the case where it acts as a continuation [that is to say, declaring constants from the Hook]\n\nList of remaining offenders for `proof_entry` / `declare_constant` in\nthe codebase:\n\n- File \"vernac/comHints.ml\"\n- File \"vernac/indschemes.ml\"\n- File \"vernac/comProgramFixpoint.ml\"\n- File \"vernac/comAssumption.ml\"\n- File \"vernac/record.ml\"\n- File \"plugins/ltac/leminv.ml\"\n- File \"plugins/setoid_ring/newring.ml\"\n- File \"plugins/funind/recdef.ml\"\n- File \"plugins/funind/gen_principle.ml\"\n","author_name":"Emilio Jesus Gallego Arias","author_email":"e+git@x80.org","authored_date":"2020-05-11T04:09:31.000+02:00","committer_name":"Emilio Jesus Gallego Arias","committer_email":"e+git@x80.org","committed_date":"2020-05-11T16:49:39.000+02:00","trailers":{},"web_url":"https://gitlab.com/coq/coq/-/commit/5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788"},"pipeline":{"id":144820300,"iid":16015,"project_id":6138686,"sha":"5e2c9d46ba21f96b86f8c56cf664a55aa1ed5788","ref":"pr-12301","status":"failed","source":"push","created_at":"2020-05-11T14:59:44.077Z","updated_at":"2020-05-11T17:43:58.853Z","web_url":"https://gitlab.com/coq/coq/-/pipelines/144820300"},"web_url":"https://gitlab.com/coq/coq/-/jobs/547024998","artifacts":[{"file_type":"trace","size":314092,"filename":"job.log","file_format":null}],"runner":null,"artifacts_expire_at":"2020-05-18T15:09:56.950Z","tag_list":[]}
